(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[7],{1:function(e,t,n){"use strict";n.d(t,"Q",(function(){return l})),n.d(t,"E",(function(){return f})),n.d(t,"V",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"Pb",(function(){return m})),n.d(t,"A",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"Hb",(function(){return y})),n.d(t,"v",(function(){return E})),n.d(t,"sb",(function(){return b})),n.d(t,"tb",(function(){return A})),n.d(t,"Z",(function(){return I})),n.d(t,"jb",(function(){return O})),n.d(t,"m",(function(){return T})),n.d(t,"O",(function(){return j})),n.d(t,"db",(function(){return S})),n.d(t,"j",(function(){return w})),n.d(t,"i",(function(){return _})),n.d(t,"Tb",(function(){return P})),n.d(t,"Sb",(function(){return x})),n.d(t,"Qb",(function(){return N})),n.d(t,"R",(function(){return D})),n.d(t,"W",(function(){return R})),n.d(t,"U",(function(){return C})),n.d(t,"bb",(function(){return F})),n.d(t,"Y",(function(){return L})),n.d(t,"Nb",(function(){return k})),n.d(t,"cb",(function(){return U})),n.d(t,"S",(function(){return M})),n.d(t,"P",(function(){return B})),n.d(t,"Ib",(function(){return W})),n.d(t,"T",(function(){return H})),n.d(t,"N",(function(){return q})),n.d(t,"kb",(function(){return G})),n.d(t,"l",(function(){return V})),n.d(t,"ob",(function(){return Y})),n.d(t,"pb",(function(){return X})),n.d(t,"nb",(function(){return K})),n.d(t,"C",(function(){return z})),n.d(t,"mb",(function(){return J})),n.d(t,"b",(function(){return Q})),n.d(t,"xb",(function(){return Z})),n.d(t,"u",(function(){return $})),n.d(t,"e",(function(){return ee})),n.d(t,"Kb",(function(){return te})),n.d(t,"x",(function(){return ne})),n.d(t,"f",(function(){return re})),n.d(t,"Lb",(function(){return oe})),n.d(t,"y",(function(){return ie})),n.d(t,"I",(function(){return ae})),n.d(t,"H",(function(){return ce})),n.d(t,"G",(function(){return ue})),n.d(t,"F",(function(){return se})),n.d(t,"hb",(function(){return de})),n.d(t,"D",(function(){return le})),n.d(t,"Ob",(function(){return fe})),n.d(t,"Rb",(function(){return pe})),n.d(t,"Mb",(function(){return ge})),n.d(t,"M",(function(){return me})),n.d(t,"lb",(function(){return ve})),n.d(t,"vb",(function(){return he})),n.d(t,"K",(function(){return ye})),n.d(t,"ub",(function(){return Ee})),n.d(t,"ab",(function(){return be})),n.d(t,"n",(function(){return Ae})),n.d(t,"r",(function(){return Ie})),n.d(t,"s",(function(){return Oe})),n.d(t,"d",(function(){return Te})),n.d(t,"Jb",(function(){return je})),n.d(t,"w",(function(){return Se})),n.d(t,"q",(function(){return we})),n.d(t,"a",(function(){return _e})),n.d(t,"wb",(function(){return Pe})),n.d(t,"p",(function(){return xe})),n.d(t,"Gb",(function(){return Ne})),n.d(t,"Db",(function(){return De})),n.d(t,"Cb",(function(){return Re})),n.d(t,"Eb",(function(){return Ce})),n.d(t,"Bb",(function(){return Fe})),n.d(t,"t",(function(){return Le})),n.d(t,"eb",(function(){return ke})),n.d(t,"fb",(function(){return Ue})),n.d(t,"o",(function(){return Me})),n.d(t,"J",(function(){return Be})),n.d(t,"rb",(function(){return We})),n.d(t,"k",(function(){return He})),n.d(t,"B",(function(){return qe})),n.d(t,"ib",(function(){return Ge})),n.d(t,"Ub",(function(){return Ve})),n.d(t,"Ab",(function(){return Ye})),n.d(t,"zb",(function(){return Xe})),n.d(t,"Fb",(function(){return Ke})),n.d(t,"z",(function(){return ze})),n.d(t,"h",(function(){return Je})),n.d(t,"L",(function(){return Qe})),n.d(t,"gb",(function(){return Ze})),n.d(t,"X",(function(){return $e})),n.d(t,"qb",(function(){return et})),n.d(t,"yb",(function(){return tt})),n.d(t,"md",(function(){return rt})),n.d(t,"cc",(function(){return ot})),n.d(t,"Pc",(function(){return it})),n.d(t,"Ld",(function(){return at})),n.d(t,"Bc",(function(){return ct})),n.d(t,"wd",(function(){return ut})),n.d(t,"hd",(function(){return st})),n.d(t,"rd",(function(){return dt})),n.d(t,"Nd",(function(){return lt})),n.d(t,"od",(function(){return ft})),n.d(t,"ed",(function(){return pt})),n.d(t,"Uc",(function(){return gt})),n.d(t,"Rc",(function(){return mt})),n.d(t,"Vc",(function(){return yt})),n.d(t,"Yc",(function(){return Et})),n.d(t,"id",(function(){return bt})),n.d(t,"ic",(function(){return At})),n.d(t,"lc",(function(){return It})),n.d(t,"mc",(function(){return Ot})),n.d(t,"Md",(function(){return Tt})),n.d(t,"gd",(function(){return jt})),n.d(t,"bd",(function(){return St})),n.d(t,"ad",(function(){return wt})),n.d(t,"dd",(function(){return _t})),n.d(t,"pd",(function(){return Pt})),n.d(t,"sd",(function(){return xt})),n.d(t,"Wc",(function(){return Nt})),n.d(t,"Cc",(function(){return Dt})),n.d(t,"cd",(function(){return Rt})),n.d(t,"bc",(function(){return Ct})),n.d(t,"Od",(function(){return Ft})),n.d(t,"vc",(function(){return Lt})),n.d(t,"Xb",(function(){return kt})),n.d(t,"Hd",(function(){return Ut})),n.d(t,"qc",(function(){return Mt})),n.d(t,"ud",(function(){return Bt})),n.d(t,"vd",(function(){return Wt})),n.d(t,"Zc",(function(){return qt})),n.d(t,"fd",(function(){return Gt})),n.d(t,"hc",(function(){return Xt})),n.d(t,"gc",(function(){return Kt})),n.d(t,"ec",(function(){return zt})),n.d(t,"dc",(function(){return Jt})),n.d(t,"xd",(function(){return Qt})),n.d(t,"Nc",(function(){return Zt})),n.d(t,"Rd",(function(){return $t})),n.d(t,"Qd",(function(){return en})),n.d(t,"Qc",(function(){return tn})),n.d(t,"Wb",(function(){return nn})),n.d(t,"pc",(function(){return rn})),n.d(t,"Zb",(function(){return on})),n.d(t,"ac",(function(){return an})),n.d(t,"Kd",(function(){return cn})),n.d(t,"tc",(function(){return un})),n.d(t,"Jd",(function(){return sn})),n.d(t,"sc",(function(){return dn})),n.d(t,"Hc",(function(){return ln})),n.d(t,"Gc",(function(){return fn})),n.d(t,"Fc",(function(){return pn})),n.d(t,"Ec",(function(){return gn})),n.d(t,"Pd",(function(){return mn})),n.d(t,"Xc",(function(){return vn})),n.d(t,"yc",(function(){return hn})),n.d(t,"oc",(function(){return En})),n.d(t,"qd",(function(){return In})),n.d(t,"Dc",(function(){return On})),n.d(t,"zc",(function(){return jn})),n.d(t,"Oc",(function(){return Sn})),n.d(t,"Tc",(function(){return Pn})),n.d(t,"wc",(function(){return xn})),n.d(t,"Mc",(function(){return Nn})),n.d(t,"Sd",(function(){return Dn})),n.d(t,"Td",(function(){return Rn})),n.d(t,"jd",(function(){return Cn})),n.d(t,"Sc",(function(){return Mn})),n.d(t,"Kc",(function(){return Bn})),n.d(t,"Lc",(function(){return Wn})),n.d(t,"Ic",(function(){return Hn})),n.d(t,"Ac",(function(){return qn})),n.d(t,"uc",(function(){return Gn})),n.d(t,"nd",(function(){return Vn})),n.d(t,"xc",(function(){return Yn})),n.d(t,"fc",(function(){return Kn})),n.d(t,"Yb",(function(){return zn})),n.d(t,"Id",(function(){return Jn})),n.d(t,"rc",(function(){return Qn})),n.d(t,"ld",(function(){return Zn})),n.d(t,"Vb",(function(){return $n})),n.d(t,"yd",(function(){return er})),n.d(t,"Gd",(function(){return tr})),n.d(t,"Dd",(function(){return nr})),n.d(t,"Ed",(function(){return rr})),n.d(t,"Cd",(function(){return or})),n.d(t,"Bd",(function(){return ir})),n.d(t,"Ad",(function(){return ar})),n.d(t,"zd",(function(){return cr})),n.d(t,"Fd",(function(){return ur})),n.d(t,"nc",(function(){return sr})),n.d(t,"kd",(function(){return dr})),n.d(t,"Jc",(function(){return lr})),n.d(t,"td",(function(){return fr})),n.d(t,"jc",(function(){return pr})),n.d(t,"kc",(function(){return gr})),n.d(t,"Ud",(function(){return vr}));var r=n(15),o=n(3),i=n(2),a=n.n(i),c=n(6),u=n(4),s=n(8),d=n(37),l="SET_CREATOR_SCENE",f="INITIALIZE_ELEMENTS_PANEL",p="SET_METADATA_PROPERTY",g="ADD_LIBRARY_URL",m="UPDATE_LIBRARY_URL",v="DELETE_LIBRARY_URL",h="ADD_DATA_SET",y="UPDATE_DATA_SET_PROPERTY",E="DELETE_DATA_SET",b="TOGGLE_AI",A="TOGGLE_ELEMENT_LEVEL_AI",I="SET_PROJ_FONT",O="SET_UPLOAD_FONT_STATUS",T="CLEAN_STATES",j="SET_ASSET_PROCESS_STATUS",S="SET_RESYNC_SPINE_STATUS",w="CHANGE_SCENE",_="CHANGE_ARTBOARD",P="UPDATE_PROPERTY",x="UPDATE_PROPERTIES",N="UPDATE_OVERRIDES",D="SET_CURRENT_ELEMENT",R="SET_MODAL_TYPE",C="SET_EXPAND_NOTIFICATION_PANEL",F="SET_REBUILD_PROJECT_STATUS",L="SET_PROJECT_SIZE_TYPE",k="UPDATE_GAME_AD_CONFIG",U="SET_REBUILD_SIGNAL",M="SET_EDITOR_STATUS",B="SET_CODE_EDITOR_SCENE",W="UPDATE_EDITOR_ERROR",H="SET_ELEMENT_EXPANDED",q="RESOLVE_CODE_EDITOR_ERROR",G="SET_WARNING_MESSAGE",V="CLEAN_EDITOR_STATES",Y="SHOW_SHARE_MODAL",X="SHOW_SHARE_STATUS",K="SHOW_EXPORT_MODAL",z="DISABLE_ELEM_AI_SCALE",J="SHOW_DOWNLOAD_MODAL",Q="ADD_COMPONENT",Z="UPDATE_COMPONENT",$="DELETE_COMPONENT",ee="ADD_FEATURE",te="UPDATE_FEATURE",ne="DELETE_FEATURE",re="ADD_FEATURE_ACTION",oe="UPDATE_FEATURE_ACTION",ie="DELETE_FEATURE_ACTION",ae="MOVE_FEATURE_UP",ce="MOVE_FEATURE_DOWN",ue="MOVE_ACTION_UP",se="MOVE_ACTION_DOWN",de="SET_SPINE_ENABLED",le="INCREMENT_PHASER_REFRESH_NUM",fe="UPDATE_GOOGLE_FONTS",pe="UPDATE_PAGE_COMPONENTS",ge="UPDATE_FONT_IN_AD_CONFIG",me="REPLACE_FONT",ve="SET_WEBSITE_LOADED",he="UNDO",ye="REDO",Ee="TOGGLE_PROPERTIES_PANEL_SECTION_EXPANDED_STATE",be="SET_PROPERTIES_PANEL_SECTION_EXPANDED_STATE",Ae="CLEAR_OVERRIDES_FOR_ELEMENT",Ie="CREATE_NEW_TIMELINE_WITH_TWEEN",Oe="CREATE_TWEEN_IN_CURRENT_TIMELINE",Te="ADD_EVENT_TIMELINE",je="UPDATE_EVENT_TIMELINE",Se="DELETE_EVENT_TIMELINE",we="CLONE_EVENT_TIMELINE",_e="ADD_ACTION",Pe="UPDATE_ACTION",xe="CLONE_ACTION",Ne="UPDATE_CONFIG_FOR_TWEEN",De="UPDATE_CONFIG_FOR_SET_PROPERTY",Re="UPDATE_CONFIG_FOR_SEQUENCE",Ce="UPDATE_CONFIG_FOR_SOUND",Fe="UPDATE_CONFIG_FOR_SCENE_TRANSITION",Le="DELETE_ACTION",ke="SET_SELECTED_ACTION",Ue="SET_SELECTED_EVENT_TIMELINE",Me="CLEAR_SELECTED_EVENT_TIMELINE",Be="PREVIEW_EVENT_TIMELINE",We="STOP_PREVIEW_EVENT_TIMELINE",He="CHECK_FIELD_VALIDITY",qe="DIRECT_TO_ERROR_FIX",Ge="SET_TIMELINE_EXPAND_STATUS",Ve="VALIDATE_ALL",Ye="UPDATE_CONFIG_FOR_RAISE_EVENT",Xe="UPDATE_CONFIG_FOR_PLAY_TIMELINE",Ke="UPDATE_CONFIG_FOR_SPINE",ze="DELETE_FONT_ERROR_FROM_LOG",Je="ADD_SELECTED_TIMELINE_TO_PAGE_LOAD_FEATURE",Qe="REMOVE_SELECTED_TIMELINE_FROM_PAGE_LOAD_FEATURE",Ze="SET_SHOW_WHATS_NEW",$e="SET_PROCESSING_STATUS",et="START_RELOAD_WEBSITE",tt="UPDATE_COMPONENT_USAGE",nt=function(e){return{type:J,show:e}},rt=function(e){return{type:Ze,show:e}},ot=function(){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";e(Object(u.l)(window.document.href,"Adding timeline to page load",t().selectedEventTimeline.id,n,"")),e({type:Je})}},it=function(){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";e(Object(u.l)(window.document.href,"Removing timeline from page load",t().selectedEventTimeline.id,n,"")),e({type:Qe})}},at=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Updating font in ad config",e+":"+t,o,"")),n({type:ge,fontFamily:e,fontWeight:t})}},ct=function(){return{type:le}},ut=function(e){return{type:Ee,section:e}},st=function(e,t){return{type:be,section:e,expandedState:t}},dt=function(e){return{type:K,show:e}},lt=function(e){return{type:fe,googleFonts:e}},ft=function(e){return{type:G,warningMessage:e}},pt=function(e){return{type:$e,status:e}},gt=function(e){return function(t,n){t(ht(e));t(Kn({field:"code"}))}},mt=function(e){return function(t,n){t(vt(e));t(Kn({field:"code"}))}},vt=function(e){return{type:q,cleanScene:e}},ht=function(e){return{type:W,errorScene:e}},yt=function(e){return{type:B,sceneName:e}},Et=function(e){return{type:M,show:e}},bt=function(e){return{type:U,signal:e}},At=function(e,t,n){return function(r,o){var i=o().projectInfo?o().projectInfo.id:"";r(Object(u.l)(window.document.href,"Clearing overrides for element",o().currentElement.guid,i,"")),r({type:Ae,scene:e,guid:t,elementType:n})}},It=function(e,t,n){return function(r,o){var i=o().projectInfo?o().projectInfo.id:"";r(Object(u.l)(window.document.href,"Creating new timeline with tween",t,i,"")),r({type:Ie,scene:e,guid:t,elementType:n})}},Ot=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Creating tween in current timeline",e,o,"")),n({type:Oe,guid:e,elementType:t})}},Tt=function(e){return{type:k,gameAdConfig:e}},jt=function(e){return{type:L,projectSizeType:e}},St=function(e){return{type:F,isRebuilding:e}},wt=function(e){return{type:C,expand:e}},_t=function(e){return{type:R,modalType:e}},Pt=function(e,t){return{type:ve,loaded:e,questai:t}},xt=function(){return{type:et}},Nt=function(e){return function(t){e.gameConfig.orientation_portrait?t(jt("portrait")):t(jt("custom"));var n={orientation_portrait:e.gameConfig.orientation_portrait,orientation_auto:e.gameConfig.orientation_auto,GAME_HEIGHT:e.gameConfig.GAME_HEIGHT,GAME_WIDTH:e.gameConfig.GAME_WIDTH,GAME_MAX_WIDTH:e.gameConfig.GAME_MAX_WIDTH};t(Tt(n)),t(function(e){return{type:l,creatorScene:e}}(e))}},Dt=function(e){return{type:f,eventTimeline:e}},Rt=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Setting metadata property",e+":"+t,o,"")),n({type:p,prop:e,value:t})}},Ct=function(){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";e(Object(u.l)(window.document.href,"Adding Library url","",n,"")),e({type:g})}},Ft=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Updating Library url",e+":"+t,o,"")),n({type:m,index:e,value:t})}},Lt=function(e){return function(t,n){var r=n().projectInfo?n().projectInfo.id:"";t(Object(u.l)(window.document.href,"Deleting Library url",e,r,"")),t({type:v,index:e})}},kt=function(){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";e(Object(u.l)(window.document.href,"Adding data set","",n,"")),e({type:h})}},Ut=function(e,t,n){return function(r,o){var i=o().projectInfo?o().projectInfo.id:"";r(Object(u.l)(window.document.href,"Updating data set property",e+":"+t+":"+n,i,"")),r({type:y,id:e,name:t,value:n})}},Mt=function(e){return function(t,n){var r=n().projectInfo?n().projectInfo.id:"";t(Object(u.l)(window.document.href,"Deleting data set","",r,"")),t({type:E,id:e})}},Bt=function(){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";e(Object(u.l)(window.document.href,"Toggling AI","",n,"")),e({type:b})}},Wt=function(){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";e(Object(u.l)(window.document.href,"Toggling element level AI",t().currentElement?t().currentElement.guid:"",n,"")),e({type:A})}},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:O,uploadFontStatus:e}},qt=function(e,t){return{type:H,guid:e,expanded:t}},Gt=function(e){return function(t,n){var r=n().projectInfo?n().projectInfo.id:"";t(Object(u.l)(window.document.href,"Setting project font",e,r,"")),t({type:I,projectFont:e})}},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:j,assetProcessStatus:e}},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:S,resyncSpineStatus:e}},Xt=function(e){return{type:T,stateNames:e}},Kt=function(){return{type:V}},zt=function(e){return{type:w,scene:e}},Jt=function(e){return{type:_,artBoard:e}},Qt=function(){return{type:he}},Zt=function(){return{type:ye}},$t=function(e,t,n,r,o){return function(i,a){var c=a().projectInfo?a().projectInfo.id:"";i(Object(u.l)(window.document.href,"Updating property",n+":"+r,c,"")),i({type:P,scene:e,guid:t,property:n,value:r,skipUpdatePhaser:o})}},en=function(e,t,n,r){return function(i,a){var c,s=a().projectInfo?a().projectInfo.id:"",d="",l=Object(o.a)(n);try{for(l.s();!(c=l.n()).done;){var f=c.value;d+=f.property+":"+f.value}}catch(p){l.e(p)}finally{l.f()}i(Object(u.l)(window.document.href,"Updating properties",d,s,"")),i({type:x,scene:e,guid:t,props:n,skipUpdatePhaser:r})}},tn=function(e,t,n,r){return function(o,i){var a=i().projectInfo?i().projectInfo.id:"",c="Replacing "+e+":"+t+" with "+n+":"+r;o(Object(u.l)(window.document.href,"Updating properties",c,a,"")),o({type:me,oldFontFamily:e,oldFontWeight:t,newFontFamily:n,newFontWeight:r})}},nn=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Adding component: "+t,e,o,"")),n({type:Q,guid:e,componentType:t})}},rn=function(e){return function(t,n){var r=n().projectInfo?n().projectInfo.id:"";t(Object(u.l)(window.document.href,"Deleting component",e,r,"")),t({type:$,id:e})}},on=function(e,t,n,r){return function(o,i){var a=i().projectInfo?i().projectInfo.id:"";o(Object(u.l)(window.document.href,"Adding feature: "+n,t,a,"")),o({type:ee,scene:e,guid:t,featureType:n,extraValue:r})}},an=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Adding feature action: "+t,e,o,"")),n({type:re,featureId:e,featureActionType:t})}},cn=function(e,t,n){return function(r,o){var i=o().projectInfo?o().projectInfo.id:"";r(Object(u.l)(window.document.href,"Updating feature action",e+":"+t+":"+n,i,"")),r({type:oe,id:e,prop:t,value:n})}},un=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Deleting feature action",t,o,"")),n({type:ie,featureId:e,id:t})}},sn=function(e,t,n,r,o){return function(i,a){var c=a().projectInfo?a().projectInfo.id:"";i(Object(u.l)(window.document.href,"Updating feature",e+":"+t+":"+n,c,"")),i({type:te,id:e,prop:t,value:n,width:r,height:o})}},dn=function(e){return function(t,n){var r=n().projectInfo?n().projectInfo.id:"";t(Object(u.l)(window.document.href,"Deleting feature",e,r,"")),t({type:ne,id:e})}},ln=function(e){return function(t,n){var r=n().projectInfo?n().projectInfo.id:"";t(Object(u.l)(window.document.href,"Moving feature up",e,r,"")),t({type:ae,id:e})}},fn=function(e){return function(t,n){var r=n().projectInfo?n().projectInfo.id:"";t(Object(u.l)(window.document.href,"Moving feature up",e,r,"")),t({type:ce,id:e})}},pn=function(){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";e(Object(u.l)(window.document.href,"Moving action up",t().selectedAction,n,"")),e({type:ue})}},gn=function(){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";e(Object(u.l)(window.document.href,"Moving action down",t().selectedAction,n,"")),e({type:se})}},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;return{type:N,gameOverride:e,eventTimelines:t,actions:n,gameAdConfig:r,alertLog:o,features:i,featureActions:a,components:c}},vn=function(e,t,n,r,o){return{type:D,guid:e,elementType:t,skipUpdatePhaser:n,expandParents:r,expandElement:o}},hn=function(e,t){return function(n,r){var o="/api/ide/publish/".concat(e,"?").concat(t);return n(nt(!0)),a()({url:o,method:"GET",responseType:"blob"}).then((function(e){var t=e.headers["content-disposition"].split('"')[1],r=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=r,o.setAttribute("download",t),document.body.appendChild(o),o.click(),n(nt(!1))})).catch((function(e){n(nt(!1)),n(ft("Cannot download file, please try again later."))}))}},yn=function(e,t){var n="/api/ide/deleteAssetFile/".concat(e,"/").concat(t);return a.a.get(n).then((function(e){return e}))},En=function(e,t){return function(e,n){var r=n().projectInfo?n().projectInfo.id:"";return e(Object(u.l)(window.document.href,"Deleting asset files","",r,"")),e(Vt("deleting")),bn(r,t,e).then((function(t){return wn(r,e)}))}},bn=function(e,t,n){for(var r=null,o=function(n){r=r?r.then((function(r){return yn(e,t[n])})):yn(e,t[n])},i=0;i<t.length;i++)o(i);return r},An=function(e){var t="/api/ide/loadProject/"+e;return a.a.get(t)},In=function(e,t,n,r){return function(o,i){o(pt("done share"));var c=i().projectInfo?i().projectInfo.id:"";o(Object(u.l)(window.document.href,"Sharing project","",c,""));return a.a.post("/api/creator/shareProject/",{name:e,projectName:t,emails:n,shareUrl:r})}},On=function(){return function(e,t){return a.a.get("/api/creator/getTeamProjects").then((function(t){var n=t.data.data,r=n&&n.length>0?n.filter((function(e){return 1===e.isComponent&&1===e.published})):[];e(function(e){return{type:pe,pageComponents:e}}(r))}),(function(e){console.log("Failed to get page components"),console.log(e)}))}},Tn=function(e,t,n,r){var o="/api/ide/component/del/"+t+"/"+e;return a.a.post(o,{}).then((function(e){}),(function(e){console.log("Error updating project list fo component")}))},jn=function(e){return function(t,n){var r="/api/ide/component/list/"+e;return a.a.get(r).then((function(e){var n=e.data.data;t(function(e){return{type:tt,componentUsage:e}}(n))}),(function(e){console.log("Failed to get component usage"),console.log(e)}))}},Sn=function(e,t,n){return function(r,o){var i,s=o().projectInfo?o().projectInfo.id:"";if(i="update"===t?"Updating page component":"Removing page component",r(Object(u.l)(window.document.href,i,"",s,"")),"update"===t){var d=o().components.find((function(t){return t.id===e}));d.projectId&&Tn(d.projectId,s,o()),r(function(e,t,n){return function(r,o){var i=o().projectInfo?o().projectInfo.id:"";r(Object(u.l)(window.document.href,"Updating component",e+":"+t+":"+n,i,"")),r({type:Z,id:e,prop:t,value:n})}}(e,"projectId",n)),function(e,t,n,r){var o="/api/ide/component/save/"+t+"/"+e;a.a.post(o,{}).then((function(e){}),(function(e){console.log("Error updating project list fo component")}))}(n,s,o())}else r(rn(e)),Tn(n,s,o());kn(o(),!1,r,!1,null,null,null,!1).then((function(e){r(pt(null)),r(Object(c.K)(s,!0))})).catch((function(e){console.log("Failed to save in refresh for page component")}))}},wn=function(e,t){return An(e).then((function(e){if(e.data&&"ok"===e.data.status){var n=e.data,r=n.audioJSON,o=n.assetFileList,i=n.gameOverride,a=void 0,u=void 0,s=void 0,d=void 0,l=void 0,f=void 0,p=void 0;i&&(a=i.gameOverride,u=i.eventTimelines,s=i.actions,d=i.gameAdConfig,l=i.features,f=i.featureActions,p=i.components),t(mn(a,u,s,d,null,l,f,p)),t(Object(c.Q)(r)),t(Object(c.P)(o)),r&&r.hasOwnProperty("spritemap")?(t(Object(c.R)(Object.keys(r.spritemap))),t(Xt(["assetProcessStatus"]))):(t(Object(c.R)([])),t(Xt(["assetProcessStatus"]))),t(ct())}else console.log("got error when loading project"),console.log(e);return e})).catch((function(e){console.log(e),console.log("got error")}))},_n=function(e,t){return An(e).then((function(e){return e.data&&"ok"===e.data.status?(t(Xt(["resyncSpineStatus"])),t(ct())):(console.log("got error when loading project"),console.log(e)),e})).catch((function(e){console.log(e),console.log("got error")}))},Pn=function(e,t,n){return function(e,r){var o=r().projectInfo?r().projectInfo.id:"";e(Object(u.l)(window.document.href,"Selecting spine file","",o,"")),e(sn(t,"spineKey",n)),e({type:de,value:!0}),e(Mn()),e(Yt("processing")),setTimeout((function(){_n(o,e)}),500)}},xn=function(e,t){return function(e,n){var r=n().projectInfo?n().projectInfo.id:"";e(Object(u.l)(window.document.href,"Deleting spine feature","",r,"")),e(dn(t)),e(Mn()),e(Yt("processing")),setTimeout((function(){_n(r,e)}),500)}},Nn=function(e,t,n){return function(r,o){return n&&r(Tt(n)),r(St(!0)),Ln(o(),null,Date.now()).then((function(n){return An(e).then((function(e){if(e.data&&"ok"===e.data.status){var n=e.data,o=n.projectInfo,i=n.hasAI;o.hasAI=i,r(Object(c.Y)(o)),document.getElementById("phaserFrame").contentWindow.location.reload(),t&&r(Bt()),r(St(!1))}else console.log("got error when rebuilding project"),console.log(e);return e})).catch((function(e){return console.log("Error Rebuilding"),console.log(e),e}))})).catch((function(e){return console.log("Error saving game overrides before rebuilding"),console.log(e),e}))}},Dn=function(e,t,n){return function(e,r){var i=r().projectInfo?r().projectInfo.id:"";e(Object(u.l)(window.document.href,"Uploading assets","",i,""));var c=[];e(Vt("uploading"));var s,d,l=Object(o.a)(t);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(f.replace(/\s/g,"_"))}}catch(v){l.e(v)}finally{l.f()}for(var p=null,g=function(t){d=["/api/ide/uploadAsset",i,c[t]].join("/");var r=new FormData;r.append("file",n[t]);var o={url:d,method:"POST",data:r};p=p?p.then((function(t){a.a.request(o).then((function(e){return e})).catch((function(t){return console.log("Error uploading audio"),console.log(t),e(Vt("error")),t}))})):a.a.request(o).then((function(e){return e})).catch((function(t){return console.log("Error uploading audio"),console.log(t),e(Vt("error")),t}))},m=0;m<t.length;m++)g(m);p.then((function(t){setTimeout((function(){wn(i,e)}),2e3)})).catch((function(t){return console.log("Error uploading audio"),console.log(t),e(Vt("error")),t}))}},Rn=function(e,t,n){return function(e,r){var o=r().projectInfo?r().projectInfo.id:"";e(Object(u.l)(window.document.href,"Uploading font","",o,""));var i=["/api/ide/uploadAsset",o,t.replace(/\s/g,"_")].join("/"),c=new FormData;c.append("file",n);var s={url:i,method:"POST",data:c};return e(Ht("uploading")),a.a.request(s).then((function(t){e(Ht(null))})).catch((function(t){console.log("Error uploading font"),console.log(t),e(Ht("error"))}))}},Cn=function(e){return function(t){var n=window.frames.phaserFrame,r={method:"safeZone",detail:{detail:{value:e}}};n.postMessage(r,"*")}},Fn=function(e,t,n,r,o){t(pt("in progress publish"));var i="/api/ide/publish/"+e.projectInfo.id,u="website"===e.projectInfo.type;return u&&(i=i+"?link="+n+r+"&showInGallery="+o),a.a.post(i,{}).then((function(n){var r=n.data;t(pt("done publish"));var o=r.projectInfo.publishedUrl,i=r.projectInfo.published,a=r.projectInfo.publish_version,s=r.projectInfo.domain_name,d=r.projectInfo.domain_site_path,l=r.projectInfo.showInGallery,f=JSON.parse(JSON.stringify(e.projectInfo));if(f.publishedUrl=o,f.published=i,f.publish_version=a,f.domain_name=s,f.domain_site_path=d,f.showInGallery=l,t(Object(c.Y)(f)),!u){var p=window.frames.phaserFrame,g=window.location,m={method:"saveScreenshot",detail:{detail:{url:g.protocol+"//"+g.host+"/api/ide/uploadAsset/"+e.projectInfo.id+"/screenshot.png?screenshot=true"}}};p.postMessage(m,"*")}}),(function(e){t(pt("error publish")),console.log("Error publishing project")}))},Ln=function(e,t,n){var r="/api/creator/updateCustomization/"+e.projectInfo.id+"?saveMessage="+(t||"")+"&version="+(n||""),o={};return o.gameOverride=e.gameOverride,o.gameDefinition=e.gameDef,o.gameAdConfig=Object.assign({},e.gameAdConfig),delete o.gameAdConfig.__generated,o.eventTimelines=e.eventTimelines,o.actions=e.actions,o.features=e.features,o.featureActions=e.featureActions,o.components=e.components,a.a.post(r,o)},kn=function(e,t,n,o,i,u,s,d){return new Promise((function(l,f){var p=[],g=Date.now(),m=s&&""!==s?s:t?"Project published":o?"Project previewed":"Project saved";p.push(Object(c.O)(e,n,t,1,d)),p.push(Ln(e,m,g)),p=p.concat(function(e,t,n){for(var o,i=e.codeFiles,c="/api/ide/uploadAsset/"+e.projectInfo.id,u=[],s=0,d=Object.entries(i);s<d.length;s++){var l=Object(r.a)(d[s],2),f=l[0],p=l[1];o=c+"/"+f+"?saveMessage="+(t||"")+"&version="+n;var g=new Blob([p],{type:"text/javascript"}),m=new FormData;m.append("file",g);var v={url:o,method:"POST",data:m};u.push(a.a.request(v))}return u}(e,m,g)),e.imageFiles&&Object.entries(e.imageFiles).length>0&&(p=p.concat(function(e,t,n){for(var o,i="/api/ide/uploadAsset/"+e.projectInfo.id,c=[],u=e.imageFiles,s=0,d=Object.entries(u);s<d.length;s++){var l=Object(r.a)(d[s],2)[1];o=i+"/"+l.fileName+"?saveMessage="+(t||"")+"&version="+n;var f=new FormData;f.append("file",l.data);var p={url:o,method:"POST",data:f};c.push(a.a.request(p))}return c}(e,m,g))),s&&s.trim().length>0&&p.push(Un(e.projectInfo.id,s)),n(pt(o?"in progress preview":t?"in progress publish":"saving")),Promise.all(p).then((function(r){o||t||n(pt("saved")),t?Fn(e,n,i,u).then((function(e){l()})).catch((function(e){f()})):o?function(e,t){t(pt("in progress preview"));var n=JSON.parse(JSON.stringify(e.projectInfo));n.previewUrl="",n.previewKey="",n.preview_version="",t(Object(c.Y)(n));var r="/api/ide/publish/"+e.projectInfo.id+"?preview=true";return a.a.post(r,{}).then((function(n){var r=n.data,o=r.projectInfo.previewUrl,i=r.projectInfo.previewKey,a=r.projectInfo.preview_version,u=JSON.parse(JSON.stringify(e.projectInfo));u.previewUrl=o,u.previewKey=i,u.preview_version=a,t(Object(c.Y)(u)),t(pt("done preview"))}),(function(e){t(pt("error preview")),console.log("Error previewing project")}))}(e,n).then((function(e){l()})).catch((function(e){f()})):l()})).catch((function(e){console.log("Failed to save all the items"),console.log(e),n(pt("not saved"))}))}))},Un=function(e,t){var n="/api/ide/saveMessage/"+e+"?msg="+t;return new Promise((function(e,t){a.a.get(n).then((function(t){e({status:"ok"})}),(function(e){console.log("Error saving commit history"),t(e)})).catch((function(e){console.log("Error saving commit history"),t(e)}))}))},Mn=function(e){return function(t,n){var r=n().projectInfo?n().projectInfo.id:"";return t(Object(u.l)(window.document.href,"Saving","",r,"")),kn(n(),!1,t,!1,null,null,e,!1)}},Bn=function(e,t,n){return function(r,o){mr(r).then((function(){if(!o().alertLog.find((function(e){return"error"===e.type}))){var i=o().projectInfo?o().projectInfo.id:"";return r(Object(u.l)(window.document.href,"Publishing","",i,"")),kn(o(),!0,r,!1,e,t,null,n)}r(wt(!0))}))}},Wn=function(e,t,n){return function(r,o){var i=o().projectInfo?o().projectInfo.id:"";r(Object(u.l)(window.document.href,"Publishing from preview","",i,"")),function(e,t){var n="/api/creator/showInGallery/"+e+"?showInGallery="+(t?1:0);return new Promise((function(e,t){a.a.get(n).then((function(t){e({status:"ok"})}),(function(e){console.log("Error saving show in gallery"),t(e)})).catch((function(e){console.log("Error saving show in gallery"),t(e)}))}))}(i,n).then((function(n){return Fn(o(),r,e,t)}),(function(e){console.log("Error publishing from preview")}))}},Hn=function(){return function(e,t){mr(e).then((function(){if(!t().alertLog.find((function(e){return"error"===e.type}))){var n=t().projectInfo?t().projectInfo.id:"";return e(Object(u.l)(window.document.href,"Build Preview","",n,"")),kn(t(),!1,e,!0,null,null,!1)}e(wt(!0))}))}},qn=function(e,t){return function(n,r){return function(e,t,n,r){var o="/api/ide/previewProjectInfo/"+n+"/"+r;return t(pt("loading preview page")),a.a.get(o).then((function(e){var o=e.data.data,i=JSON.parse(JSON.stringify(o));i.id=parseInt(n),i.type="website",i.previewKey=r,t(Object(c.Y)(i)),t(pt("loaded preview page"))}),(function(e){t(pt("error loading preview page"))}))}(r(),n,e,t)}},Gn=function(e,t){return{type:ze,fontFamily:e,fontWeight:t}},Vn=function(e){return{type:Ge,expand:e}},Yn=function(e){return function(t,n){var r=Object(d.a)(e);"editor"===r.type?t(vn(r.guid,r.elemType,!1,!0)):t(Xn(e))}},Xn=function(e){return{type:qe,fieldID:e}},Kn=function(e){return{type:He,whatToCheck:e}},zn=function(){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";e(Object(u.l)(window.document.href,"Adding timeline","",n,"")),e({type:Te})}},Jn=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Updating timeline",e+":"+t,o,"")),n({type:je,prop:e,value:t})}},Qn=function(){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";if(e(Object(u.l)(window.document.href,"Deleting timeline","",n,"")),e({type:Se}),t().selectedEventTimeline){var r=t(),o=Object(s.v)(r);if(o.scene&&o.type)if(e(zt(o.scene)),"onPageLoad"!==o.type)e(vn(o.element,"element"));else{var i=Object(s.l)(r.gameDef,o.scene,r.gameAdConfig.artBoards,r.currentArtboard);e(vn(i,"element",!1,!0))}}}},Zn=function(e){return{type:Ue,id:e}},$n=function(e){return function(t,n){var r=n().projectInfo?n().projectInfo.id:"";t(Object(u.l)(window.document.href,"Adding action of type: "+e,"",r,"")),t({type:_e,actionType:e})}},er=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Updating action",e+":"+t,o,"")),n({type:Pe,prop:e,value:t})}},tr=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Updating tween",e+":"+t,o,"")),n({type:Ne,prop:e,value:t})}},nr=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Updating set property",e+":"+t,o,"")),n({type:De,prop:e,value:t})}},rr=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Updating sound",e+":"+t,o,"")),n({type:Ce,prop:e,value:t})}},or=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Updating sequence",e+":"+t,o,"")),n({type:Re,prop:e,value:t})}},ir=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Updating scene transition",e+":"+t,o,"")),n({type:Fe,prop:e,value:t})}},ar=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Updating raise event",e+":"+t,o,"")),n({type:Ye,prop:e,value:t})}},cr=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Updating play timeline",e+":"+t,o,"")),n({type:Xe,prop:e,value:t})}},ur=function(e,t){return function(n,r){var o=r().projectInfo?r().projectInfo.id:"";n(Object(u.l)(window.document.href,"Updating spine",e+":"+t,o,"")),n({type:Ke,prop:e,value:t})}},sr=function(e){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";e(Object(u.l)(window.document.href,"Deleting action","",n,"")),e({type:Le})}},dr=function(e){return{type:ke,id:e}},lr=function(){return{type:Be}},fr=function(){return{type:We}},pr=function(e){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";e(Object(u.l)(window.document.href,"Cloning action","",n,"")),e({type:xe})}},gr=function(e){return function(e,t){var n=t().projectInfo?t().projectInfo.id:"";e(Object(u.l)(window.document.href,"Cloning timeline","",n,"")),e({type:we})}},mr=function(e){return new Promise((function(t,n){e(vr()),t()}))},vr=function(){return{type:Ve}}},100:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(34),a=n.n(i),c=n(60),u=n(61),s=n(33),d=n(62),l=n(16),f=n(4),p=function(e,t){e.loginErrors=t.loginErrors},g=function(e,t){e.loginStatus=t.loginStatus},m=function(e,t){e.numCodeDownloads=t.numCodeDownloads},v=function(e,t){e.accountUsage=t.accountUsage},h=function(e,t){e.userInfo=t.userInfo},y=function(e,t){e.accountInfo=t.accountInfo,t.accountInfo&&t.accountInfo.featurelist&&(e.accountInfo.featurelist=JSON.parse(t.accountInfo.featurelist))},E=function(e,t){e.teamInfo=t.teamInfo},b=function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){delete e[r[n]]}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)(e,(function(e){switch(t.type){case f.a:return b(e);case f.c:return p(e,t);case f.d:return g(e,t);case f.h:return h(e,t);case f.f:return y(e,t);case f.g:return E(e,t);case f.e:return m(e,t);case f.b:return v(e,t);default:return e}}))},I=n(14),O=function(e,t){e.showInstruction=t.show},T=function(e,t){e.currentInstruction=t.id},j=function(e,t){e.accessRequested=t.accessRequested},S=function(e,t){e.downgradeRequested=t.downgradeRequested},w=function(e,t){e.waitlistAccessRequested=t.waitlistAccessRequested},_=function(e,t){e.pdfAgreement=t.pdfAgreement},P=function(e,t){e.accessInfo=t.accessInfo},x=function(e,t){e.accessErrors=t.accessErrors},N=function(e,t){e.userCreationStatus=t.userCreationStatus},D=function(e,t){e.tiers=t.tiers},R=function(e,t){e.stripePublicKey=t.publicKey},C=function(e,t){e.emailVerified=t.emailVerified},F=function(e,t){e.emailExists=t.emailExists},L=function(e,t){e.allowResetPassword=t.allowResetPassword},k=function(e,t){e.resetPasswordComplete=t.resetPasswordComplete},U=function(e,t){e.homepageConfirmationInfo=t.homepageConfirmationInfo},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)(e,(function(e){switch(t.type){case I.a:return T(e,t);case I.l:return O(e,t);case I.f:return S(e,t);case I.d:return j(e,t);case I.m:return w(e,t);case I.j:return _(e,t);case I.c:return P(e,t);case I.b:return x(e,t);case I.p:return N(e,t);case I.o:return D(e,t);case I.h:return C(e,t);case I.g:return F(e,t);case I.e:return L(e,t);case I.k:return k(e,t);case I.i:return U(e,t);case I.n:return R(e,t);default:return e}}))},B=n(10),W=n(6),H=function(e,t){var n=t.isAIReady;n?e.isAIReady=n:delete e.isAIReady},q=function(e,t){var n=t.loading;n?e.analyticsLoading=n:delete e.analyticsLoading},G=function(e,t){e.projectAnalytics||(e.projectAnalytics={});var n=t.analyticsType,r=t.data;if("gameLoads"===n){e.projectAnalytics.views=r;e.projectAnalytics.viewsTotal=r.reduce((function(e,t){return e+t.views}),0)}else if("engagement"===n){var o=r.reduce((function(e,t){return e+t.sessions*t.avgTime}),0)/r.reduce((function(e,t){return e+t.sessions}),0);e.projectAnalytics.engagementTime=function(e){var t=parseInt(e/60),n=parseInt(e%60);return"".concat(t?t+"m ":"").concat(n+"s")}(o),e.projectAnalytics.engagement=r}else if("cta"===n){var i=r.reduce((function(e,t){return e+t.ctaCount}),0);e.projectAnalytics.cta=r,e.projectAnalytics.ctaTotal=i}else"events"===n?e.projectAnalytics.events=r:e.projectAnalytics.tagOptions=r},V=function(e,t){e.userInfo.figmaDevToken=t.figmaDevToken},Y=function(e){e.alertLog=[]},X=function(e,t){e.uploadPercent=t.uploadPercent},K=function(e,t){e.importStatus=t.importStatus,e.importStatusMessage=t.importStatusMessage},z=function(e,t){e.projectLoadStatus=t.projectLoadStatus,e.projectLoadStatusMessage=t.projectLoadStatusMessage},J=function(e,t){e.projectsPageStatus=t.status},Q=function(e,t){e.anonymousCloneStatus=t.status},Z=function(e,t){e.projectsSortBy=t.sortBy,e.projectsSortDirection=t.sortDirection},$=function(e,t){e.currentProjectHistory=t.projectHistory},ee=function(e,t){e.rightPanelTab=t.rightPanelTab},te=function(e,t){var n=Object(B.a)(Object(B.a)({},e.projectInfo),t.projectInfo);e.projectInfo=n},ne=function(e,t){e.audioJSON=t.audioJSON},re=function(e,t){e.audioNames=t.audioNames},oe=function(e,t){e.assetFiles=t.assetFiles},ie=function(e,t){e.codeFiles=t.codeFiles},ae=function(e,t){e.gameDef=t.gameDef},ce=function(e,t){t.projects?e.projects=t.projects:e.projects=[]},ue=function(e,t){t.sites?e.sites=t.sites:e.sites=[]},se=function(e,t){e.teamProjects=t.teamProjects},de=function(e,t){e.publicProjects=t.publicProjects},le=function(e,t){var n=t.projectId,r=e.projects,o=e.teamProjects,i=r.find((function(e){return e.id===n}));i||(i=o.find((function(e){return e.id===n})));var a={id:n,name:i.name,description:i.description,linkedToDesign:i.linkedToDesign};e.projectInfo=a},fe=function(e,t){var n=t.projectId;e.projects=e.projects.filter((function(e){return e.id!==n}))},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)(e,(function(e){switch(t.type){case W.c:return H(e,t);case W.e:return q(e,t);case W.d:return G(e,t);case W.a:return Y(e);case W.s:return X(e,t);case W.n:return K(e,t);case W.q:return z(e,t);case W.o:return J(e,t);case W.p:return Z(e,t);case W.k:return $(e,t);case W.r:return ee(e,t);case W.w:return te(e,t);case W.h:return ne(e,t);case W.i:return re(e,t);case W.g:return oe(e,t);case W.j:return ie(e,t);case W.m:return ae(e,t);case W.t:return le(e,t);case W.u:return ce(e,t);case W.v:return ue(e,t);case W.y:return se(e,t);case W.x:return de(e,t);case W.b:return fe(e,t);case W.l:return V(e,t);case W.f:return Q(e,t);default:return e}}))},ge=n(37),me=(n(100),n(23)),ve=n(30),he=n(12),ye=n(20),Ee=n(21),be=n(25),Ae=n(24),Ie=n(26),Oe=n(70),Te=n(27),je=n(50),Se=Object(me.b)((function(e){return{userInfo:e.userInfo}}),null)((function(e){var t=e.component,n=e.userInfo,r=Object(je.a)(e,["component","userInfo"]);return o.a.createElement(he.b,Object.assign({},r,{render:function(e){return n&&(e.location.pathname.startsWith("/editor")||e.location.pathname.startsWith("/anonymousClone")||"anonymous_internal"!==n.username)?o.a.createElement(t,e):o.a.createElement(he.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})),we=n(5),_e=n.n(we),Pe=n(9);function xe(e){return function(t){Object(be.a)(r,t);var n=Object(Ae.a)(r);function r(e){var t;return Object(ye.a)(this,r),(t=n.call(this,e)).state={component:null},t}return Object(Ee.a)(r,[{key:"componentDidMount",value:function(){var t=Object(Pe.a)(_e.a.mark((function t(){var n,r;return _e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,r=n.default,this.setState({component:r});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.component;return e?o.a.createElement(e,this.props):null}}]),r}(r.Component)}var Ne=n(71),De=n.n(Ne);function Re(){var e=Object(Ie.a)(["\n    margin-top: 50px;\n    width: 92px;\n    height: auto;\n    margin-bottom: 200px;\n"]);return Re=function(){return e},e}function Ce(){var e=Object(Ie.a)(["\n    text-align: center;\n    font-family: HeeboRegular;\n    font-size: 16px;\n"]);return Ce=function(){return e},e}function Fe(){var e=Object(Ie.a)(["\n    font-family: OswaldSemiBold;\n    font-size: 24px;\n    text-align: center;\n    margin-bottom: 20px;\n"]);return Fe=function(){return e},e}function Le(){var e=Object(Ie.a)(["\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: center;\n    width: 200px;\n    color: #ffffff;\n"]);return Le=function(){return e},e}function ke(){var e=Object(Ie.a)(["\n    margin:0;\n    padding:0;\n    background-color: black;\n    height: 100%;\n    width: 100%\n    display: flex;\n    justify-content: start;\n    flex-direction: column;\n    align-items: center;\n"]);return ke=function(){return e},e}var Ue=Te.b.div(ke()),Me=Te.b.div(Le()),Be=Te.b.div(Fe()),We=Te.b.div(Ce()),He=Te.b.img(Re()),qe=function(e){Object(be.a)(n,e);var t=Object(Ae.a)(n);function n(){return Object(ye.a)(this,n),t.apply(this,arguments)}return Object(Ee.a)(n,[{key:"render",value:function(){return o.a.createElement(Ue,null,o.a.createElement(He,{src:De.a}),o.a.createElement(Me,null,o.a.createElement(Be,null,"SORRY"),o.a.createElement(We,null,"Building with Quest only works on a desktop screen.")))}}]),n}(r.Component),Ge=function(e){Object(be.a)(n,e);var t=Object(Ae.a)(n);function n(e){var r;return Object(ye.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){var e=r.props.match.params,t=parseInt(e.projectId,10);r.props.anonymousCloneProject(t)},r.state={cloning:null},r.aceEditor=o.a.createRef(),r}return Object(Ee.a)(n,[{key:"componentDidUpdate",value:function(e,t){"cloning"===this.props.anonymousCloneStatus&&"cloning"!==t.cloning&&this.setState({cloning:"cloning"})}},{key:"render",value:function(){return"cloning"!==this.props.anonymousCloneStatus&&this.props.projectInfo&&this.props.projectInfo.id?o.a.createElement(he.a,{to:"/editor/"+this.props.projectInfo.id}):"cloning"===this.state.cloning&&"error"===this.props.anonymousCloneStatus?o.a.createElement(he.a,{to:"/login"}):null}}]),n}(r.Component),Ve=Object(me.b)((function(e){return{anonymousCloneStatus:e.anonymousCloneStatus,projectInfo:e.projectInfo}}),(function(e,t){return{anonymousCloneProject:function(t){return e(Object(W.z)(t))}}}))(Ge);function Ye(){var e=Object(Ie.a)(["\n  height: 100%;\n"]);return Ye=function(){return e},e}var Xe=xe((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(9)]).then(n.bind(null,1813))})),Ke=xe((function(){return Promise.all([n.e(0),n.e(3),n.e(4),n.e(6),n.e(14)]).then(n.bind(null,1817))})),ze=xe((function(){return Promise.all([n.e(0),n.e(3),n.e(4),n.e(6),n.e(13)]).then(n.bind(null,1806))})),Je=xe((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(17)]).then(n.bind(null,1826))})),Qe=xe((function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(15),n.e(11)]).then(n.bind(null,1824))})),Ze=xe((function(){return Promise.all([n.e(0),n.e(3),n.e(18)]).then(n.bind(null,1807))})),$e=xe((function(){return Promise.all([n.e(1),n.e(2),n.e(23)]).then(n.bind(null,1808))})),et=xe((function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(2),n.e(19)]).then(n.bind(null,1809))})),tt=xe((function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(2),n.e(20)]).then(n.bind(null,1810))})),nt=xe((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(22)]).then(n.bind(null,1811))})),rt=xe((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(21)]).then(n.bind(null,1812))})),ot=xe((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(10)]).then(n.bind(null,1814))})),it=xe((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(16)]).then(n.bind(null,1816))})),at=Te.b.div(Ye()),ct=function(e){Object(be.a)(n,e);var t=Object(Ae.a)(n);function n(e){var r;return Object(ye.a)(this,n),(r=t.call(this,e)).state={checkingUserInfo:!0},r}return Object(Ee.a)(n,[{key:"componentDidMount",value:function(){this.props.getUserInfo()}},{key:"componentDidUpdate",value:function(e,t){!t.checkingUserInfo||e.userInfo||!this.props.userInfo&&"User not logged in"!==this.props.loginStatus||this.setState({checkingUserInfo:!1})}},{key:"render",value:function(){return this.state.checkingUserInfo?null:o.a.createElement(at,null,o.a.createElement(he.d,null,Oe.isMobile&&o.a.createElement(he.b,{component:qe}),o.a.createElement(he.b,{exact:!0,path:"/",component:Je}),o.a.createElement(he.b,{path:"/login",component:Je}),o.a.createElement(Se,{path:"/home",component:ot}),o.a.createElement(Se,{path:"/myprojects",component:ot}),o.a.createElement(Se,{path:"/teamprojects",component:ot}),o.a.createElement(Se,{path:"/components",component:ot}),o.a.createElement(Se,{path:"/sampleprojects",component:ot}),o.a.createElement(Se,{path:"/account",component:ot}),o.a.createElement(Se,{path:"/analytics/:projectId",component:ot}),o.a.createElement(Se,{path:"/analytics",component:ot}),o.a.createElement(Se,{path:"/data",component:ot}),o.a.createElement(Se,{path:"/dataSources",component:ot}),o.a.createElement(Se,{path:"/editDataSource/:id?",component:ot}),o.a.createElement(Se,{path:"/sites",component:ot}),o.a.createElement(Se,{path:"/scripts",component:ot}),o.a.createElement(Se,{path:"/assets",component:ot}),o.a.createElement(Se,{path:"/resources",component:ot}),o.a.createElement(Se,{path:"/startProject",component:it}),o.a.createElement(Se,{path:"/reimport/:projectId",component:it}),o.a.createElement(Se,{path:"/editor/:projectId",component:Xe}),o.a.createElement(Se,{path:"/websiteeditor/:projectId",component:Ke}),o.a.createElement(Se,{path:"/siteDetails/:siteId",component:ot}),o.a.createElement(Se,{path:"/scriptEditor/:scriptName",component:ot}),o.a.createElement(Se,{path:"/tiers",component:Ze}),o.a.createElement(Se,{path:"/changeTier/:tierId",component:et}),o.a.createElement(Se,{path:"/updatePayment",component:tt}),o.a.createElement(he.b,{path:"/preview/:accountId/:projectId/:key",component:ze}),o.a.createElement(he.b,{path:"/signup/tier/:tierId",component:Qe}),o.a.createElement(he.b,{path:"/signup/google/:token",component:Qe}),o.a.createElement(he.b,{path:"/signup/:key",component:Qe}),o.a.createElement(he.b,{path:"/verifyEmail/:userId/:hashCode",component:$e}),o.a.createElement(he.b,{path:"/resetPassword/:userId/:hashCode",component:nt}),o.a.createElement(he.b,{path:"/forgotPassword",component:rt}),o.a.createElement(he.b,{path:"/anonymousClone/:projectId",component:Ve}),o.a.createElement(he.b,{component:Je})))}}]),n}(r.Component),ut=Object(me.b)((function(e){return{userInfo:e.userInfo,loginStatus:e.loginStatus}}),(function(e){return{getUserInfo:function(){return e(Object(f.k)())}}}))(ct),st=function(e){var t=e.store;return o.a.createElement(me.a,{store:t},o.a.createElement(ve.a,{basename:"/platform"},o.a.createElement(he.b,{path:"/:filter?",component:ut})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var dt=n(49),lt=function(e,t){e.dataSources=t.dataSources},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)(e,(function(e){switch(t.type){case dt.a:return lt(e,t);default:return e}}))},pt=n(3),gt=n(7),mt=n(11),vt=function(e,t){e.pageDef=t.pageDef},ht=function(e,t){e.pageHtml=t.pageHtml},yt=function(e,t){e.exportedEmailProjectCount=t.projectCount},Et=function(e,t){e.pageHtmlForExport=t.pageHtmlForExport},bt=function(e,t){e.idToDivId=t.idToDivId},At=function(e,t){e.imageUrlPrefix=t.imageUrlPrefix},It=function(e,t){e.currentArtboard=t.currentArtboard,Ct(e)},Ot=function(e,t){e.artboards=t.artboards},Tt=function(e,t){e.fontsUsed=t.fontsUsed},jt=function(e,t){var n=document.getElementById(e.idToDivId[t.id]);if(n){var r=document.getElementById("quest_center_panel"),o=document.getElementById("quest_current_element");o||((o=document.createElement("div")).id="quest_current_element",o.style.position="absolute",o.style.border="1px solid #00bff3",o.style.zIndex=100,o.style.pointerEvents="none",r.appendChild(o));var i=n.getBoundingClientRect(),a=window.getComputedStyle(n),c=parseFloat(a.paddingLeft),u=parseFloat(a.paddingRight),s=parseFloat(a.paddingTop),d=parseFloat(a.paddingBottom);o.style.left=i.left+c-204+"px",o.style.top=i.top+s-40+r.scrollTop+"px",o.style.width=i.width-(c+u)+"px",o.style.height=i.height-(s+d)+"px";var l=document.getElementById("quest_hover_element"),f=e.hoverElement;l&&f&&f.id===t.id&&(l.style.left=0,l.style.top=0,l.style.width=0,l.style.height=0)}},St=function(e,t){return function e(t,n){var r=[];if(t.id===n.id)r.push(t);else if(t.children){var o,i=Object(pt.a)(t.children);try{for(i.s();!(o=i.n()).done;){var a=e(o.value,n);a&&a.length>0&&(r.push(t),r=r.concat(a))}}catch(c){i.e(c)}finally{i.f()}}return r}(e.pageDef.def,t)},wt=function(e,t,n){if(e.currentElement=t,e.elementsPanelExpandedState.includes(t.id)||e.elementsPanelExpandedState.push(t.id),n){var r,o=St(e,t),i=Object(pt.a)(o);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.elementsPanelExpandedState.includes(a.id)||e.elementsPanelExpandedState.push(a.id)}}catch(c){i.e(c)}finally{i.f()}}jt(e,t)},_t=function(e,t){wt(e,t.elem,t.expandParents)},Pt=function(e,t){xt(e,t.elem)},xt=function(e,t){e.hoverElement=t,Nt(e,t)},Nt=function(e,t){if(t){var n=e.idToDivId,r=e.currentElement,o=document.getElementById(n[t.id]);if(o){var i=document.getElementById("quest_center_panel"),a=document.getElementById("quest_hover_element");a||((a=document.createElement("div")).id="quest_hover_element",a.style.position="absolute",a.style.border="1px solid white",a.style.pointerEvents="none",a.style.zIndex=100,i.appendChild(a));var c=o.getBoundingClientRect();a.style.display="block",r&&t.id===r.id?(a.style.left=0,a.style.top=0,a.style.width=0,a.style.height=0):(a.style.left=c.left-204+"px",a.style.top=c.top-40+i.scrollTop+"px",a.style.width=c.width+"px",a.style.height=c.height+"px")}}else{var u=document.getElementById("quest_hover_element");u&&(u.style.display="none")}},Dt=function(e,t){e.elementsPanelExpandedState=t.elementsPanelExpandedState},Rt=function(e,t){t.expanded?e.elementsPanelExpandedState.push(t.id):e.elementsPanelExpandedState=e.elementsPanelExpandedState.filter((function(e){return e!==t.id}))},Ct=function(e){var t=e.pageDef.def,n=t.children[0];if(e.currentArtboard){var r,o=Object(pt.a)(t.children);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.id===e.currentArtboard&&(n=i)}}catch(d){o.e(d)}finally{o.f()}}var a=[];a.push(t.id),a.push(n.id);var c=function e(t,n){var r={currentElement:null,expandedList:[]};if((n.isArtboard||n.visible)&&!n.isMask)if(n.children){var o,i=Object(pt.a)(n.children);try{for(i.s();!(o=i.n()).done;){var a=e(t,o.value);if(a&&a.expandedList.length>0){var c=[];c.push(n.id);var u=c.concat(a.expandedList);r.currentElement=a.currentElement,r.expandedList=u;break}}}catch(d){i.e(d)}finally{i.f()}}else r.currentElement=n,r.expandedList.push(n.id);return r}(e,n),u=a.concat(c.expandedList),s=c.currentElement;e.currentArtboard=n.id,e.elementsPanelExpandedState=u,wt(e,s,!1)},Ft=function(e,t){e.stateHistory=[],e.currentArtboard=e.pageDef.def.children[0].id,Ct(e)},Lt=function(e,t){!function(e,t,n,r){e.pageOverride||(e.pageOverride={}),e.pageOverride[t]||(e.pageOverride[t]={}),e.pageOverride[t][n]=r,e.elementProperties[t][n]=r,jt(e,e.currentElement)}(e,t.id,t.prop,t.value)},kt=function(e,t){e.elementProperties=t.elementProperties},Ut=function(e,t){e.editorMode=t.editorMode},Mt=function(e,t){var n=t.undoStateObj,r=qt(e);e.stateHistoryIndex===e.stateHistory.length-1&&e.stateHistory.push(r),e.stateHistoryIndex--,Wt(e,n)},Bt=function(e,t){var n=t.redoStateObj;e.stateHistoryIndex++,Wt(e,n)},Wt=function(e,t){e.pageOverride=t.pageOverride},Ht=function(e,t){e.stateHistory&&(e.stateHistory.splice(e.stateHistoryIndex+1,e.stateHistory.length-(e.stateHistoryIndex+1)),e.stateHistory.push(qt(e)),e.stateHistoryIndex=e.stateHistory.length-1)},qt=function(e){return{pageOverride:Object(gt.cloneDeep)(e.pageOverride)}},Gt=function(e,t){var n=t.overrides;if(n){var r=n.pageOverride;e.pageOverride=r||{}}else e.pageOverride={}},Vt=function(e,t){var n=t.id;e.pageOverride&&e.pageOverride[n]&&delete e.pageOverride[n]},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)(e,(function(e){switch(t.type){case mt.p:return vt(e,t);case mt.q:return ht(e,t);case mt.k:return yt(e,t);case mt.r:return Et(e,t);case mt.o:return At(e,t);case mt.e:return It(e,t);case mt.d:return Ot(e,t);case mt.i:return Rt(e,t);case mt.h:return Dt(e,t);case mt.f:return _t(e,t);case mt.m:return Pt(e,t);case mt.n:return bt(e,t);case mt.l:return Tt(e,t);case mt.b:return Ft(e);case mt.u:return Ht(e),Lt(e,t);case mt.j:return kt(e,t);case mt.g:return Ut(e,t);case mt.s:return Mt(e,t);case mt.c:return Bt(e,t);case mt.t:return Gt(e,t);case mt.a:return Vt(e,t);default:return e}}))},Xt=(n(2),"NITRO_SET_WEBSITE_ARTBOARDS"),Kt="NITRO_PAGE_UNDO_STATE",zt="NITRO_PAGE_REDO_STATE",Jt=function(e,t){e.pageDef=t.pageDef},Qt=function(e,t){e.pageHtml=t.pageHtml},Zt=function(e,t){e.pageHtmlForExport=t.pageHtmlForExport},$t=function(e,t){e.idToDivId=t.idToDivId},en=function(e,t){e.imageUrlPrefix=t.imageUrlPrefix},tn=function(e,t){e.currentArtboard=t.currentArtboard,gn(e)},nn=function(e,t){e.artboards=t.artboards},rn=function(e,t){e.fontsUsed=t.fontsUsed},on=function(e,t){var n=document.getElementById(e.idToDivId[t.id]);if(n){var r=document.getElementById("quest_center_panel"),o=document.getElementById("quest_current_element");o||((o=document.createElement("div")).id="quest_current_element",o.style.position="absolute",o.style.border="1px solid #6B68FF",o.style.zIndex=100,o.style.pointerEvents="none",r.appendChild(o));var i=n.getBoundingClientRect(),a=window.getComputedStyle(n),c=parseFloat(a.paddingLeft),u=parseFloat(a.paddingRight),s=parseFloat(a.paddingTop),d=parseFloat(a.paddingBottom);o.style.left=i.left+c-204+"px",o.style.top=i.top+s-40+r.scrollTop+"px",o.style.width=i.width-(c+u)+"px",o.style.height=i.height-(s+d)+"px";var l=document.getElementById("quest_hover_element"),f=e.hoverElement;l&&f&&f.id===t.id&&(l.style.left=0,l.style.top=0,l.style.width=0,l.style.height=0)}},an=function(e,t){return function e(t,n){var r=[];if(t.id===n.id)r.push(t);else if(t.children){var o,i=Object(pt.a)(t.children);try{for(i.s();!(o=i.n()).done;){var a=e(o.value,n);a&&a.length>0&&(r.push(t),r=r.concat(a))}}catch(c){i.e(c)}finally{i.f()}}return r}(e.pageDef.def,t)},cn=function(e,t,n){if(e.currentElement=t,e.elementsPanelExpandedState.includes(t.id)||e.elementsPanelExpandedState.push(t.id),n){var r,o=an(e,t),i=Object(pt.a)(o);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.elementsPanelExpandedState.includes(a.id)||e.elementsPanelExpandedState.push(a.id)}}catch(c){i.e(c)}finally{i.f()}}on(e,t)},un=function(e,t){cn(e,t.elem,t.expandParents)},sn=function(e,t){dn(e,t.elem)},dn=function(e,t){e.hoverElement=t,ln(e,t)},ln=function(e,t){if(t){var n=e.idToDivId,r=e.currentElement,o=document.getElementById(n[t.id]);if(o){var i=document.getElementById("quest_center_panel"),a=document.getElementById("quest_hover_element");a||((a=document.createElement("div")).id="quest_hover_element",a.style.position="absolute",a.style.border="1px solid white",a.style.pointerEvents="none",a.style.zIndex=100,i.appendChild(a));var c=o.getBoundingClientRect();a.style.display="block",r&&t.id===r.id?(a.style.left=0,a.style.top=0,a.style.width=0,a.style.height=0):(a.style.left=c.left-204+"px",a.style.top=c.top-40+i.scrollTop+"px",a.style.width=c.width+"px",a.style.height=c.height+"px")}}else{var u=document.getElementById("quest_hover_element");u&&(u.style.display="none")}},fn=function(e,t){e.elementsPanelExpandedState=t.elementsPanelExpandedState},pn=function(e,t){t.expanded?e.elementsPanelExpandedState.push(t.id):e.elementsPanelExpandedState=e.elementsPanelExpandedState.filter((function(e){return e!==t.id}))},gn=function(e){var t=e.pageDef.def,n=t.children[0];if(e.currentArtboard){var r,o=Object(pt.a)(t.children);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.id===e.currentArtboard&&(n=i)}}catch(d){o.e(d)}finally{o.f()}}var a=[];a.push(t.id),a.push(n.id);var c=function e(t,n){var r={currentElement:null,expandedList:[]};if((n.isArtboard||n.visible)&&!n.isMask)if(n.children){var o,i=Object(pt.a)(n.children);try{for(i.s();!(o=i.n()).done;){var a=e(t,o.value);if(a&&a.expandedList.length>0){var c=[];c.push(n.id);var u=c.concat(a.expandedList);r.currentElement=a.currentElement,r.expandedList=u;break}}}catch(d){i.e(d)}finally{i.f()}}else r.currentElement=n,r.expandedList.push(n.id);return r}(e,n),u=a.concat(c.expandedList),s=c.currentElement;e.currentArtboard=n.id,e.elementsPanelExpandedState=u,cn(e,s,!1)},mn=function(e,t){e.stateHistory=[],e.currentArtboard=e.pageDef.def.children[0].id,gn(e)},vn=function(e,t){!function(e,t,n,r){e.pageOverride||(e.pageOverride={}),e.pageOverride[t]||(e.pageOverride[t]={}),e.pageOverride[t][n]=r,e.elementProperties[t][n]=r,on(e,e.currentElement)}(e,t.id,t.prop,t.value)},hn=function(e,t){e.elementProperties=t.elementProperties},yn=function(e,t){e.pageMode=t.pageMode},En=function(e,t){e.pageModified=t.modified},bn=function(e,t){e.currentTab=t.currentTab},An=function(e,t){e.pages=t.pages},In=function(e,t){var n=Object(B.a)(Object(B.a)({},e.pageInfo),t.pageInfo);e.pageInfo=n},On=function(e,t){var n=Object(B.a)(Object(B.a)({},e.pagesFiltersAndSort),t.filtersAndSort);e.pagesFiltersAndSort=n},Tn=function(e,t){e.pageInfo=void 0,e.pageDef=void 0,e.elementProperties=void 0,e.pageHtml=void 0,e.idToDivId=void 0,e.artboards=void 0,e.currentArtboard=void 0,e.currentElement=void 0,e.elementsPanelExpandedState=void 0,e.fontsUsed=void 0,e.pageOverride=void 0},jn=function(e,t){e.processingStatus=t.status},Sn=function(e,t){var n=t.undoStateObj,r=xn(e);e.stateHistoryIndex===e.stateHistory.length-1&&e.stateHistory.push(r),e.stateHistoryIndex--,_n(e,n)},wn=function(e,t){var n=t.redoStateObj;e.stateHistoryIndex++,_n(e,n)},_n=function(e,t){e.pageOverride=t.pageOverride},Pn=function(e,t){e.stateHistory&&(e.pageModified=!0,e.stateHistory.splice(e.stateHistoryIndex+1,e.stateHistory.length-(e.stateHistoryIndex+1)),e.stateHistory.push(xn(e)),e.stateHistoryIndex=e.stateHistory.length-1)},xn=function(e){return{pageOverride:Object(gt.cloneDeep)(e.pageOverride)}},Nn=function(e,t){var n=t.overrides;if(n){var r=n.pageOverride;e.pageOverride=r||{}}else e.pageOverride={}},Dn=function(e,t){var n=t.id;e.pageOverride&&e.pageOverride[n]&&delete e.pageOverride[n]},Rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(l.a)(e,(function(e){switch(t.type){case"NITRO_SET_PAGE_DEF":return Jt(e,t);case"NITRO_SET_PAGE_HTML":return Qt(e,t);case"NITRO_SET_PAGE_HTML_FOR_EXPORT":return Zt(e,t);case"NITRO_SET_IMAGE_URL_PREFIX":return en(e,t);case"NITRO_SET_WEBSITE_CURRENT_ARTBOARD":return tn(e,t);case Xt:return nn(e,t);case"NITRO_SET_WEBSITE_ELEMENT_EXPANDED":return pn(e,t);case"NITRO_SET_ELEMENTS_PANEL_EXPANDED_STATE":return fn(e,t);case"NITRO_SET_WEBSITE_CURRENT_ELEMENT":return un(e,t);case"NITRO_SET_WEBSITE_HOVER_ELEMENT":return sn(e,t);case"NITRO_SET_ID_TO_DIV_ID":return $t(e,t);case"NITRO_SET_FONTS_USED":return rn(e,t);case"NITRO_INITIALIZE":return mn(e);case"NITRO_WEBSITE_UPDATE_PROPERTY":return Pn(e),vn(e,t);case"NITRO_SET_ELEMENT_PROPERTIES":return hn(e,t);case"NITRO_SET_PAGE_MODE":return yn(e,t);case"NITRO_SET_PAGE_MODIFIED":return En(e,t);case"NITRO_SET_CURRENT_TAB":return bn(e,t);case"NITRO_SET_PROCESSING_STATUS":return jn(e,t);case Kt:return Sn(e,t);case zt:return wn(e,t);case"NITRO_PAGE_UPDATE_OVERRIDES":return Nn(e,t);case"NITRO_WEBSITE_CLEAR_ELEMENT_OVERRIDE":return Dn(e,t);case"NITRO_UPDATE_PAGE_INFO":return In(e,t);case"NITRO_CLEAR_CURRENT_PAGE":return Tn(e);case"NITRO_SET_PAGES":return An(e,t);case"NITRO_SET_PAGES_FILTERS_AND_SORT":return On(e,t);default:return e}}))},Cn=Object(u.createLogger)({collapsed:function(e,t,n){return!n.error}}),Fn=Object(d.a)(A,pe,M,ge.b,ft,Yt,Rn),Ln=Object(s.c)(Fn,Object(s.a)(c.a,Cn));a.a.render(o.a.createElement(st,{store:Ln}),document.getElementById("root")),window.Cypress&&(window.store=Ln),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},11:function(e,t,n){"use strict";n.d(t,"p",(function(){return H})),n.d(t,"q",(function(){return q})),n.d(t,"r",(function(){return G})),n.d(t,"n",(function(){return V})),n.d(t,"o",(function(){return Y})),n.d(t,"e",(function(){return X})),n.d(t,"d",(function(){return K})),n.d(t,"i",(function(){return z})),n.d(t,"f",(function(){return J})),n.d(t,"m",(function(){return Q})),n.d(t,"l",(function(){return Z})),n.d(t,"j",(function(){return $})),n.d(t,"h",(function(){return ee})),n.d(t,"b",(function(){return te})),n.d(t,"u",(function(){return ne})),n.d(t,"g",(function(){return re})),n.d(t,"s",(function(){return oe})),n.d(t,"c",(function(){return ie})),n.d(t,"t",(function(){return ae})),n.d(t,"a",(function(){return ce})),n.d(t,"k",(function(){return ue})),n.d(t,"E",(function(){return se})),n.d(t,"D",(function(){return fe})),n.d(t,"C",(function(){return ye})),n.d(t,"B",(function(){return Ee})),n.d(t,"H",(function(){return be})),n.d(t,"y",(function(){return Se})),n.d(t,"w",(function(){return we})),n.d(t,"I",(function(){return _e})),n.d(t,"F",(function(){return Pe})),n.d(t,"x",(function(){return xe})),n.d(t,"A",(function(){return Re})),n.d(t,"v",(function(){return Fe})),n.d(t,"G",(function(){return Le})),n.d(t,"z",(function(){return ke}));var r,o,i=n(5),a=n.n(i),c=n(9),u=n(2),s=n.n(u),d=n(7),l=n(3),f=1,p={},g={},m={},v="",h="",y={},E="",b="",A=[],I="",O="",T=function(e){var t=parseInt(e);if(t>=0){var n=t.toString(16);return 1===n.length&&(n="0"+n),n}return e},j=function(e){var t="#000000";if(e&&e.toLowerCase().startsWith("rgba(")){var n=e.toLowerCase().substring(5),r=n.indexOf(")");if(r>0){var o=(n=n.substring(0,r)).split(",");return o.length>3&&(t="#"+T(o[0])+T(o[1])+T(o[2])),t}}return e},S=function(e,t){e.fillVisible?"SOLID"===e.fillType?"text"!==e.type&&(t["background-color"]=j(e.fillColor)):"IMAGE"===e.fillType&&(t["background-image"]="url("+w(e.imageFileName)+")",t["background-position"]="center","FILL"===e.scaleMode?t["background-size"]="cover":"FIT"===e.scaleMode?t["background-size"]="contain":"CROP"===e.scaleMode?t["background-size"]="100%":"TILE"===e.scaleMode?(t["background-size"]="100%",t["background-repeat"]="repeat"):t["background-size"]="cover",t["background-repeat"]="no-repeat"):e.isArtboard&&(t["background-color"]="#ffffff")},w=function(e){return"edit"===h||"preview"===h||"export"===h?v+"/assets/images/"+e:"assets/images/"+e},_=function(e,t,n,r,o){var i=F(e,"text");i=function(e,t){var n=e;if(n)switch(t){case"uppercase":n=e.toLocaleUpperCase();break;case"lowercase":n=e.toLocaleLowerCase();break;case"titlecase":var r=e.split(" ");r.forEach((function(e,t,n){n[t]=e?e.charAt(0).toLocaleUpperCase()+e.substring(1):e})),n=r.join(" ")}return n}(i,e.textTransform),e.textAlignHorizontal&&(t["text-align"]=e.textAlignHorizontal);var a=e.font,c=e.fontWeight;!function(e,t,n,r,o,i,a,c,u,s,d,l,f){e.color=j(t),e["font-style"]="normal",e["font-family"]=n,e["font-weight"]=r,o+="px",e["font-size"]=o,null!==i&&0!==i&&(e["letter-spacing"]="PIXELS"===a?i+"px":i*o.substring(0,o.length-2)/100+"px"),c&&(e["text-decoration"]="underline"),u&&(e["text-decoration"]="line-through"),s&&(e["text-decoration"]=s+"px"),d?e["line-height"]=1.25*d+"%":l&&(e["line-height"]=l+"px")}(t,e.color,a,c,e["font-size"],e.letterSpacingValue,e.letterSpcingUnit,e.underline,e.strikethrough,e.paragraphIndent,e.lineHeightPercent,e.lineHeightPx,e.lineHeightAuto),S(e,t),function(e,t,n){var r=e.id;t&&(g[t]?(g[t].weight[n]||(g[t].weight[n]=n),g[t].id.push(r)):(g[t]={name:t,weight:{},id:[r]},g[t].weight[n]=n))}(e,a,c);var u=t.width;"table"===r?(P('<table width="'.concat(e.width,'">'),o),P("<tr>",o),u="100%"):"tr"===r&&(P("<tr>",o),u="100%"),P(u?'<td style="width:'.concat(u,'; padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;">'):'<td style="padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;">',o);var s=F(e,"url");n.width=e.width,"edit"!==h&&s?(n.href=s,n.target="_blank",t.display="block",t["text-decoration"]="none",N("a",n,t,o,!0)):N("p",n,t,o,!0),x("".concat(i),o),P("edit"!==h&&s?"</a>":"</p>",o),P("</td>",o),"table"===r?(P("</tr>",o),P("</table>",o)):"tr"===r&&P("</tr>",o)},P=function(e,t){E+="".concat(t).concat(e,"\n")},x=function(e,t){E+="".concat(t).concat(e)},N=function(e,t,n,r,o){for(var i="",a=0,c=Object.keys(n);a<c.length;a++){var u=c[a];i+="padding-top"!==u||"p"!==e&&"img"!==e?"padding-left"!==u||"p"!==e&&"img"!==e?" ".concat(u,":").concat(n[u],";"):" margin-left:".concat(n[u],"; padding-left:0px; margin-right:0px;"):" margin-top:".concat(n[u],"; padding-top:0px; margin-bottom:0px;")}i+=" padding-bottom:0px; padding-right:0px;",n["padding-top"]||(i+=" padding-top:0px;"),n["padding-left"]||(i+=" padding-left:0px;"),"edit"===h&&(i+="pointer-events: auto;");for(var s="",d=0,l=Object.keys(t);d<l.length;d++){var f=l[d];s+=" ".concat(f,'="').concat(t[f],'"')}o?x("<"+e+' style="'.concat(i,'" ').concat(s,">"),r):P("<"+e+' style="'.concat(i,'" ').concat(s,">"),r)},D=function e(t,n,i,a,c,u){var s,d={},f=R(t.id),p={};if(p.id=f,p["data-name"]=t.name,n){C(t);var g,v=F(t,"x"),E=F(t,"y"),b=F(n,"x"),I=F(n,"y"),O=v+t.width,T=E+t.height,j=b+n.width,x=I+n.height;g={left:v-b,right:j-O,top:E-I,bottom:x-T,width:t.width,height:t.height};var D=null;if(i){var L=F(i,"x"),k=F(i,"y");D={left:L-b,right:j-(L+i.width),top:k-I,bottom:x-(k+i.height),width:i.width,height:i.height}}0;y[t.id]&&y[t.id];var U=F(t,"opacity");1!==U&&(d.opacity=U);var M=g.left+g.width+g.right;if(t.isArtboard||n&&n.isArtboard?s="table":"table"===c?s="tr":"tr"===c?s="td":"td"!==c&&c||(s="table"),M?t.isArtboard||("td"===s&&u||(d.width="".concat(g.width,"px")),!i&&u&&(d.width="100%"),d.height="".concat(g.height,"px"),"image"===t.type&&(d.widthForImage="".concat(g.width,"px"))):(d.width="100%",d.height="100%"),"td"===s?(d["padding-left"]="".concat(i?D.right-g.right-g.width:g.left,"px"),d["padding-top"]="".concat(g.top,"px")):"tr"!==s&&"table"!==s||(d["padding-left"]="".concat(g.left,"px"),d["padding-top"]="".concat(i?D.bottom-g.bottom-g.height:g.top,"px")),t.isArtboard||n&&n.isArtboard){t.isArtboard&&t.id!==o.id&&P("\x3c!--[if !mso]>\x3c!--\x3e",a),P("<tr>",a);var B=d["padding-top"],W=d["padding-left"];P('<td style="padding-left: '.concat(W,"; padding-top: ").concat(B,'; padding-right: 0px; padding-bottom: 0px;">'),a)}if("tr"===s){P("<tr>",a);var H=d["padding-top"],q=d["padding-left"];"text"!==t.type&&"image"!==t.type?P('<td style="padding-left: '.concat(q,"; padding-top: ").concat(H,'; padding-right: 0px; padding-bottom: 0px;">'),a):P('<td style="padding-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px;">',a),P('<table  width="'.concat(t.width,'">'),a)}F(t,"visible")||(d.display="none"),t.isArtboard&&(t.id===r.id?d.display="block":d.display="none",A.push({id:t.id,name:t.name,divId:p.id,minWidth:t.minWidth,maxWidth:t.maxWidth,width:t.width,height:t.height})),"text"===t.type?_(t,d,p,s,a):"image"===t.type?function(e,t,n,r,o,i){var a=t.width;"table"===o?(P('<table width="'.concat(e.width,'">'),i),P("<tr>",i),a="100%"):"tr"===o&&(P("<tr>",i),a="100%");var c,u,s,d="0px";t["padding-botto"]&&(u=t["padding-bottom"],delete t["padding-bottom"]),t["padding-top"]&&(c=t["padding-top"],delete t["padding-top"]),t["padding-left"]&&(s=t["padding-left"],delete t["padding-left"]),t["padding-right"]&&(d=t["padding-right"],delete t["padding-right"]),P(a?'<td align="left" style="width:'.concat(a,"; padding-top: ").concat(c,"; padding-bottom: ").concat(u,"; padding-left: ").concat(s,"; padding-right: ").concat(d,';">'):'<td align="left" style="padding-top: '.concat(c,"; padding-bottom: ").concat(u,"; padding-left: ").concat(s,"; padding-right: ").concat(d,';">'),i),t.widthForImage&&(t.width=t.widthForImage,delete t.widthForImage),n.src=w(e.imageFileName),n.alt=F(e,"altText");var l=F(e,"url");"edit"!==h&&l&&P('<a href="'.concat(l,'" style="text-decoration: none;" target="_blank">'),i),n.width=e.width,N("img",n,t,i),"edit"!==h&&l&&P("</a>",i),P("</td>",i),"table"===o?(P("</tr>",i),P("</table>",i)):"tr"===o&&P("</tr>",i)}(t,d,p,0,s,a):function(e,t,n,r,o,i){S(e,t),function(e,t){e.cornerRadius&&(t["border-radius"]=e.cornerRadius+"px"),e.topLeftRadius&&(t["border-radius"]="".concat(e.topLeftRadius,"px ").concat(e.topRightRadius,"px ").concat(e.bottomRightRadius,"px ").concat(e.bottomLeftRadius,"px"))}(e,t),"table"===o&&(n.align="center"),n.width=e.width,N(o,n,t,i)}(t,d,p,0,s,a)}else d.margin="0 auto",d.align="center",s="table",p.align="center",d.width=o.width+"px",d.height=o.height+"px",P("\x3c!--[if mso]>",a),d.margin="0 auto",p.width=r.width,N(s,p,d,a),d.margin="auto !important",P("<![endif]--\x3e",a),d.width=r.width+"px",d.height=r.height+"px",P("\x3c!--[if !mso]>\x3c!--\x3e",a),N(s,p,d,a),P("\x3c!--<![endif]--\x3e",a),m[t.id]={},m[t.id].name=t.name,m[t.id].visible=!0,m[t.id].x=0,m[t.id].y=0,m[t.id].width=d.width,m[t.id].height=d.height;if(t.children&&t.children.length>0){var G=s;"td"===s&&(G="table",P('<table width="'.concat(t.width,'">'),a));var V,Y=null,X=1,K=t.children?t.children.length:0,z=!1,J=Object(l.a)(t.children);try{for(J.s();!(V=J.n()).done;){var Q=V.value;X===K&&(z=!0),e(Q,t,Y,a+"  ",G,z),Y=Q,X++}}catch(Z){J.e(Z)}finally{J.f()}"td"===s&&P("</table>",a)}"text"!==t.type&&"image"!==t.type&&P("</".concat(s,">"),a),"tr"===s&&(P("</table>",a),P("</td>",a),P("</tr>",a)),(t.isArtboard||n&&n.isArtboard)&&(P("</td>",a),P("</tr>",a),t.isArtboard&&t.id!==o.id&&P("\x3c!--<![endif]--\x3e",a))},R=function(e){var t="q"+f;return p[e]=t,f++,t},C=function(e){var t=y[e.id]?y[e.id]:{};m[e.id]={},m[e.id].name=t.name?t.name:e.name,"image"===e.type&&(t.altText?m[e.id].altText=t.altText:m[e.id].altText=m[e.id].name);var n=null!==t.visible&&void 0!==t.visible?t.visible:!!e.isArtboard||e.visible;m[e.id].visible=n;var r=t.opacity?t.opacity:e.opacity;m[e.id].opacity=r;var o=t.x?t.x:e.x;m[e.id].x=o;var i=t.y?t.y:e.y;m[e.id].y=i;var a=e.text;t&&t.text&&(a=t.text),a&&(m[e.id].text=a),t&&t.url&&(m[e.id].url=t.url)},F=function(e,t){return m[e.id][t]},L=function(){var e="";return e+="<style scoped>",e+=b,e+="</style>",e+=E},k=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,o,i,c,u,s,d,f,p,m,v,h,y,T,j,S;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t='\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n<html prefix="og: http://ogp.me/ns#" lang="en" style="height: 100%">\n\n<head>\n  <meta http-equiv="Content-Type" content="text/html" charset="utf-8" />\n  <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=2" />\n',g)for(n=0,r=Object.keys(g);n<r.length;n++)o=r[n],g[o].url&&(t+='\n  <link rel="stylesheet" href="'.concat(g[o].url,'">'));if(t+="\n  <style>\n  ",t+=b,t+="</style>",i="",c=A.length,A&&A.length>0){t+="<style>",u=Object(l.a)(A);try{for(u.s();!(s=u.n()).done;){d=s.value,0!==(f=d.minWidth)&&(f=481),p=-1,0===f&&(p=1===c?-1:480),m=d.divId,v=d.width,h=d.height,i+="@media screen and (min-width:".concat(f,"px)"),-1!==p&&(i+=" and (max-width:".concat(p,"px)")),i+=" {\n        #".concat(m," {display: block !important; max-height:").concat(h,"px !important}\n      }\n      "),i+="@media screen and (min-width:".concat(f,"px)"),-1!==p&&(i+=" and (max-width:".concat(p,"px)")),i+=" {\n        #q1 {width: ".concat(v,"px!important; height: ").concat(h,"px!important;}\n      }\n      "),y=Object(l.a)(A);try{for(y.s();!(T=y.n()).done;)j=T.value,(S=j.divId)!==m&&(i+="@media screen and (min-width:".concat(f,"px)"),-1!==p&&(i+=" and (max-width:".concat(p,"px)")),i+=" {\n            #".concat(S," {display: none !important;}\n          }\n          "))}catch(a){y.e(a)}finally{y.f()}}}catch(a){u.e(a)}finally{u.f()}t+=i,t+="</style>"}return t+='\n    </head>\n    <body align="center">\n    <center>\n  ',t+=E,t+='\n  <table>\n    <tr>\n      <td>\n        <img src="http://'.concat(I,"/api/serve/email/").concat(O,'/1px.png" width="1px" height="1px" alt="1px"/>\n      </td>\n    </tr>\n  </table>\n  '),t+="\n    </center>\n    </body>\n  </html>\n  ",e.abrupt("return",t);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.head(t);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return",!0);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,o,i,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys(g).length>0)){e.next=18;break}t=0,n=Object.keys(g);case 2:if(!(t<n.length)){e.next=18;break}if(r=n[t],o=g[r].name,i=g[r].weight,c=void 0,c=i?"https://fonts.googleapis.com/css?family="+o.replace(/ /g,"+")+":"+Object.keys(i).join(","):"https://fonts.googleapis.com/css?family="+o.replace(/ /g,"+"),u="custom",!c){e.next=14;break}return e.next=12,U(c);case 12:e.sent&&(u="google",g[r].url=c);case 14:g[r].fontType=u;case 15:t++,e.next=2;break;case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(c.a)(a.a.mark((function e(t,n,i,c,u,s,d,T){var j,S,w,_,P;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f=1,m={},p={},g={},A=[],y=n,v=c,h=i,E="",b="\nhtml,\nbody {\n  margin: 0 !important;\n  padding: 0 !important;\n  height: 100% !important;\n  width: 100% !important;\n}\n\n/* What it does: Stops Outlook from adding extra spacing to tables. */\ntable,\ntd {\n  vertical-align: top !important;\n  /* mso-table-lspace: 0pt;\n  mso-table-rspace: 0pt; */\n}\n\n/* What it does: Replaces default bold style. */\nth {\n  font-weight: normal;\n}\n\n/* What it does: Fixes webkit padding issue. */\ntable {\n  /* width: 100%; */\n  border-spacing: 0 !important;\n  border-collapse: collapse !important;\n  table-layout: fixed !important;\n  margin: 0; /* removed the important..*/\n}\n\np {\n  /* margin:0; */\n}\n\n",I=d,O=T,e.prev=12,j=t.def,S=Object(l.a)(j.children);try{for(S.s();!(w=S.n()).done;)_=w.value,(s&&_.id===s||0===_.minWidth)&&(r=_),-1===_.maxWidth&&(o=_)}catch(a){S.e(a)}finally{S.f()}return e.next=18,D(j,null,null,"  ",null,!1);case 18:if(!u){e.next=22;break}return e.next=22,M();case 22:if(P="","export"!==h){e.next=29;break}return e.next=26,k();case 26:P=e.sent,e.next=30;break;case 29:P=L();case 30:return e.abrupt("return",{pageHtml:P,idToDivId:p,fontsUsed:g,elementProperties:m,artboards:A,error:null});case 33:return e.prev=33,e.t0=e.catch(12),console.log(e.t0),console.log("Error in generate code"),"<div> Unexpected error </div>",e.abrupt("return",{pageHtml:"<div> Unexpected error </div>",idToDivId:{},fontsUsed:{},elementProperties:{},artboards:[],error:e.t0});case 39:case"end":return e.stop()}}),e,null,[[12,33]])})));return function(t,n,r,o,i,a,c,u){return e.apply(this,arguments)}}(),W=n(6),H="SET_PAGE_DEF",q="SET_PAGE_HTML",G="SET_PAGE_HTML_FOR_EXPORT",V="SET_ID_TO_DIV_ID",Y="SET_IMAGE_URL_PREFIX",X="SET_WEBSITE_CURRENT_ARTBOARD",K="SET_WEBSITE_ARTBOARDS",z="SET_WEBSITE_ELEMENT_EXPANDED",J="SET_WEBSITE_CURRENT_ELEMENT",Q="SET_WEBSITE_HOVER_ELEMENT",Z="SET_FONTS_USED",$="SET_ELEMENT_PROPERTIES",ee="SET_ELEMENTS_PANEL_EXPANDED_STATE",te="INITIALIZE",ne="WEBSITE_UPDATE_PROPERTY",re="SET_EDITOR_MODE",oe="EDITOR_UNDO_STATE",ie="EDITOR_REDO_STATE",ae="EDITOR_UPDATE_OVERRIDES",ce="WEBSITE_CLEAR_ELEMENT_OVERRIDE",ue="SET_EXPORTED_EMAIL_PROJECT_COUNT",se=function(e){return{type:"SET_PROCESSING_STATUS",status:e}},de=function(e){return{type:H,pageDef:e}},le=function(e){return{type:q,pageHtml:e}},fe=function(e){return{type:G,pageHtmlForExport:e}},pe=function(e){return{type:V,idToDivId:e}},ge=function(e){return{type:Z,fontsUsed:e}},me=function(e){return{type:$,elementProperties:e}},ve=function(e){return{type:Y,imageUrlPrefix:e}},he=function(e){return{type:K,artboards:e}},ye=function(e,t){return{type:z,id:e,expanded:t}},Ee=function(e,t){return{type:J,elem:e,expandParents:t}},be=function(e,t,n){return{type:ne,id:e,prop:t,value:n}},Ae=function(e){return{type:ce,id:e}},Ie=function(e){return{type:re,editorMode:e}},Oe=function(e){return{type:oe,undoStateObj:e}},Te=function(e){return{type:ie,redoStateObj:e}},je=function(e){return{type:ae,overrides:e}},Se=function(e,t){return function(t,n){var r="/api/websiteEditor/loadProject/"+e;return t(se("LOADING PROJECT")),s.a.get(r).then(function(){var e=Object(c.a)(a.a.mark((function e(n){var r,o,i,c,u,s,l,f,p,g,m,v,h,y,E,b,A;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.data,o=r.pageDef,i=r.imagesPath,c=r.overrides,u=r.projectInfo,"localhost"===(s=window.location.hostname)&&(s="dev2.gamecommerce.com"),l="https://"+s+i,f=Date.now(),p=Object(d.cloneDeep)(o),g={},c&&c.pageOverride&&(g=c.pageOverride),e.next=14,B(p,g,"edit",l,!0,u.singlePxHost,u.campaignId);case 14:m=e.sent,v=m.pageHtml,h=m.idToDivId,y=m.fontsUsed,E=m.elementProperties,b=m.artboards,A=Date.now(),console.log("Time for generate code: "+(A-f)),t(Object(W.Y)(u)),t(de(o)),t(je(c)),t(le(v)),t(pe(h)),t(ge(y)),t(me(E)),t(ve(l)),t(he(b)),t(Ie("edit")),t({type:te}),De(t).then((function(e){t(se(null))})).catch((function(e){console.log("Failed to get exported email project count"),console.log(e),t(se("ERROR LOADING PROJECT"))}));case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){t(se("ERROR LOADING PROJECT"))}))}},we=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var o,i,c,u,s,l,f,p,g,m,v,h;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r(),i=o.pageDef,c=o.pageOverride?o.pageOverride:{},u=o.editorMode,console.log("Regenerating code for clear element override"),s=Date.now(),l=Object(d.cloneDeep)(i),(f=Object(d.cloneDeep)(c))[e]?delete f[e]:f[e]={},t.next=11,B(l,f,u,o.imageUrlPrefix,!1,o.currentArtboard,o.projectInfo.singlePxHost,o.projectInfo.campaignId);case 11:p=t.sent,g=p.pageHtml,m=p.idToDivId,v=p.elementProperties,h=Date.now(),console.log("Time for generate code: "+(h-s)),n(le(g)),n(pe(m)),n(me(v)),n(Ee(o.currentElement)),n(Ae(e));case 22:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},_e=function(e,t,n,r){return function(){var o=Object(c.a)(a.a.mark((function o(i,c){var u,s,l,f,p,g,m,v,h,y,E,b;return a.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return u=c(),s=u.pageDef,l=u.pageOverride?u.pageOverride:{},f=u.editorMode,console.log("Regenerating code for update property"),p=Date.now(),g=Object(d.cloneDeep)(s),(m=Object(d.cloneDeep)(l))[e]||(m[e]={}),m[e][t]=n,o.next=12,B(g,m,f,u.imageUrlPrefix,!1,u.currentArtboard,u.projectInfo.singlePxHost,u.projectInfo.campaignId);case 12:v=o.sent,h=v.pageHtml,y=v.idToDivId,E=v.elementProperties,b=Date.now(),console.log("Time for generate code: "+(b-p)),i(le(h)),i(pe(y)),i(me(E)),i(Ee("visible"===t?r:u.currentElement)),i(be(e,t,n));case 23:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}()},Pe=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,o,i,c,u,s,l,f,p,g,m,v,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),o=r.pageDef,i=r.pageOverride?r.pageOverride:{},c=r.editorMode,u="edit"===c?"preview":"edit",console.log("Regenerating code for mode: "+u),s=Date.now(),l=Object(d.cloneDeep)(o),f=Object(d.cloneDeep)(i),e.next=11,B(l,f,u,r.imageUrlPrefix,!1,r.currentArtboard,r.projectInfo.singlePxHost,r.projectInfo.campaignId);case 11:p=e.sent,g=p.pageHtml,m=p.idToDivId,v=p.elementProperties,h=Date.now(),console.log("Time for generate code: "+(h-s)),t(le(g)),t(pe(m)),t(me(v)),t(Ie(u)),"edit"===u&&setTimeout((function(){t(Ee(r.currentElement))}),600);case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},xe=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,o,i,c,u,s,l,f,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),o=r.pageDef,i=r.pageOverride?r.pageOverride:{},"export",console.log("Regenerating code for mode: export"),c=Date.now(),u=Object(d.cloneDeep)(o),s=Object(d.cloneDeep)(i),e.next=10,B(u,s,"export",r.imageUrlPrefix,!0,null,r.projectInfo.singlePxHost,r.projectInfo.campaignId);case 10:l=e.sent,f=l.pageHtml,p=Date.now(),console.log("Time for generate code: "+(p-c)),Ne(r).then((function(e){De(t).then((function(e){t(fe(f))})).catch((function(e){console.log("Failed to get exported email project count"),console.log(e),t(fe(null))}))})).catch((function(e){console.log("Failed to mark project exported"),console.log(e),t(fe(null))}));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ne=function(e){var t="/api/websiteEditor/markProjectExported/"+e.projectInfo.id,n={exported:1};return s.a.post(t,n)},De=function(e){return s.a.get("/api/websiteEditor/getExportedProjectCount/email").then((function(t){var n=t.data.count;e({type:ue,projectCount:n})}),(function(e){console.log("Failed to get exported project count"),console.log(e)}))},Re=function(){return function(e,t){return new Promise((function(n,r){var o=[];console.log("In save"),e(se("saving"));var i=t();o.push(Object(W.O)(i,e,!1,1,!1)),o.push(function(e){var t="/api/websiteEditor/saveOverrides/"+e.projectInfo.id,n={};return n.pageOverride=e.pageOverride,s.a.post(t,n)}(i)),Promise.all(o).then((function(t){e(se("saved")),n()})).catch((function(t){console.log("Failed to save all the items"),console.log(t),e(se("not saved"))}))}))}},Ce=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,o){var i,c,u,s,l,f,p,g,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Regenerating code: "),i=Date.now(),c=Object(d.cloneDeep)(t.pageDef),u=Object(d.cloneDeep)(r),s=o||t.currentArtboard,e.next=7,B(c,u,t.editorMode,t.imageUrlPrefix,!1,s,t.projectInfo.singlePxHost,t.projectInfo.campaignId);case 7:l=e.sent,f=l.pageHtml,p=l.idToDivId,g=l.elementProperties,m=Date.now(),console.log("Time for generate code: "+(m-i)),n(le(f)),n(pe(p)),n(me(g));case 16:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),Fe=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r(),n({type:X,currentArtboard:e}),t.next=4,Ce(o,n,o.pageOverride,e);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Le=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n()).stateHistory&&!(r.stateHistoryIndex<0)){e.next=3;break}return e.abrupt("return");case 3:return o=r.stateHistory[r.stateHistoryIndex],t(Oe(o)),e.next=7,Ce(r,t,o.pageOverride);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ke=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n()).stateHistory&&!(r.stateHistoryIndex>r.stateHistory.length-3)){e.next=3;break}return e.abrupt("return");case 3:return o=r.stateHistory[r.stateHistoryIndex+2],t(Te(o)),e.next=7,Ce(r,t,o.pageOverride);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},14:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"m",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"p",(function(){return p})),n.d(t,"o",(function(){return g})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return h})),n.d(t,"k",(function(){return y})),n.d(t,"n",(function(){return E})),n.d(t,"i",(function(){return b})),n.d(t,"l",(function(){return A})),n.d(t,"a",(function(){return I})),n.d(t,"F",(function(){return O})),n.d(t,"w",(function(){return T})),n.d(t,"D",(function(){return j})),n.d(t,"E",(function(){return x})),n.d(t,"G",(function(){return N})),n.d(t,"s",(function(){return F})),n.d(t,"q",(function(){return L})),n.d(t,"H",(function(){return k})),n.d(t,"x",(function(){return U})),n.d(t,"v",(function(){return M})),n.d(t,"C",(function(){return B})),n.d(t,"z",(function(){return W})),n.d(t,"y",(function(){return H})),n.d(t,"I",(function(){return q})),n.d(t,"A",(function(){return G})),n.d(t,"B",(function(){return V})),n.d(t,"J",(function(){return Y})),n.d(t,"r",(function(){return X})),n.d(t,"u",(function(){return K})),n.d(t,"t",(function(){return z}));var r=n(10),o=n(2),i=n.n(o),a=n(4),c="SET_ACCESS_INFO",u="SET_ACCESS_REQUESTED",s="SET_DOWNGRADE_REQUESTED",d="SET_WAITLIST_ACCESS_REQUESTED",l="SET_PDF_AGREEMENT",f="SET_ACCESS_ERRORS",p="USER_CREATION_STATUS",g="UPDATE_TIERS",m="SET_EMAIL_VERIFIED",v="SET_EMAIL_EXISTS",h="SET_ALLOW_RESET_PASSWORD",y="SET_RESET_PASSWORD_COMPLETE",E="UPDATE_STRIPE_PUBLIC_KEY",b="SET_HOMEPAGE_CONFIRMATION_INFO",A="SET_SHOW_INSTRUCTION",I="JUMP_TO_INSTRUCTION",O=function(e){return{type:A,show:e}},T=function(e){return{type:I,id:e}},j=function(e){return{type:s,downgradeRequested:e}},S=function(e){return{type:m,emailVerified:e}},w=function(e){return{type:v,emailExists:e}},_=function(e){return{type:h,allowResetPassword:e}},P=function(e){return{type:y,resetPasswordComplete:e}},x=function(e){return{type:b,homepageConfirmationInfo:e}},N=function(e){return{type:d,waitlistAccessRequested:e}},D=function(e){return{type:c,accessInfo:e}},R=function(e){return{type:f,accessErrors:e}},C=function(e){return{type:p,userCreationStatus:e}},F=function(e){return function(t){var n,o=Object(r.a)({},e),a=o.policyAccept,c=o.receiveUpdates,u=o.password,s=o.company,d=o.firstName,l=o.lastName,f=o.email,p=o.agreementId,g=o.tier,m=o.country,v=o.pricingPlanId,h=o.channel,y=o.paymentSource,E=o.paymentType,b=o.featureList,A=o.t,I=o.tt;return t(C(!0)),n=e.code?"/api/creator/enableCreatorAccess/".concat(e.code):"/api/creator/enableCreatorAccess",i.a.post(n,{policyAccept:a,receiveUpdates:c,password:u,company:s,firstName:d,lastName:l,email:f,agreementId:p,tier:g,country:m,pricingPlanId:v,channel:h,paymentSource:y,paymentType:E,featureList:b,t:A,tt:I}).then((function(e){var n=e.data,r=localStorage.getItem("anonymousProjectId"),o=localStorage.getItem("anonymousProjectKey");r?i.a.post("/api/creator/updateAccountForClonedProject",{projectId:r,projectKey:o}).then((function(e){t(D(n)),t(C(!1)),t(x(1!==g&&y?{title:"Welcome!",message:"Your payment has been processed. Thank you and welcome to Quest AI."}:{title:"Welcome!",message:"Thank you and welcome to Quest AI."}))}),(function(e){t(D(n)),t(C(!1)),t(x(1!==g&&y?{title:"Welcome!",message:"Your payment has been processed. Thank you and welcome to Quest AI."}:{title:"Welcome!",message:"Thank you and welcome to Quest AI."}))})):(t(D(n)),t(C(!1)),t(x(1!==g&&y?{title:"Welcome!",message:"Your payment has been processed. Thank you and welcome to Quest AI."}:{title:"Welcome!",message:"Thank you and welcome to Quest AI."})))}),(function(e){t(C(!1)),t(R(e.response.data.message))}))}},L=function(e,t){return function(n,r){var o=r().accountInfo.tierid;return n(C(!0)),i.a.post("/api/creator/changeTier",{tierId:e,paymentSource:t}).then((function(e){n(C(!1)),n(x(1===o?{title:"Thank You!",message:"Your payment has been processed. Thank you and welcome to Quest AI."}:{title:"Thank You!",message:"Your subscription has been updated."})),n(Object(a.k)(!0))}),(function(e){}))}},k=function(e){return function(t){return t(C(!0)),i.a.post("/api/creator/updatePayment",{paymentSource:e}).then((function(e){t(C(!1));t(x({title:"Welcome!",message:"Your payment has been processed. Thank you and welcome to Quest AI."})),t(Object(a.k)(!0))}),(function(e){}))}},U=function(){return function(e,t){return i.a.get("/api/creator/loadTiers").then((function(t){var n=t.data.data;e(function(e){return{type:g,tiers:e}}(n))}),(function(e){console.log("Failed to get tiers"),console.log(e)}))}},M=function(){return function(e,t){return i.a.get("/api/creator/getStripePublicKey").then((function(t){var n=t.data.publicKey;e({type:E,publicKey:n})}),(function(e){console.log("Failed to get stripe public key"),console.log(e)}))}},B=function(e,t){return function(n){return i.a.post("/api/creator/sendWaitlistRequest",{code:e,email:t}).then((function(e){n(N(!0))}),(function(e){console.log("Error in requesting access"),console.log(e)}))}},W=function(e){return function(t,n){var r=n(),o={1:"Free",7:"Personal",3:"Pro",4:"Enterprise"},a="Downgrade request for: "+r.accountInfo.name+"("+r.accountInfo.id+")",c="User: "+r.userInfo.username+"  has request downgrade of their account from "+o[r.accountInfo.tierid]+" to "+o[e]+".";return i.a.post("/api/creator/sendMail",{email:"support@quest.ai",subject:a,message:c}).then((function(e){t(j(!0))}),(function(e){console.log("Error in sending downgrade email"),console.log(e)}))}},H=function(e,t,n){return function(r){return r(P(null)),i.a.post("/api/creator/resetUserPassword",{userId:e,hashCode:t,password:n}).then((function(e){"ok"===e.data.status?r(P(!0)):r(P(!1))}),(function(e){console.log("Could not reset password"),console.log(e),r(P(!1))}))}},q=function(e,t){return function(n){return n(_(null)),i.a.post("/api/creator/validateResetPasswordCode",{userId:e,hashCode:t}).then((function(e){"ok"===e.data.status?n(_(!0)):n(_(!1))}),(function(e){console.log("Could not check reset password code"),console.log(e),n(_(!1))}))}},G=function(e){return function(t){return i.a.post("/api/creator/sendResetPasswordEmail",{email:e}).then((function(e){}),(function(e){console.log("Error in sending reset password email"),console.log(e)}))}},V=function(e,t,n){return function(r){return i.a.post("/api/creator/sendVerificationEmail",{email:e,name:t,url:n}).then((function(e){}),(function(e){console.log("Error in sending verification email"),console.log(e)}))}},Y=function(e,t){return function(n){return n(S(null)),i.a.post("/api/creator/verifyEmail",{userId:e,hashCode:t}).then((function(e){"success"===e.data.status?n(S(!0)):n(S(!1))}),(function(e){console.log("Could not verify email"),console.log(e),n(S(!1))}))}},X=function(e){return function(t){return t(w(null)),i.a.post("/api/creator/checkEmailExists",{email:e}).then((function(e){"ok"===e.data.status?t(w(!0)):t(w(!1))}),(function(e){console.log("Could not check email"),console.log(e),t(w(!1))}))}},K=function(){return function(e){return i.a.get("/api/creator/getLatestAgreement").then((function(t){var n;e((n=t.data,{type:l,pdfAgreement:n}))}),(function(e){console.log("Error in get PDF agreement",e)}))}},z=function(e){return function(t){return i.a.get("/api/creator/getCreatorAccessInfo/".concat(e)).then((function(e){delete e.data.status,t(D(e.data))}),(function(e){t(R(e.response.data.message)),console.log("Failed to get creator access info - -",e.response.data)}))}}},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return lt}));var r=n(15),o=n(3),i=n(16),a=n(7),c=n(1),u=n(8),s=function(e,t){t.show?e.showDownloadModal=!0:delete e.showDownloadModal},d=function(e,t){e.showWhatsNew=t.show},l=function(e,t){var n=t.show;n?e.showExportPopModal=n:delete e.showExportPopModal},f=function(e,t){var n=t.isSuccessful,r=t.message;n?(e.shareStatusSuccessful=!0,e.shareStatusMessage=r):(e.shareStatusSuccessful=!1,e.sharemessage=r)},p=function(e,t){t.show?e.showSharePopModal=!0:delete e.showSharePopModal},g=function(e,t){t.warningMessage?e.warningMessage=t.warningMessage:delete e.warningMessage},m=function(e,t){e.errorScenes&&(e.errorScenes=e.errorScenes.filter((function(e){return e!==t.cleanScene})))},v=function(e,t){e.errorScenes?e.errorScenes.includes(t.errorScenes)||e.errorScenes.push(t.errorScene):e.errorScenes=[t.errorScene]},h=function(e,t){e.codeEditorScene=t.sceneName},y=function(e,t){e.showEditor=t.show},E=function(e,t){e.rebuildProjectEnabled=t.signal},b=function(e,t){var n=t.gameAdConfig;e.gameAdConfig||(e.gameAdConfig={});for(var r=0,o=Object.keys(n);r<o.length;r++){var i=o[r];e.gameAdConfig[i]=n[i]}},A=function(e,t){e.projectSizeType=t.projectSizeType},I=function(e,t){e.isProjectRebuilding=t.isRebuilding},O=function(e,t){e.notificationExpand=t.expand},T=function(e,t){e.modalType=t.modalType},j=function(e,t){e.stateHistory=[],e.creatorScene=t.creatorScene,e.propertiesPanelExpandedSections={properties:!0,text:!0},e.currentArtboard=null,Me(e),S(e)},S=function(e){e.elementImageSources={};var t=e.gameDef;if(t){var n,r=t.screens,i=Object(o.a)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;w(e,a.guid,a)}}catch(c){i.e(c)}finally{i.f()}}},w=function e(t,n,r){if(r.children){var i,a=Object(o.a)(r.children);try{for(a.s();!(i=a.n()).done;){e(t,n,i.value)}}catch(c){a.e(c)}finally{a.f()}}else _(t,n,r)},_=function(e,t,n){var r,o,i="website"===e.projectInfo.type,a=e.creatorScene,c=e.questai;if(i){if(!(r=c.getElement(Object(u.m)(n))))return console.log("WARNING: Cannot find the element: "+Object(u.m)(n)),null;"image"===r.getAttribute("data-elementType")&&(e.elementImageSources[r.getAttribute("data-guid")]=r.src)}else{if(!(r=a.scene.get(t).getElement(Object(u.m)(n))))return console.log("WARNING: Cannot find the element: "+Object(u.m)(n)),null;var s=r.texture,d=r.frame;if(!s||!d)return null;o=s.manager.getBase64(s.key,d.name),e.elementImageSources[r.guid]=o}},P=function(e,t){if(e.creatorScene||e.websiteLoaded){e.elementsPanelInitialized=!0;var n={},r=x(e);if("website"!==e.projectInfo.type){var i,a=Object(o.a)(r);try{for(a.s();!(i=a.n()).done;){var c=i.value,u=e.creatorScene.scene.get(c.key).getSequenceMetadata();n[c.key]=u}}catch(s){a.e(s)}finally{a.f()}e.sequencesObj=n}e.sceneNames=r,N(e,t)}},x=function(e){var t=e.gameDef;if(t){var n,i=t.screens,a=[],c=Object(o.a)(i.entries());try{for(c.s();!(n=c.n()).done;){var u=Object(r.a)(n.value,2),s=u[0],d=u[1];a.push({key:d.guid,index:s})}}catch(l){c.e(l)}finally{c.f()}return a}return null},N=function(e,t){var n=e.gameDef,r="website"===e.projectInfo.type,i=n.screens[0],a=[];if(r){a.push(Object(u.m)(i));var c,s=Object(o.a)(i.children);try{for(s.s();!(c=s.n()).done;){var d=c.value;if((d.name?d.name:Object(u.m)(d))===e.currentArtboard){i=d;break}}}catch(f){s.e(f)}finally{s.f()}}var l=a.concat(function e(t,n){var r=[],i=t.gameAdConfig.artBoards,a=!!(i&&i.length>0)&&i.find((function(e){return e.name===(n.name?n.name:Object(u.m)(n))}));if(n.visible||a)if(n.children){var c,s=Object(o.a)(n.children);try{for(s.s();!(c=s.n()).done;){var d=e(t,c.value);if(d.length>0){var l=[];l.push(Object(u.m)(n)),r=l.concat(d);break}}}catch(f){s.e(f)}finally{s.f()}}else r.push(Object(u.m)(n));return r}(e,i));0===l.length&&i.children.length>0&&l.push(Object(u.m)(i.children[0])),e.elementsPanelExpandedState=l},D=function(e,t){t.expanded?e.elementsPanelExpandedState.push(t.guid):e.elementsPanelExpandedState=e.elementsPanelExpandedState.filter((function(e){return e!==t.guid}))},R=function(e,t){e.gameAdConfig||(e.gameAdConfig={}),e.gameAdConfig[t.prop]=t.value},C=function(e,t){e.gameAdConfig||(e.gameAdConfig={}),(!e.gameAdConfig.gc_external_header_libs||e.gameAdConfig.gc_external_header_libs.length<=0)&&(e.gameAdConfig.gc_external_header_libs=[]),e.gameAdConfig.gc_external_header_libs.push("")},F=function(e,t){e.gameAdConfig.gc_external_header_libs[t.index]=t.value},L=function(e,t){e.gameAdConfig.gc_external_header_libs.splice(t.index,1)},k=function(e,t){e.gameAdConfig||(e.gameAdConfig={});var n=0;!e.gameAdConfig.data_sets||e.gameAdConfig.data_sets.length<=0?e.gameAdConfig.data_sets=[]:n=Math.max.apply(Math,e.gameAdConfig.data_sets.map((function(e){return e.id}))),e.gameAdConfig.data_sets.push({id:n+1,dataSourceId:null,dataSetName:"",dataRange:null})},U=function(e,t){e.gameAdConfig.data_sets.find((function(e){return e.id===t.id}))[t.name]=t.value},M=function(e,t){e.gameAdConfig.data_sets=e.gameAdConfig.data_sets.filter((function(e){return e.id!==t.id}))},B=function(e,t){e.gameAdConfig||(e.gameAdConfig={}),e.gameAdConfig.useAI=!e.gameAdConfig.useAI;var n=window.frames.phaserFrame,r={method:"toggleAI",detail:{detail:{enableAI:e.gameAdConfig.useAI}}};n.postMessage(r,"*")},W=function(e,t){e.gameAdConfig||(e.gameAdConfig={}),e.gameAdConfig.include_spine=t.value,t.value&&(e.gameAdConfig.renderer="webgl")},H=function(e,t){var n,r=Object(u.i)(e.sceneNames,e.gameDef,e.currentScene,e.currentElement.guid).imageFileName,i=Object(u.j)(e.sceneNames,e.gameDef,r),a=!1,c=[],s=Object(o.a)(i);try{for(s.s();!(n=s.n()).done;){var d=n.value;d.def.ai_scaled=!d.def.ai_scaled,c.push({guid:Object(u.m)(d.def),scene:d.scene}),a=d.def.ai_scaled}}catch(f){s.e(f)}finally{s.f()}var l={method:"toggleElementLevelAI",detail:{detail:{elems:c,enableAI:a}}};window.frames.phaserFrame.postMessage(l,"*")},q=function(e){var t,n=Object(u.i)(e.sceneNames,e.gameDef,e.currentScene,e.currentElement.guid).imageFileName,r=Object(u.j)(e.sceneNames,e.gameDef,n),i=Object(o.a)(r);try{for(i.s();!(t=i.n()).done;){delete t.value.def.ai_scaled}}catch(a){i.e(a)}finally{i.f()}},G=function(e,t){e.uploadFontStatus=t.uploadFontStatus},V=function(e,t){var n=t.projectFont,r={family:t.projectFont,font_style:"normal",font_weight:400,src:["local(".concat(t.projectFont,")"),'url("assets/'.concat(t.projectFont,'.ttf") format("truetype")')]};e.gameAdConfig||(e.gameAdConfig={}),e.gameAdConfig.font_name=n,e.gameAdConfig.font_face=r},Y=function(e,t){var n=t.stateNames;X(e,n)},X=function(e,t){var n,r=Object(o.a)(t);try{for(r.s();!(n=r.n()).done;){delete e[n.value]}}catch(i){r.e(i)}finally{r.f()}},K=function(e,t){X(e,["gameAdConfigDraft","processingStatus","errorScenes","projectInfo","currentElement","currentScene","currentSet","creatorScene","gameDef","gameOverride","eventTimelines","actions","gameAdConfig","elementProperties","projectLoadStatus","sceneNames","sequencesObj","selectedAction","elementsPanelInitialized","selectedEventTimeline","audioJSON","modalType","assetProcessStatus","rightPanelTab","rebuildProjectEnabled","elementsPanelExpandedState","codeEditorScene","showEditor","audioNames","uploadFontStatus","numCodeDownloads","projectSizeType","codeFiles","alertLog","questai","websiteLoaded","currentArtboard","componentUsage","pageComponents","isAIReady"])},z=function(e,t){e.assetProcessStatus=t.assetProcessStatus},J=function(e,t){e.resyncSpineStatus=t.resyncSpineStatus},Q=function(e,t){e.googleFonts=t.googleFonts},Z=function(e,t){e.pageComponents=t.pageComponents},$=function(e,t){ee(e,t.fontFamily,t.fontWeight)},ee=function(e,t,n){var r=e.gameAdConfig.fonts,o=!1;if(r[t]&&"custom"===r[t].type)r[t].included=!0;else{for(var i=0,a=Object.keys(r);i<a.length;i++){var c=a[i];if("google"===r[c].type&&r[c].name===t){for(var u=!1,s=0,d=Object.keys(r[c].weight);s<d.length;s++){n===d[s]&&(u=!0)}u||(r[c].weight[n]=n,r[c].url+=","+n),o=!0}}if(!o){var l={};l.name=t;var f=t.replace(" ","+");l.url="https://fonts.googleapis.com/css?family="+f+":"+n,l.weight={},l.weight[n]=n,r[t]=l}}},te=function(e,t){e.phaserRefreshNum?e.phaserRefreshNum=e.phaserRefreshNum+1:e.phaserRefreshNum=1},ne=function(e,t){re(e,t.scene)},re=function(e,t){var n=e.currentScene,r=e.gameOverride;if(e.currentScene=t,!("website"===e.projectInfo.type)){var o=window.frames.phaserFrame,i={method:"changeScene",detail:{detail:{prevKey:n,newKey:t}}};if(o.postMessage(i,"*"),r&&r[t]){var a={method:"configureScene",detail:{detail:{key:t,gameOverride:JSON.parse(JSON.stringify(r[t]))}}};o.postMessage(a,"*")}}},oe=function(e,t){ie(e,t.artBoard)},ie=function(e,t){e.currentArtboard=t;var n={method:"changeArtboard",detail:{detail:{artBoard:t}}};window.frames.phaserFrame.postMessage(n,"*")},ae=function(e,t){var n,r=t.scene,i=t.guid,a=t.skipUpdatePhaser,c=Object(o.a)(t.props);try{for(c.s();!(n=c.n()).done;){var u=n.value,s=u.value,d=u.property;se(e,r,i,s,d,a)}}catch(l){c.e(l)}finally{c.f()}!0!==a&&ke(e,r)},ce=function(e,t){var n=t.scene,r=t.guid,o=t.value,i=t.property,a=t.skipUpdatePhaser;ue(e,n,r,o,i,a)},ue=function(e,t,n,r,o,i){se(e,t,n,r,o),!0!==i&&(ke(e,t),"imageKey"===o&&(delete e.gameOverride[t][n][o],0===Object.keys(e.gameOverride[t][n]).length&&delete e.gameOverride[t][n],0===Object.keys(e.gameOverride[t]).length&&delete e.gameOverride[t],0===Object.keys(e.gameOverride).length&&(e.gameOverride=null)))},se=function(e,t,n,r,o,i){e.gameOverride||(e.gameOverride={}),e.gameOverride[t]||(e.gameOverride[t]={}),e.gameOverride[t][n]||(e.gameOverride[t][n]={}),e.propsTouched||(e.propsTouched={}),e.propsTouched[t]||(e.propsTouched[t]={}),e.propsTouched[t][n]||(e.propsTouched[t][n]={});var a,c="website"===e.projectInfo.type;if(c)a=e.questai.getElement(n);else{var u=e.creatorScene.scene.get(t);u||(console.log("Scene not found: "+t),console.log("guid: "+n)),a=u.getElement(n)}if(!c){if("originX"===o||"originY"===o)if("originX"===o){if(!isNaN(parseFloat(r))){var s=parseFloat(r)-a.originX,d=a.x+a.displayWidth*s;e.gameOverride[t][n].x=d,e.elementProperties[t][n].x=d,e.propsTouched[t][n].x=!0}}else if(!isNaN(parseFloat(r))){var l=parseFloat(r)-a.originY,f=a.y+a.displayHeight*l;e.gameOverride[t][n].y=f,e.elementProperties[t][n].y=f,e.propsTouched[t][n].y=!0}"imageKey"===o&&(e.elementImageSources[n]=r.base64,e.gameOverride[t][n][o]=r.base64,e.elementProperties[t][n][o]=r.base64,e.propsTouched[t][n][o]=!0,e.imageFiles||(e.imageFiles={}),e.imageFiles[n]||(e.imageFiles[n]={},e.imageFiles[n].fileName=a.frame.name),e.imageFiles[n].data=r.data)}if("loadFont"===o&&ee(e,r.fontFamily,r.fontWeight),"originX"!==o&&"originY"!==o&&"loadFont"!==o&&"imageKey"!==o||!isNaN(parseFloat(r))){var p;"wordWrapWidth"===o&&(p=parseFloat(e.elementProperties[t][n][o])),e.gameOverride[t][n][o]=r,e.propsTouched[t][n][o]=!0;var g=r;if("wordWrapWidth"===o&&(r.toString().endsWith("px")||(g=r+"px"),c&&!i)){var m="true"===a.getAttribute("data-widthchanged")||!0===a.getAttribute("data-widthchanged"),v=parseFloat(r)-p;m||a.setAttribute("data-widthchanged","true");var h=a.style.textAlign,y=parseFloat(e.elementProperties[t][n].x);"left"===h?(e.gameOverride[t][n].x=y+v/2,e.propsTouched[t][n].x=!0,e.elementProperties[t][n].x=e.gameOverride[t][n].x):"right"===h&&(e.gameOverride[t][n].x=y-v/2,e.propsTouched[t][n].x=!0,e.elementProperties[t][n].x=e.gameOverride[t][n].x)}e.elementProperties[t][n][o]=g}},de=function(e,t){var n=Object(u.w)(e),r=n?n.sort((function(e,t){return e.sequence-t.sequence})):[],i=r.find((function(e){return e.id===t}));i&&function e(t,n,r){var i,a=r.offset+r.duration,c=n.filter((function(e){return e.startAfter===r.id})),u=Object(o.a)(c);try{for(u.s();!(i=u.n()).done;){var s=i.value;Zt(t.actions,s.id,"offset",a),e(t,n,s)}}catch(d){u.e(d)}finally{u.f()}}(e,r,i)},le=function(e,t){var n,r=t.oldFontFamily,i=t.oldFontWeight,a=t.newFontFamily,c=t.newFontWeight,s=Object(o.a)(e.gameDef.screens);try{for(s.s();!(n=s.n()).done;){var d=n.value;fe(e,Object(u.m)(d),d,r,i,a,c),ke(e,Object(u.m)(d))}}catch(l){s.e(l)}finally{s.f()}},fe=function e(t,n,r,i,a,c,s){if(r.font&&r.fontWeight&&(t.gameOverride&&t.gameOverride[n]&&t.gameOverride[n][Object(u.m)(r)]&&t.gameOverride[n][Object(u.m)(r)].fontFamily||r.font===i&&r.fontWeight.toString()===a.toString()&&(se(t,n,Object(u.m)(r),c,"fontFamily"),se(t,n,Object(u.m)(r),s,"fontWeight"))),r.children){var d,l=Object(o.a)(r.children);try{for(l.s();!(d=l.n()).done;){e(t,n,d.value,i,a,c,s)}}catch(f){l.e(f)}finally{l.f()}}},pe=function(e,t){var n=ge(e,t.componentType);n.guid=t.guid,e.components.push(n)},ge=function(e,t){var n,r={};return r.type=t,e.components&&0!==e.components.length?n=e.components.reduce((function(e,t){return e.id>t.id?e:t})).id+1:(e.components=[],n=1),r.id=n,r},me=function(e,t){e.components.find((function(e){return e.id===t.id}))[t.prop]=t.value},ve=function(e,t){he(e,t.id)},he=function(e,t){var n=e.components.find((function(e){return e.id===t}));e.components=e.components.filter((function(e){return e.id!==n.id}))},ye=function(e,t){var n=Ee(e,t.featureType,t.scene);if("dynamic"===n.type&&(n.dynamicData=t.extraValue),"onPageLoad"!==n.type&&(n.guid=t.guid),"video"===n.type&&(n.videoType="file",n.autoplay=!0,n.muted=!0,n.playsInline=!0),"input"===n.type){var r=e.questai.getElement(t.guid);n.fieldName=r.getAttribute("data-name")?r.getAttribute("data-name"):t.guid}"parallaxScroll"===n.type&&(n.relativeSpeed=-2),"scrollTrigger"===n.type&&(n.position=0,n.playOnce=!0),"anchor"===n.type&&(n.anchorName=e.elementProperties[t.scene][t.guid].name),"boundingBox"===n.type&&(n.leftOffset=0,n.rightOffset=0,n.topOffset=0,n.bottomOffset=0),"click"===n.type&&(n.textPortion="ALL");var o="website"===e.projectInfo.type;"video"!==n.type&&"iframe"!==n.type||o||q(e),e.features.push(n),be(e,n.id)},Ee=function(e,t,n){var r,o={};o.type=t,o.scene=n,e.features&&0!==e.features.length?r=e.features.reduce((function(e,t){return e.id>t.id?e:t})).id+1:(e.features=[],r=1),o.id=r;var i=e.features.filter((function(t){return t.guid===e.currentElement.guid}));return o.sequence=i.length+1,o},be=function(e,t){At(e,t);var n=e.features.find((function(e){return e.id===t}));if(n&&n.guid&&!ot(e,n.scene,n.guid))De(e,t);else{var r;if(["click","clickOutside","mouseOver","mouseOut","onPageLoad","scrollTrigger","scrollOffTrigger"].includes(n.type)&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Actions",featureActionId:-1}),n.actions&&0!==n.actions.length?Et(e,r):yt(e,"error",ut(n,"Actions"),"At least one action is required for any interaction or scroll feature",r),n.actions&&n.actions.length>0)){var i,a=Object(o.a)(n.actions);try{var c=function(){var o=i.value,a=e.featureActions.find((function(e){return e.id===o}));"setVisibility"===a.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Element",featureActionId:a.id}),a.guid?a.guid&&n.scene&&rt(e,n.scene)&&!ot(e,n.scene,a.guid)?yt(e,"error",ut(n,"Element"),"This element does not exist in the project",r):Et(e,r):yt(e,"error",ut(n,"Element"),"Set Visibility action needs an element",r)),"setColor"===a.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Element",featureActionId:a.id}),a.guid?a.guid&&n.scene&&rt(e,n.scene)&&!ot(e,n.scene,a.guid)?yt(e,"error",ut(n,"Element"),"This element does not exist in the project",r):Et(e,r):yt(e,"error",ut(n,"Element"),"Set Color action needs an element",r)),"saveInputData"===a.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Data Source",featureActionId:a.id}),a.dataSourceId?Et(e,r):yt(e,"error",ut(n,"Data Source"),"Save Input Data action needs a data source",r)),"playTimeline"===a.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Timeline",featureActionId:a.id}),a.timeline?Et(e,r):yt(e,"error",ut(n,"Timeline"),"Play Timeline action needs a timeline",r)),"url"===a.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"URL",featureActionId:a.id}),a.url&&Ae(a.url)?Et(e,r):yt(e,"error",ut(n,"URL"),"URL action needs a valid URL",r)),"method"===a.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Method Name",featureActionId:a.id}),a.methodName?Et(e,r):yt(e,"error",ut(n,"Method Name"),"Page Method action needs a method name",r)),"anchorLink"===a.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Link Name",featureActionId:a.id}),a.linkName?Et(e,r):yt(e,"error",ut(n,"Link Name"),"Anchor link action needs a link name",r))};for(a.s();!(i=a.n()).done;)c()}catch(u){a.e(u)}finally{a.f()}}"iframe"===n.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"iFrame URL",featureActionId:-1}),n.iframeURL&&Ae(n.iframeURL)?Et(e,r):yt(e,"error",ut(n,"iFrame URL"),"iFrame feature must have a valid iFrame URL",r)),"anchor"===n.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Anchor Name",featureActionId:-1}),n.anchorName?Et(e,r):yt(e,"error",ut(n,"Anchor Name"),"Anchor feature must have an anchor name",r)),"parallaxScroll"===n.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Relative Speed",featureActionId:-1}),n.relativeSpeed?Et(e,r):yt(e,"error",ut(n,"Relative Speed"),"Parallax scrolling feature must have a valid relative speed",r)),"scrollTrigger"===n.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Position",featureActionId:-1}),n.position||0===n.position?Et(e,r):yt(e,"error",ut(n,"Position"),"Scroll trigger feature must have a valid position",r)),"altText"===n.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Alt Text",featureActionId:-1}),n.altText?Et(e,r):yt(e,"error",ut(n,"Alt Text"),"Alt Text feature must have a non-empty Alt Text",r)),"boundingBox"===n.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"BoundingBox",featureActionId:-1}),null===n.leftOffset||void 0===n.leftOffset||isNaN(parseInt(n.leftOffset))||parseInt(n.leftOffset)<0?yt(e,"error",ut(n,"Left Offset"),"Bounding Box feature must have a valid left offset",r):Et(e,r),null===n.rightOffset||void 0===n.rightOffset||isNaN(parseInt(n.rightOffset))||parseInt(n.rightOffset)<0?yt(e,"error",ut(n,"Right Offset"),"Bounding Box feature must have a valid right offset",r):Et(e,r),null===n.topOffset||void 0===n.topOffset||isNaN(parseInt(n.topOffset))||parseInt(n.topOffset)<0?yt(e,"error",ut(n,"Top Offset"),"Bounding Box feature must have a valid top offset",r):Et(e,r),null===n.bottomOffset||void 0===n.bottomOffset||isNaN(parseInt(n.bottomOffset))||parseInt(n.bottomOffset)<0?yt(e,"error",ut(n,"Bottom Offset"),"Bounding Box feature must have a valid bottom offset",r):Et(e,r)),"input"===n.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Field Name",featureActionId:-1}),n.fieldName?Et(e,r):yt(e,"error",ut(n,"Field Name"),"Input feature must have a non-empty field name",r)),"video"===n.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Video Source",featureActionId:-1}),"youtubeUrl"!==n.videoType||n.videoSource&&Ae(n.videoSource)?Et(e,r):yt(e,"error",ut(n,"Video Source"),"Video feature must have a valid Video Source URL",r),"file"!==n.videoType||n.videoSource?Et(e,r):yt(e,"error",ut(n,"Video Source"),"Video feature must have a valid Video Source",r)),"data"===n.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Data Set",featureActionId:-1}),n.dataSetId?Et(e,r):yt(e,"error",ut(n,"Data Set"),"Data feature must have a valid data set",r),r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Field",featureActionId:-1}),n.colNum?Et(e,r):yt(e,"error",ut(n,"Field"),"Data feature must have a valid field",r)),"spine"===n.type&&(r=dt({type:"feature",featureId:t,featureType:n.type,guid:n.guid,field:"Spine key",featureActionId:-1}),n.spineKey?Et(e,r):yt(e,"error",ut(n,"Spine key"),"Spine feature must have a non-empty Spine key",r))}},Ae=function(e){return!(!e||!(e.includes("://")||e.startsWith("/")||e.indexOf(":")>0))},Ie=function(e,t){var n=t.featureId,r=e.features.find((function(e){return e.id===n})),o=Oe(e,t.featureActionType);r.actions||(r.actions=[]),r.actions.push(o.id),be(e,r.id)},Oe=function(e,t){var n;e.featureActions&&0!==e.featureActions.length?n=e.featureActions.reduce((function(e,t){return e.id>t.id?e:t})).id+1:(e.featureActions=[],n=1);var r={};return r.id=n,r.type=t,"url"===t&&(r.newTab=!1),"scrollTo"===t&&(r.smooth=!0),"setColor"===t&&(r.color="#22194d"),e.featureActions.push(r),r},Te=function(e,t){e.features||(e.features=[]);var n=e.features.find((function(t){return"onPageLoad"===t.type&&t.scene===e.currentScene}));n||(n=Ee(e,"onPageLoad",e.currentScene),e.features.push(n)),e.featureActions||(e.featureActions=[]);var r=e.featureActions.find((function(t){return"playTimeline"===t.type&&n.actions&&n.actions.includes(t.id)&&t.timeline===e.selectedEventTimeline}));r||((r=Oe(e,"playTimeline")).timeline=e.selectedEventTimeline,n.actions||(n.actions=[]),n.actions.push(r.id))},je=function(e,t){var n=e.features.find((function(t){return"onPageLoad"===t.type&&t.scene===e.currentScene})),r=e.featureActions.find((function(t){return"playTimeline"===t.type&&n.actions&&n.actions.includes(t.id)&&t.timeline===e.selectedEventTimeline}));Pe(e,n.id,r.id),0===n.actions.length&&(e.features=e.features.filter((function(t){return t.scene!==e.currentScene||"onPageLoad"!==t.type})))},Se=function(e,t){var n=e.components.find((function(e){return e.id===t}));n&&n.guid&&!ot(e,null,n.guid)&&he(e,t)},we=function(e,t){e.featureActions.find((function(e){return e.id===t.id}))[t.prop]=t.value;var n,r=Object(o.a)(e.features);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.actions&&i.actions.length>0&&i.actions.includes(t.id)&&be(e,i.id)}}catch(a){r.e(a)}finally{r.f()}},_e=function(e,t){Pe(e,t.featureId,t.id),be(e,t.featureId)},Pe=function(e,t,n){e.featureActions=e.featureActions.filter((function(e){return e.id!==n}));var r=e.features.find((function(e){return e.id===t}));r.actions=r.actions.filter((function(e){return e!==n}))},xe=function(e,t){var n=e.features.find((function(e){return e.id===t.id}));if(n[t.prop]=t.value,isFinite(t.width)&&isFinite(t.height)&&(n.width=t.width,n.height=t.height),"leftOffset"===t.prop||"rightOffset"===t.prop||"bottomOffset"===t.prop||"topOffset"===t.prop){var r=e.currentElement.guid,o={};o[r]={},o[r].leftOffset=n.leftOffset,o[r].rightOffset=n.rightOffset,o[r].bottomOffset=n.bottomOffset,o[r].topOffset=n.topOffset;var i=window.frames.phaserFrame,a={method:"applyProperties",detail:{gameOverride:JSON.parse(JSON.stringify(o))}};i.postMessage(a,"*")}be(e,n.id)},Ne=function(e,t){De(e,t.id)},De=function(e,t){var n=e.features.find((function(e){return e.id===t})),r=n.type,i=n.guid;e.features=e.features.filter((function(e){return e.id!==n.id}));for(var a=e.features.filter((function(e){return e.guid===i})),c=a?a.sort((function(e,t){return e.sequence-t.sequence})):[],u=0;u<c.length;u++)c[u].sequence=u+1;if("spine"===r&&(e.features.find((function(e){return"spine"===e.type}))||(e.gameAdConfig.include_spine=!1),e.actions&&e.actions.length>0)){var s,d=e.actions.filter((function(e){return"spine"===e.type&&e.config.element===i})),l=Object(o.a)(d);try{for(l.s();!(s=l.n()).done;){var f=s.value;f.config.element=null,f.config.spineAction="playAnimation",f.config.loop=!1,f.config.animName=null,f.config.skinName=null,f.config.slotName=null,f.config.attachmentName=null}}catch(h){l.e(h)}finally{l.f()}}if(n.actions&&n.actions.length>0&&(e.featureActions=e.featureActions.filter((function(e){return!n.actions.includes(e.id)}))),At(e,n.id),"boundingBox"===n.type){var p=e.currentElement.guid,g={};g[p]={},g[p].leftOffset=0,g[p].rightOffset=0,g[p].bottomOffset=0,g[p].topOffset=0;var m=window.frames.phaserFrame,v={method:"applyProperties",detail:{gameOverride:JSON.parse(JSON.stringify(g))}};m.postMessage(v,"*")}},Re=function(e,t){var n=e.features.find((function(e){return e.id===t.id}));e.features.find((function(e){return e.guid===n.guid&&e.sequence===n.sequence+1})).sequence=n.sequence,n.sequence++},Ce=function(e,t){var n=e.features.find((function(e){return e.id===t.id}));e.features.find((function(e){return e.guid===n.guid&&e.sequence===n.sequence-1})).sequence=n.sequence,n.sequence--},Fe=function(e,t){var n=Object(u.v)(e),r=e.actions.find((function(t){return t.id===e.selectedAction}));e.actions.find((function(e){return e.sequence===r.sequence+1&&n.actions.includes(e.id)})).sequence=r.sequence,r.sequence++},Le=function(e,t){var n=Object(u.v)(e),r=e.actions.find((function(t){return t.id===e.selectedAction}));e.actions.find((function(e){return e.sequence===r.sequence-1&&n.actions.includes(e.id)})).sequence=r.sequence,r.sequence--},ke=function(e,t){for(var n,r,i=e.gameOverride,a=window.frames.phaserFrame,c="website"===e.projectInfo.type,u={},s=0,d=Object.keys(e.elementProperties[t]);s<d.length;s++){var l=d[s];u[l]={};for(var f=0,p=Object.keys(e.elementProperties[t][l]);f<p.length;f++){var g=p[f];!["width","height"].includes(g)&&e.propsTouched&&e.propsTouched[t]&&e.propsTouched[t][l]&&e.propsTouched[t][l][g]&&(u[l][g]=e.elementProperties[t][l][g])}}if(i&&i[t])for(var m=0,v=Object.keys(i[t]);m<v.length;m++)for(var h=v[m],y=0,E=Object.keys(i[t][h]);y<E.length;y++){var b=E[y];u[h]&&(u[h][b]=i[t][h][b])}for(var A=0,I=Object.keys(u);A<I.length;A++){var O=I[A];0===Object.keys(u[O]).length&&delete u[O]}if(c){var T,j=e.features?e.features.filter((function(e){return"boundingBox"===e.type})):[],S=Object(o.a)(j);try{for(S.s();!(T=S.n()).done;){var w=T.value,_=w.guid;u[_]||(u[_]={}),u[_].leftOffset=w.leftOffset,u[_].rightOffset=w.rightOffset,u[_].bottomOffset=w.bottomOffset,u[_].topOffset=w.topOffset}}catch(P){S.e(P)}finally{S.f()}}n=JSON.parse(JSON.stringify(u)),r=c?{method:"applyProperties",detail:{gameOverride:n}}:{method:"configureScene",detail:{detail:{key:t,gameOverride:n}}},a.postMessage(r,"*")},Ue=function(e,t){e.gameOverride=t.gameOverride,e.eventTimelines=t.eventTimelines,e.actions=t.actions,e.gameAdConfig=t.gameAdConfig,t.alertLog?e.alertLog=t.alertLog:e.alertLog=[],e.features=t.features,e.featureActions=t.featureActions,e.components=t.components},Me=function(e){var t=e.gameDef;if(t){var n,r=t.screens,i={},a=Object(o.a)(r);try{for(a.s();!(n=a.n()).done;){var c=n.value;i[c.guid]={},Be(c.guid,c,i,e)}}catch(u){a.e(u)}finally{a.f()}e.elementProperties=i}},Be=function e(t,n,r,i){var a=Object(u.m)(n);if(n.children){We(t,a,r,i);var c,s=Object(o.a)(n.children);try{for(s.s();!(c=s.n()).done;){e(t,c.value,r,i)}}catch(d){s.e(d)}finally{s.f()}}else He(t,a,r,i)},We=function(e,t,n,r){var o,i="website"===r.projectInfo.type,a=r.questai,c=r.creatorScene;i?o=a.getGroup(t):o=c.scene.get(e).getGroup(t);o||(console.log("guid: "+t),console.log("group null")),n[e][t]={},i?(n[e][t].name=o.getAttribute("data-name"),n[e][t].x=o.getAttribute("data-x"),n[e][t].y=o.getAttribute("data-y"),n[e][t].alpha=o.getAttribute("data-alpha"),n[e][t].visible=o.getAttribute("data-visible"),n[e][t].scaleX=o.getAttribute("data-scaleX"),n[e][t].scaleY=o.getAttribute("data-scaleY"),n[e][t].angle=o.getAttribute("data-angle"),n[e][t].width=o.getAttribute("data-width"),n[e][t].height=o.getAttribute("data-height")):(n[e][t].name=o.getName(),n[e][t].x=o.getX(),n[e][t].y=o.getY(),n[e][t].alpha=o.getAlpha(),n[e][t].visible=o.getVisible().toString());var u=r.gameOverride;if(u&&u[e]&&u[e][t])for(var s=0,d=Object.keys(u[e][t]);s<d.length;s++){var l=d[s];n[e][t][l]=u[e][t][l]}},He=function(e,t,n,r){var o,i="website"===r.projectInfo.type,a=r.questai,c=r.creatorScene;i?o=a.getElement(t):o=c.scene.get(e).getElement(t);if(o){if(n[e][t]={},i)n[e][t].name=o.getAttribute("data-name"),n[e][t].x=o.getAttribute("data-x"),n[e][t].y=o.getAttribute("data-y"),n[e][t].scaleX=o.getAttribute("data-scaleX"),n[e][t].scaleY=o.getAttribute("data-scaleY"),n[e][t].angle=o.getAttribute("data-angle"),n[e][t].alpha=o.getAttribute("data-alpha"),n[e][t].visible=o.getAttribute("data-visible"),n[e][t].originX=o.getAttribute("data-originX"),n[e][t].originY=o.getAttribute("data-originY"),n[e][t].width=o.getAttribute("data-width"),n[e][t].height=o.getAttribute("data-height");else{n[e][t].name=o.getData("name"),n[e][t].x=o.x,n[e][t].y=o.y;var u=1;o.getData("scaleDown")&&(u=parseFloat(o.getData("scaleDown"))),c.gameConfig.useAI&&o.getData("ai_scaled")&&o.getData("ai_scale")&&(u*=parseFloat(o.getData("ai_scale"))),n[e][t].scaleX=o.scaleX/u,n[e][t].scaleY=o.scaleY/u,n[e][t].angle=o.angle,n[e][t].alpha=o.alpha,n[e][t].visible=o.visible.toString(),n[e][t].originX=o.originX,n[e][t].originY=o.originY,n[e][t].width=o.width,n[e][t].height=o.height,n[e][t].url=o.getData("url")}i?"text"===o.getAttribute("data-elementType")&&(n[e][t].fontFamily=o.style.fontFamily,n[e][t].fontWeight=o.style.fontWeight,n[e][t].fontSize=o.style.fontSize,n[e][t].wordWrapWidth=o.style.width,"input"===o.tagName.toLowerCase()?n[e][t].text=o.placeholder:n[e][t].text=o.innerText,n[e][t].lineHeight=o.style.lineHeight,n[e][t].letterSpacing=o.style.letterSpacing):"text"===o.getData("elementType")&&(n[e][t].fontFamily=o.style.fontFamily,n[e][t].fontWeight=o.style.fontWeight,n[e][t].fontSize=o.style.fontSize,n[e][t].wordWrapWidth=o.style.wordWrapWidth+"px",n[e][t].text=o._text);var s=r.gameOverride;if(s&&s[e]&&s[e][t])for(var d=0,l=Object.keys(s[e][t]);d<l.length;d++){var f=l[d];n[e][t][f]=s[e][t][f],"wordWrapWidth"===f&&(s[e][t][f].toString().endsWith("px")||(n[e][t][f]=s[e][t][f].toString()+"px"))}}else console.log("WARNING: Element not found: "+t)},qe=function(e,t){var n=t.elementType,r=t.guid,o=t.expandElement,i=t.expandParents,a=t.skipUpdatePhaser;Ge(e,r,n,o,i,a)},Ge=function(e,t,n,r,o,i){if(e.currentElement={guid:t,elementType:n},"element"!==n&&!1!==r&&e.elementsPanelExpandedState.push(t),!0===o&&t&&Ve(e,t,n),!0!==i){var a=t,c="website"===e.projectInfo.type;"element"===n||c||(a=null);var u=window.frames.phaserFrame,s={method:"setCurrentElement",detail:{detail:{scene:e.currentScene,guid:a}}};u.postMessage(s,"*")}},Ve=function(e,t,n){var r,o,i=e.questai,a=e.creatorScene,c="website"===e.projectInfo.type;for(c||(r=a.scene.get(e.currentScene)),o="element"===n?c?i.getElement(t).parentNode:r.getElement(t).getData("parent"):c?i.getGroup(t).parentNode:r.getGroup(t).getParent();null!==o;){var u=void 0;if(c){if("websitediv"===o.id){o=null;break}u=o.getAttribute("data-guid")}else u=o.guid;e.elementsPanelExpandedState.includes(u)||e.elementsPanelExpandedState.push(u),o=c?o.parentNode:o.getParent()}},Ye=function(e,t){var n=t.section;e.propertiesPanelExpandedSections[n]?delete e.propertiesPanelExpandedSections[n]:e.propertiesPanelExpandedSections[n]=!0},Xe=function(e,t){var n=t.section,r=t.expandedState;e.propertiesPanelExpandedSections[n]=r},Ke=function(e,t){e.stateHistory=[],e.websiteLoaded=t.loaded,e.questai=t.questai,e.propertiesPanelExpandedSections={properties:!0,text:!0,pageComponent:!0},e.currentArtboard=e.gameAdConfig.artBoards[0].name,Me(e),S(e)},ze=function(e,t){e.websiteLoaded=!1},Je=function(e,t){e.timelineExpanded=t.expand},Qe=function(e,t){var n=lt(t.fieldID);if("action"===n.type&&(e.timelineExpanded=!0,e.selectedEventTimeline=n.timelineId,e.selectedAction=n.actionId),"timeline"===n.type&&(e.timelineExpanded=!0,e.selectedEventTimeline=n.timelineId,e.selectedAction=null),"feature"===n.type){var r,o,i=n.guid;if("onPageLoad"===n.featureType)return;if(e.propertiesPanelExpandedSections[n.featureType]=!0,"website"===e.projectInfo.type){var a=Object(u.e)(e.gameDef,i);a!==e.currentArtboard&&ie(e,a),(r=e.questai.getElement(i))?o="element":(r=e.questai.getGroup(i))&&(o="group;")}else{var c=Object(u.t)(e.gameDef,i);c!==e.currentScene&&re(e,c);var s=e.creatorScene.scene.get(c);(r=s.getElement(i))?o="element":(r=s.getGroup(i))&&(o="group;")}r&&o&&Ge(e,i,o,!0,!0,!1)}n.type,"code"===n.type&&(e.showEditor=!0,e.codeEditorScene=e.errorScenes[0])},Ze=function e(t){var n,r=[],i=Object(o.a)(t.children);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.children?(r.push({guid:a.guid,elemType:"group"}),r=r.concat(e(a))):r.push({guid:a.guid,elemType:"element"})}}catch(c){i.e(c)}finally{i.f()}return r},$e=function(e,t){if(It(e),ht(e),e.eventTimelines){var n,r=Object(o.a)(e.eventTimelines);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(ft(e,i.id),i.actions){var a,c=Object(o.a)(i.actions);try{for(c.s();!(a=c.n()).done;){var u=a.value;it(e,i.id,u)}}catch(E){c.e(E)}finally{c.f()}}}}catch(E){r.e(E)}finally{r.f()}}if(e.features){var s,d=Object(o.a)(e.features);try{for(d.s();!(s=d.n()).done;){var l=s.value;be(e,l.id)}}catch(E){d.e(E)}finally{d.f()}}if(e.components){var f,p=Object(o.a)(e.components);try{for(p.s();!(f=p.n()).done;){var g=f.value;Se(e,g.id)}}catch(E){p.e(E)}finally{p.f()}}var m,v=function(e){var t,n=e.gameDef.screens,r=[],i=Object(o.a)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;a&&a.children&&(r=r.concat(Ze(a)))}}catch(E){i.e(E)}finally{i.f()}return r}(e),h=Object(o.a)(v);try{for(h.s();!(m=h.n()).done;){var y=m.value;gt(e,y.scene,y.guid,y.elemType)}}catch(E){h.e(E)}finally{h.f()}mt(e),vt(e)},et=function(e,t){var n=t.whatToCheck,r=n.timelineId,o=n.actionId,i=n.field,a=n.scene,c=n.guid,u=n.elemType;if(r&&o){var s=t.whatToCheck,d=s.timelineId,l=s.actionId,f=s.field;it(e,d,l,f)}else r?ft(e,r):a?gt(e,a,c,u,i):"code"===i?mt(e):ht(e)},tt=function(e,t,n,r,o,i,a,c,u,s,d,l,f){if(!i||i===a){var p=dt({type:"action",timelineId:t,actionId:n,field:a}),g=u.tweenConfig[c];if(u.relative)if(0===(g=g?parseFloat(g.toString().substring(1,g.length)):1)||l&&g<l||f&&g>f){var m=a+": relative value has to be a valid non-zero number ";l&&(m+=" > "+l+" "),f&&(m+="and < "+f+" "),m+="for action of type: Tween",yt(e,"error",at(o,r,a),m,p)}else Et(e,p);else if(g=parseFloat(g),s&&g<s||d&&g>d){var v=a+": value has to be a valid number ";s&&(v+=" > "+s+" "),d&&(v+="and < "+d+" "),v+="for action of type: Tween",yt(e,"error",at(o,r,a),v,p)}else Et(e,p)}},nt=function(e,t,n,r,o,i,a,c,u,s,d){if(!i||i===a){var l=dt({type:"action",timelineId:t,actionId:n,field:a}),f=u[c];if(f=parseFloat(f),s&&f<s||d&&f>d){var p=a+": value has to be a valid number ";s&&(p+=" > "+s+" "),d&&(p+="and < "+d+" "),p+="for action of type: Set Property",yt(e,"error",at(o,r,a),p,l)}else Et(e,l)}},rt=function(e,t){var n=!1;"website"===e.projectInfo.type?n=!0:e.creatorScene.scene.get(t)&&(n=!0);return n},ot=function(e,t,n){var r=!1;if("website"===e.projectInfo.type)(e.questai.getElement(n)||e.questai.getGroup(n))&&(r=!0);else{var o=e.creatorScene.scene.get(t);(o.getElement(n)||o.getGroup(n))&&(r=!0)}return r},it=function(e,t,n,r){var o=e.actions.find((function(e){return e.id===n})),i=e.eventTimelines.find((function(e){return e.id===t})),a=o.config;if(r||bt(e,t,n),!r||"Start At"===r){var c=dt({type:"action",timelineId:t,actionId:n,field:"Start At"});null===o.offset||""===o.offset?yt(e,"error",at(i,o,"Start At"),"Start At is required for any action",c):isNaN(parseFloat(o.offset))?yt(e,"error",at(i,o,"Start At"),"Start At has to be valid for any action",c):Et(e,c)}if(!r||"Start After"===r){var u=dt({type:"action",timelineId:t,actionId:n,field:"Start After"});o.isStartAfter&&!o.startAfter?yt(e,"error",at(i,o,"Start After"),"A valid tween is needed to Start After for any action. Double click timeline bar to fix.",u):Et(e,u)}if("tween"===o.type){if(!r||"Element"===r){var s=dt({type:"action",timelineId:t,actionId:n,field:"Element"});a.element?a.element&&i.scene&&rt(e,i.scene)&&!ot(e,i.scene,a.element)?yt(e,"error",at(i,o,"Element"),"This element does not exist in the project",s):Et(e,s):yt(e,"error",at(i,o,"Element"),"Element is required for action of type: Tween",s)}if(!r||"Duration"===r){var d=dt({type:"action",timelineId:t,actionId:n,field:"Duration"});o.duration?isNaN(parseFloat(o.duration))?yt(e,"error",at(i,o,"Duration"),"Duration has to be valid for action of type: Tween",d):Et(e,d):yt(e,"error",at(i,o,"Duration"),"Duration is required for action of type: Tween",d)}if(!r||["X","Y","Scale X","Scale Y","Opacity","Rotation"].includes(r)){var l=dt({type:"action",timelineId:t,actionId:n}),f=a.tweenConfig;null!==f.x&&void 0!==f.x||null!==f.y&&void 0!==f.y||null!==f.scaleX&&void 0!==f.scaleX||null!==f.scaleY&&void 0!==f.scaleY||null!==f.alpha&&void 0!==f.alpha||null!==f.angle&&void 0!==f.angle?Et(e,l):yt(e,"error",at(i,o),"Please specify at least one tween property for action of type: Tween",l)}if(tt(e,t,n,o,i,r,"X","x",a,0),tt(e,t,n,o,i,r,"Y","y",a,0),tt(e,t,n,o,i,r,"Scale X","scaleX",a),tt(e,t,n,o,i,r,"Scale Y","scaleY",a),tt(e,t,n,o,i,r,"Opacity","alpha",a,0,1,-1,1),tt(e,t,n,o,i,r,"Rotation","angle",a,-359,359),!r||"Repeat"===r){var p=dt({type:"action",timelineId:t,actionId:n,field:"Repeat"}),g=a.tweenConfig.repeat;g&&(parseInt(g,10)<-1||isNaN(parseInt(g,10)))?yt(e,"error",at(i,o,"Repeat"),"Repeat has to be an integer > 0 or -1 (for infinite) for for action of type: Tween",p):Et(e,p)}}if("sequence"===o.type){if(!r||"Element"===r){var m=dt({type:"action",timelineId:t,actionId:n,field:"Element"});a.element?a.element&&i.scene&&rt(e,i.scene)&&!ot(e,i.scene,a.element)?yt(e,"error",at(i,o,"Element"),"This element does not exist in the project",m):Et(e,m):yt(e,"error",at(i,o,"Element"),"Element is required for action of type: Image Sequence",m)}if(!r||"Sequence"===r){var v=dt({type:"action",timelineId:t,actionId:n,field:"Sequence"});a.key?Et(e,v):yt(e,"error",at(i,o,"Sequence"),"Sequence is required for action of type: Image Sequence",v)}if(!r||"FPS"===r){var h=dt({type:"action",timelineId:t,actionId:n,field:"FPS"});if(a.fps){var y=a.fps;parseInt(y,10)<1||parseInt(y,10)>60?yt(e,"error",at(i,o,"FPS"),"FPS has to be an integer between 1 and 60 for for action of type: Image Sequence",h):Et(e,h)}else yt(e,"error",at(i,o,"FPS"),"FPS is required for action of type: Image Sequence",h)}if(!r||"Repeat"===r){var E=dt({type:"action",timelineId:t,actionId:n,field:"Repeat"}),b=a.repeat;b&&(parseInt(b,10)<-1||isNaN(parseInt(b,10)))?yt(e,"error",at(i,o,"Repeat"),"Repeat has to be an integer > 0 or -1 (for infinite) for for action of type: Image Sequence",E):Et(e,E)}}if("sound"===o.type&&(!r||"Sound"===r)){var A=dt({type:"action",timelineId:t,actionId:n,field:"Sound"});a.key?Et(e,A):yt(e,"error",at(i,o,"Sound"),"Sound is required for action of type: Sound",A)}if("sceneTransition"===o.type&&(!r||"Scene"===r)){var I=dt({type:"action",timelineId:t,actionId:n,field:"Scene"});a.scene?a.scene===i.scene?yt(e,"error",at(i,o,"Scene"),"Scene to transition to should be different from current scene",I):Et(e,I):yt(e,"error",at(i,o,"Scene"),"Scene is required for action of type: Scene",I)}if("raiseEvent"===o.type&&(!r||"Event Name"===r)){var O=dt({type:"action",timelineId:t,actionId:n,field:"Event Name"});a.eventName?Et(e,O):yt(e,"error",at(i,o,"Event Name"),"Event Name is required for action of type: Raise Event",O)}if("playTimeline"===o.type&&(!r||"Timeline"===r)){var T=dt({type:"action",timelineId:t,actionId:n,field:"Timeline"});a.timelineId?Et(e,T):yt(e,"error",at(i,o,"Timeline"),"Timeline Name is required for action of type: Play Timeline",T)}if("setProperty"===o.type){if(!r||"Element"===r){var j=dt({type:"action",timelineId:t,actionId:n,field:"Element"});a.element?a.element&&i.scene&&rt(e,i.scene)&&!ot(e,i.scene,a.element)?yt(e,"error",at(i,o,"Element"),"This element does not exist in the project",j):Et(e,j):yt(e,"error",at(i,o,"Element"),"Element is required for action of type: Set Property",j)}nt(e,t,n,o,i,r,"X","x",a),nt(e,t,n,o,i,r,"Y","y",a),nt(e,t,n,o,i,r,"Scale X","scaleX",a),nt(e,t,n,o,i,r,"Scale Y","scaleY",a),nt(e,t,n,o,i,r,"Opacity","alpha",a,0,1),nt(e,t,n,o,i,r,"Rotation","angle",a,-359,359)}if("spine"===o.type){if(!r||"Element"===r){var S=dt({type:"action",timelineId:t,actionId:n,field:"Element"});a.element?a.element&&i.scene&&rt(e,i.scene)&&!ot(e,i.scene,a.element)?yt(e,"error",at(i,o,"Element"),"This element does not exist in the project",S):Et(e,S):yt(e,"error",at(i,o,"Element"),"Element is required for action of type: Spine",S)}if(!r||"Spine Action Type"===r){var w=dt({type:"action",timelineId:t,actionId:n,field:"Spine Action Type"});a.spineAction?Et(e,w):yt(e,"error",at(i,o,"Spine Action Type"),"Spine Action Type is required for action of type: Spine",w)}if("playAnimation"===o.config.spineAction&&(!r||"Spine Action Type"===r||"Animation Name"===r)){var _=dt({type:"action",timelineId:t,actionId:n,field:"Animation Name"});a.animName?Et(e,_):yt(e,"error",at(i,o,"Animation Name"),"Animation Name is required for action of type: Spine: Play Animation",_)}if("changeSkin"===o.config.spineAction&&(!r||"Spine Action Type"===r||"Skin Name"===r)){var P=dt({type:"action",timelineId:t,actionId:n,field:"Skin Name"});a.skinName?Et(e,P):yt(e,"error",at(i,o,"Skin Name"),"Skin Name is required for action of type: Spine: Change Skin",P)}if("setAttachment"===o.config.spineAction){if(!r||"Spine Action Type"===r||"Slot Name"===r){var x=dt({type:"action",timelineId:t,actionId:n,field:"Slot Name"});a.slotName?Et(e,x):yt(e,"error",at(i,o,"Slot Name"),"Slot Name is required for action of type: Spine: Set Attachment",x)}if(!r||"Spine Action Type"===r||"Attachment Name"===r){var N=dt({type:"action",timelineId:t,actionId:n,field:"Attachment Name"});a.attachmentName?Et(e,N):yt(e,"error",at(i,o,"Attachment Name"),"Attachment Name is required for action of type: Spine: Set Attachment",N)}}}},at=function(e,t,n){return n?e.name+" : "+t.name+" : "+n:e.name+" : "+t.name},ct=function(e,t){return e.name+" : "+t},ut=function(e,t){return{click:"CLICK / TAP",clickOutside:"CLICK OUTSIDE",mouseOver:"MOUSE OVER",mouseOut:"MOUSE OUT",iframe:"IFRAME",video:"VIDEO",input:"INPUT",data:"DATA",boundingBox:"BOUNDING BOX",altText:"ALT TEXT",spine:"SPINE",onPageLoad:"PAGE LOAD",parallaxScroll:"PARALLAX SCROLLING",scrollTrigger:"SCROLL TRIGGER",scrollOffTrigger:"SCROLL OFF TRIGGER",anchor:"ANCHOR"}[e.type]+" : "+t},st=function(e,t,n,r){return t+" : "+n+" : "+r},dt=function(e){if("action"===e.type){var t=e.timelineId,n=e.actionId,r=e.field,o="TL#".concat(t),i="A#".concat(n);return r?[o,i,r].join("_"):[o,i].join("_")}if("timeline"===e.type){var a=e.timelineId,c=e.field;return"TLP#".concat(a,"_").concat(c)}if("feature"===e.type){var u=e.featureId,s=e.featureType,d=e.guid,l=e.field,f=e.featureActionId;return"FEAT#".concat(u,"$#$_$#$").concat(s,"$#$_$#$").concat(d,"$#$_$#$").concat(l,"$#$_$#$").concat(f)}if("editor"===e.type){var p=e.scene,g=e.guid,m=e.elemType,v=e.prop;return"ED|-".concat(p,"|-").concat(g,"|-").concat(m,"|-").concat(v)}return"global"===e.type?"PJNM":"code"===e.type?"CODE":"font"===e.type?"FONT#".concat(e.fontFamily,"#").concat(e.fontWeight):void 0},lt=function(e){var t,n,o;if(e.startsWith("TL#")){var i=e.split("_"),a=Object(r.a)(i,3);return t=a[0],n=a[1],o=a[2],{type:"action",timelineId:parseInt(t.split("#")[1],10),actionId:parseInt(n.split("#")[1],10),field:o}}if(e.startsWith("TLP#")){var c=e.split("_"),u=Object(r.a)(c,2);return t=u[0],o=u[1],{type:"timeline",timelineId:parseInt(t.split("#")[1],10),field:o}}if(e.startsWith("FEAT")){var s,d,l,f=e.split("$#$_$#$"),p=Object(r.a)(f,4);return s=p[0],d=p[1],l=p[2],o=p[3],{type:"feature",featureId:parseInt(s.split("#")[1],10),featureType:d,guid:l,field:o}}if(e.startsWith("ED")){var g=e.split("|-");return{type:"editor",scene:g[1],guid:g[2],elemType:g[3],prop:g[4]}}return"PJNM"===e?{type:"project name"}:"DESIGN"===e?{type:"design"}:"CODE"===e?{type:"code"}:e.startsWith("FONT")?{type:"font",fontFamily:e.split("#")[1],fontWeight:e.split("#")[2]}:void 0},ft=function(e,t){var n=e.eventTimelines.find((function(e){return e.id===t})),r="website"===e.projectInfo.type?"Page":"Scene";if(n.scene)if(rt(e,n.scene)){var o=dt({type:"timeline",timelineId:t,field:r});Et(e,o)}else{var i=dt({type:"timeline",timelineId:t,field:r});yt(e,"error",ct(n,r),r+" does not exist in this project",i)}else{var a=dt({type:"timeline",timelineId:t,field:r});yt(e,"error",ct(n,r),r+" is required for a timeline",a)}if(n.actions&&0!==n.actions.length){var c=dt({type:"timeline",timelineId:t,field:"Actions"});Et(e,c)}else{var u=dt({type:"timeline",timelineId:t,field:"Actions"});yt(e,"error",ct(n,"Actions"),"At least one action is required for a timeline",u)}if("click"===n.type)if(n.element){var s=dt({type:"timeline",timelineId:t,field:"Associated Element"});Et(e,s)}else{var d=dt({type:"timeline",timelineId:t,field:"Associated Element"});yt(e,"error",ct(n,"Associated Element"),"Associated Element is required for a timeline of type: Click",d)}else{var l=dt({type:"timeline",timelineId:t,field:"Associated Element"});Et(e,l)}},pt=function(e,t,n,r){var o=null;if(e.gameOverride&&e.gameOverride[t]){var i=e.gameOverride[t];if(i){var a=i[n];a&&(o=a[r])}}return o},gt=function(e,t,n,r,o){if(!o||"X"===o){var i=dt({type:"editor",scene:t,guid:n,elemType:r,field:"X"}),a=pt(e,t,n,"x");null!==a&&void 0!==a&&isNaN(parseFloat(a))?yt(e,"error",st(0,t,n,"X"),"X has to be a valid number",i):Et(e,i)}if(!o||"Y"===o){var c=dt({type:"editor",scene:t,guid:n,elemType:r,field:"Y"}),u=pt(e,t,n,"y");null!==u&&void 0!==u&&isNaN(parseFloat(u))?yt(e,"error",st(0,t,n,"Y"),"Y has to be a valid number",c):Et(e,c)}if(!o||"Scale X"===o){var s=dt({type:"editor",scene:t,guid:n,elemType:r,field:"Scale X"}),d=pt(e,t,n,"scaleX");null!==d&&void 0!==d&&isNaN(parseFloat(d))?yt(e,"error",st(0,t,n,"Scale X"),"Scale X has to be a valid number",s):Et(e,s)}if(!o||"Scale Y"===o){var l=dt({type:"editor",scene:t,guid:n,elemType:r,field:"Scale Y"}),f=pt(e,t,n,"scaleY");null!==f&&void 0!==f&&isNaN(parseFloat(f))?yt(e,"error",st(0,t,n,"Scale Y"),"Scale Y has to be a valid number",l):Et(e,l)}if(!o||"Origin X"===o){var p=dt({type:"editor",scene:t,guid:n,elemType:r,field:"Origin X"}),g=pt(e,t,n,"originX");null!==g&&void 0!==g&&isNaN(parseFloat(g))?yt(e,"error",st(0,t,n,"Origin X"),"Origin X has to be a valid number",p):Et(e,p)}if(!o||"Origin Y"===o){var m=dt({type:"editor",scene:t,guid:n,elemType:r,field:"Origin Y"}),v=pt(e,t,n,"originY");null!==v&&void 0!==v&&isNaN(parseFloat(v))?yt(e,"error",st(0,t,n,"Origin Y"),"Origin Y has to be a valid number",m):Et(e,m)}if(!o||"Opacity"===o){var h=dt({type:"editor",scene:t,guid:n,elemType:r,field:"Opacity"}),y=pt(e,t,n,"alpha");null!==y&&void 0!==y&&(isNaN(parseFloat(y))||parseFloat(y)<0||parseFloat(y)>1)?yt(e,"error",st(0,t,n,"Opacity"),"Opacity has to be a valid number between 0 and 100",h):Et(e,h)}if(!o||"Rotation"===o){var E=dt({type:"editor",scene:t,guid:n,elemType:r,field:"Rotation"}),b=pt(e,t,n,"angle");null!==b&&void 0!==b&&(isNaN(parseFloat(b))||parseFloat(b)<-359||parseFloat(b)>359)?yt(e,"error",st(0,t,n,"Rotation"),"Rotation has to be a valid number between -359 and 359",E):Et(e,E)}if(!o||"fontSize"===o){var A=dt({type:"editor",scene:t,guid:n,elemType:r,field:"Font size"}),I=pt(e,t,n,"fontSize");null!==I&&void 0!==I&&isNaN(parseInt(I))?yt(e,"error",st(0,t,n,"Font size"),"Font size has to be a valid number greater than 0",A):Et(e,A)}if(!o||"wordWrapWidth"===o){var O=dt({type:"editor",scene:t,guid:n,elemType:r,field:"Word wrap width"}),T=pt(e,t,n,"wordWrapWidth");null!==T&&void 0!==T&&isNaN(parseInt(T))?yt(e,"error",st(0,t,n,"Word wrap width"),"Word wrap width has to be a valid number greater than 0",O):Et(e,O)}if(!o||"url"===o){var j=dt({type:"editor",scene:t,guid:n,elemType:r,field:"URL"}),S=pt(e,t,n,"url");null===S||void 0===S||S.startsWith("http://")||S.startsWith("https://")?Et(e,j):yt(e,"error",st(0,t,n,"URL"),"URL must start with http:// or https://",j)}},mt=function(e){var t=e.errorScenes,n=dt({type:"code"});t&&(t.length>0?yt(e,"error","Code Editor","Please check code editor errors",n):Et(e,n))},vt=function(e){var t=[],n=e.questai?e.questai.getFontsFailed():[];for(var r in n){var i=n[r]?100*parseInt(n[r].charAt(1)):400;t.push({fontFamily:r,fontWeight:i})}var a=null;if(t.length>0){var c,u=Object(o.a)(t);try{for(u.s();!(c=u.n()).done;){var s=c.value;a=dt({type:"font",fontFamily:s.fontFamily,fontWeight:s.fontWeight}),yt(e,"warning","Font",'Font "'+s.fontFamily+" ("+s.fontWeight+')" is missing in the project.',a)}}catch(d){u.e(d)}finally{u.f()}}},ht=function(e){var t=dt({type:"global"}),n=e.projectInfo.name,r=e.gameAdConfig.GAME_WIDTH,o=e.gameAdConfig.GAME_HEIGHT;n&&null!==n&&""!==n?r&&o?Et(e,t):yt(e,"error","Settings: Project Size","Project height or width cannot be 0 or empty",t):yt(e,"error","ProjectName","Project name cannot be empty",t)},yt=function(e,t,n,r,o){Et(e,o),e.alertLog.push({type:t,field:n,description:r,fieldId:o})},Et=function(e,t){e.alertLog&&(e.alertLog=e.alertLog.filter((function(e){return e.fieldId!==t})))},bt=function(e,t,n){e.alertLog=e.alertLog.filter((function(e){return lt(e.fieldId).timelineId!==t||lt(e.fieldId).actionId!==n}))},At=function(e,t){e.alertLog=e.alertLog.filter((function(e){return lt(e.fieldId).featureId!==t}))},It=function(e){e.alertLog=e.alertLog.filter((function(e){return"design"===lt(e.fieldId).type}))},Ot=function(e,t){e.alertLog=e.alertLog.filter((function(e){return"font"!==lt(e.fieldId).type||lt(e.fieldId).fontFamily!==t.fontFamily||lt(e.fieldId).fontWeight!==t.fontWeight}))},Tt=function(e){var t,n=Qt(e.actions,e.selectedAction),r=Object.keys(n.config.tweenConfig).filter((function(e){return!["repeat","ease","yoyo"].includes(e)})),i=Object(o.a)(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;jt(n,a)}}catch(c){i.e(c)}finally{i.f()}},jt=function(e,t){if(e.config.relative){var n,r=parseFloat(e.config.tweenConfig[t]);r>0?n="+".concat(r):r<0?n="".concat(r):0===r?n="+0":delete e.config.tweenConfig[t],e.config.tweenConfig[t]=n}else{var o=e.config.tweenConfig[t],i=parseFloat(o);isNaN(i)?delete e.config.tweenConfig[t]:e.config.tweenConfig[t]=i}},St=function(e,t){var n=Pt(e);e.timelineExpanded=!0,n.scene=t.scene,kt(e,"tween"),qt(e,"element",{element:t.guid,elementType:t.elementType}),it(e,e.selectedEventTimeline,e.selectedAction,null)},wt=function(e,t){e.timelineExpanded=!0,kt(e,"tween"),qt(e,"element",{element:t.guid,elementType:t.elementType}),it(e,e.selectedEventTimeline,e.selectedAction,null)},_t=function(e,t){Pt(e)},Pt=function(e){var t,n,r={};if(e.eventTimelines&&0!==e.eventTimelines.length){var i=e.eventTimelines.map((function(e){return e.name})).filter((function(e){return e.startsWith("Timeline_")}));if(0===i.length)t="Timeline_1";else{var a,c=0,u=Object(o.a)(i);try{for(u.s();!(a=u.n()).done;){var s=a.value,d=s.substring(9,s.length),l=parseInt(d);l&&l>c&&(c=l)}}catch(f){u.e(f)}finally{u.f()}t="Timeline_".concat(c+1)}}else t="Timeline_1";return r.name=t,e.eventTimelines&&0!==e.eventTimelines.length?n=e.eventTimelines.reduce((function(e,t){return e.id>t.id?e:t})).id+1:(e.eventTimelines=[],n=1),r.id=n,"website"===e.gameAdConfig.game_type&&(r.scene="Artboards"),r.previousEventForPreview=null,e.eventTimelines.push(r),e.selectedEventTimeline=n,e.selectedAction=null,ft(e,n),r},xt=function(e,t){var n=e.selectedEventTimeline,i=Qt(e.eventTimelines,n);i[t.prop]=t.value,"scene"===t.prop&&t.value&&""!==t.value&&t.value!==e.currentScene&&re(e,t.value),"name"===t.prop&&function(e,t,n){var i,a,c,u,s,d,l=Object(o.a)(e.alertLog);try{for(l.s();!(d=l.n()).done;){var f=d.value;i=f.fieldId;var p=lt(i);if(p.timelineId===t){if(u=f.type,s=f.description,a=f.field,"action"===p.type){var g=a.split(":"),m=Object(r.a)(g,2),v=m[0],h=m[1];c=h?n+" :"+v+":"+h:n+" :"+v}if("timeline"===p.type){var y=a.split(":");c=n+" :"+Object(r.a)(y,1)[0]}Et(e,i),yt(e,u,c,s,i)}}}catch(E){l.e(E)}finally{l.f()}}(e,e.selectedEventTimeline,t.value),"type"===t.prop&&"click"!==t.value&&(i.element=null)},Nt=function(e,t){var n=e.selectedEventTimeline,r=Qt(e.eventTimelines,n).actions;if(r&&null!==r&&r.length>0){var i,a=Object(o.a)(r);try{var c=function(){var t=i.value;e.actions=e.actions.filter((function(e){return e.id!==t}))};for(a.s();!(i=a.n()).done;)c()}catch(A){a.e(A)}finally{a.f()}}var u=e.eventTimelines.findIndex((function(e){return e.id===n}));e.eventTimelines=e.eventTimelines.filter((function(e){return e.id!==n}));var s,d=Object(o.a)(e.eventTimelines);try{for(d.s();!(s=d.n()).done;){var l=s.value;l.previousEventForPreview===n&&(l.previousEventForPreview=null)}}catch(A){d.e(A)}finally{d.f()}if(e.actions&&e.actions.length>0){var f,p=e.actions.filter((function(e){return"playTimeline"===e.type&&e.config&&e.config.timelineId===n})),g=Object(o.a)(p);try{var m=function(){var t=f.value;t.config.timelineId=null;var n=e.eventTimelines.find((function(e){return e.actions&&e.actions.includes(t.id)}));it(e,n.id,t.id)};for(g.s();!(f=g.n()).done;)m()}catch(A){g.e(A)}finally{g.f()}}if(e.features&&e.features.length>0&&e.featureActions&&e.featureActions.length>0){var v,h=e.featureActions.filter((function(e){return"playTimeline"===e.type&&e.timeline===n})),y=Object(o.a)(h);try{var E=function(){var t=v.value,n=e.features.find((function(e){return e.actions&&e.actions.includes(t.id)}));Pe(e,n.id,t.id),0===n.actions.length&&(e.features=e.features.filter((function(e){return e.id!==n.id})))};for(y.s();!(v=y.n()).done;)E()}catch(A){y.e(A)}finally{y.f()}}if(0===e.eventTimelines.length?(e.selectedEventTimeline=null,e.timelineExpanded=!1):e.selectedEventTimeline=u>0?e.eventTimelines[u-1].id:e.eventTimelines[0].id,null!==e.selectedEventTimeline){var b=Qt(e.eventTimelines,e.selectedEventTimeline);b.actions&&null!==b.actions&&b.actions.length>0?e.selectedAction=b.actions[0]:e.selectedAction=null}else e.selectedAction=null;!function(e,t){e.alertLog=e.alertLog.filter((function(e){return lt(e.fieldId).timelineId!==t}))}(e,n)},Dt=function(e,t){e.selectedEventTimeline=t.id,e.selectedAction=null;var n=e.eventTimelines.find((function(e){return e.id===t.id}));n&&n.scene&&n.scene!==e.currentScene&&(re(e,n.scene),e.elementsPanelExpandedState&&Ge(e,n.scene,"group",!0,!0,!1))},Rt=function(e,t){e.selectedEventTimeline=null,e.selectedAction=null},Ct=function(e,t){var n=window.frames.phaserFrame,r={method:"previewEventTimeline",detail:{detail:{eventId:e.selectedEventTimeline,eventTimelines:JSON.parse(JSON.stringify(e.eventTimelines)),actions:JSON.parse(JSON.stringify(e.actions))}}};n.postMessage(r,"*"),e.timelineRunning=!0},Ft=function(e,t){var n,r=window.frames.phaserFrame;"website"===e.projectInfo.type?n={method:"stopPreviewEventTimeline",detail:{detail:{eventId:e.selectedEventTimeline}}}:n={method:"stopPreviewEventTimeline",detail:{detail:{name:Qt(e.eventTimelines,e.selectedEventTimeline).name}}};r.postMessage(n,"*"),e.timelineRunning=!1},Lt=function(e,t){kt(e,t.actionType)},kt=function(e,t){var n=e.selectedEventTimeline,r=Qt(e.eventTimelines,n),o=nn(e,t,r);r.actions||(r.actions=[]),r.actions.push(o),e.selectedAction=o,ft(e,r.id)},Ut=function(e,t){Mt(e,t.prop,t.value)},Mt=function(e,t,n){if(Zt(e.actions,e.selectedAction,t,n),"isStartAfter"===t&&Zt(e.actions,e.selectedAction,"startAfter",null),"name"===t&&(!function(e,t,n){var i,a,c,u,s,d=Object(o.a)(e.alertLog);try{for(d.s();!(s=d.n()).done;){var l=s.value;if(i=l.fieldId,lt(i).actionId===t){c=l.type,u=l.description;var f=l.field.split(":"),p=Object(r.a)(f,2),g=p[0],m=p[1];a=m?g+": "+n+" :"+m:g+": "+n,Et(e,i),yt(e,c,a,u,i)}}}catch(v){d.e(v)}finally{d.f()}}(e,e.selectedAction,n),Zt(e.actions,e.selectedAction,"userDefinedName",!0)),"startAfter"===t&&n){var i=Qt(e.actions,n);Zt(e.actions,e.selectedAction,"offset",i.offset+i.duration)}"offset"!==t&&"duration"!==t||de(e,e.selectedAction)},Bt=function(e,t){qt(e,t.prop,t.value)},Wt=function(e,t){var n,r=e.gameDef.screens[0],i=null,a=Object(o.a)(r.children);try{for(a.s();!(n=a.n()).done;){var c=n.value;Ht(c,t)&&(i=c.name?c.name:Object(u.m)(c))}}catch(s){a.e(s)}finally{a.f()}i!==e.currentArtboard&&ie(e,i)},Ht=function e(t,n){if(Object(u.m)(t)===n)return!0;if(t.children){var r,i=Object(o.a)(t.children);try{for(i.s();!(r=i.n()).done;){if(e(r.value,n))return!0}}catch(a){i.e(a)}finally{i.f()}}return!1},qt=function(e,t,n){var r=Qt(e.actions,e.selectedAction),o="website"===e.projectInfo.type;if(["element","from","relative","stopPriorTweens"].includes(t))if("element"===t){var i=n.element,a=n.elementType;if(r.config.element=i,r.config.elementType=a,o||"group"!==a||(r.config.relative=!0,Tt(e)),o&&Wt(e,i),Ge(e,i,a,!0,!0,!1),!r.userDefinedName){var c;c=function(e,t,n){var r="";if("website"===e.projectInfo.type){if("group"===n)r=e.questai.getGroup(t).getAttribute("data-name");else r=e.questai.getElement(t).getAttribute("data-name")}else{var o=e.creatorScene.scene.get(e.currentScene);if("group"===n)r=o.getGroup(t).getName();else r=o.getElement(t).getData("name")}return r}(e,i,a);var u=dn(e,c);r.name=u}}else r.config[t]=n,"relative"===t&&Tt(e);else if(["scaleX","scaleY"].includes(t)){var s=n.value;n.locked?null===s||""===s?(delete r.config.tweenConfig.scaleX,delete r.config.tweenConfig.scaleY):(r.config.tweenConfig.scaleX=s,r.config.tweenConfig.scaleY=s,jt(r,"scaleX"),jt(r,"scaleY")):null===s||""===s?delete r.config.tweenConfig[t]:(r.config.tweenConfig[t]=s,jt(r,t))}else null===n||""===n?delete r.config.tweenConfig[t]:(r.config.tweenConfig[t]=n,["repeat","ease","yoyo"].includes(t)||jt(r,t))},Gt=function(e,t){var n,r=Qt(e.actions,e.selectedAction),o=t.prop,i=t.value;if(["element","x","y","alpha","angle","visible"].includes(o))null===i||""===i?delete r.config[o]:r.config[o]=i,"element"===o&&(n=e.questai.getElement(i)?"element":"group",Wt(e,i),Ge(e,i,n,!0,!0,!1));else if(["scaleX","scaleY"].includes(o)){var a=i.value;i.locked?null===a||""===a?(delete r.config.scaleX,delete r.config.scaleY):(r.config.scaleX=a,r.config.scaleY=a):null===a||""===a?delete r.config[o]:r.config[o]=a}},Vt=function(e,t){var n=Qt(e.actions,e.selectedAction),r=t.prop,o=t.value;n.userDefinedName||"key"!==r||(n.name=o),["key","loop"].includes(r)?n.config[r]=o:console.log("Unknown prop")},Yt=function(e,t){var n=Qt(e.actions,e.selectedAction),r=t.prop,o=t.value;["element","spineAction","animName","skinName","slotName","attachmentName","loop"].includes(r)?(n.config[r]=o,"element"===r&&Ge(e,o,"element",!0,!0,!1),"spineAction"===r&&("playAnimation"===o&&(n.config.loop=!1,delete n.config.skinName,delete n.config.slotName,delete n.config.attachmentName),"changeSkin"===o&&(delete n.config.loop,delete n.config.animName,delete n.config.slotName,delete n.config.attachmentName),"setAttachment"===o&&(delete n.config.loop,delete n.config.animName,delete n.config.skinName))):console.log("Unknown prop")},Xt=function(e,t){var n=Qt(e.actions,e.selectedAction),r=t.prop,o=t.value;["scene"].includes(r)&&(n.config[r]=o),n.userDefinedName||"scene"!==r?console.log("Unknown prop"):n.name="To ".concat(o)},Kt=function(e,t){var n=Qt(e.actions,e.selectedAction),r=t.prop,o=t.value;["eventName"].includes(r)&&(n.config[r]=o),n.userDefinedName||"eventName"!==r?console.log("Unknown prop"):n.name="Raise Event ".concat(o)},zt=function(e,t){var n=Qt(e.actions,e.selectedAction),r=t.prop,o=t.value;if(["timelineId"].includes(r)?n.config[r]=o:console.log("Unknown prop"),!n.userDefinedName&&"timelineId"===r){var i=e.eventTimelines.find((function(e){return e.id===o}));n.name="Play Timeline: ".concat(i.name)}},Jt=function(e,t){var n=Qt(e.actions,e.selectedAction),r=t.prop,o=t.value;["element","frames","fps","repeat"].includes(r)&&(n.config[r]=o,"element"===r&&Ge(e,o,"element",!0,!0,!1)),"key"===r&&(n.config.key=o.frameKey,n.config.frames=o.frames),n.userDefinedName||"key"!==r?console.log("Unknown prop"):n.name=o.frameKey},Qt=function(e,t){return e.filter((function(e){return e.id===t}))[0]},Zt=function(e,t,n,r){Qt(e,t)[n]=r},$t=function(e,t){var n=e.selectedAction;e.actions=e.actions.filter((function(e){return e.id!==n}));var r=e.selectedEventTimeline,i=Qt(e.eventTimelines,r),a=e.actions.filter((function(e){return i.actions.includes(e.id)})),c=a?a.sort((function(e,t){return e.sequence-t.sequence})):[],u=c.findIndex((function(e){return e.id===n}));i.actions=i.actions.filter((function(e){return e!==n})),0===i.actions.length?e.selectedAction=null:e.selectedAction=u>0?c[u-1].id:c[0].id;var s,d=Object(o.a)(e.actions);try{for(d.s();!(s=d.n()).done;){var l=s.value;l.id!==n&&l.startAfter===n&&(Zt(e.actions,l.id,"startAfter",void 0),Zt(e.actions,l.id,"isStartAfter",void 0))}}catch(f){d.e(f)}finally{d.f()}en(e,i),ft(e,i.id),bt(e,r,n)},en=function(e,t){for(var n=e.actions.filter((function(e){return t.actions.includes(e.id)})),r=n?n.sort((function(e,t){return e.sequence-t.sequence})):[],o=0;o<r.length;o++)n[o].sequence=o+1},tn=function(e,t){e.selectedAction=t.id},nn=function(e,t,n){var r;e.actions&&0!==e.actions.length?r=e.actions.reduce((function(e,t){return e.id>t.id?e:t})).id+1:(e.actions=[],r=1);var o={};o.id=r;var i=Object(u.v)(e),a=e.actions.filter((function(e){return i.actions&&i.actions.includes(e.id)}));o.sequence=a.length+1;return o.type=t,o.name=[{name:"Tween",key:"tween"},{name:"Set Property",key:"setProperty"},{name:"Sound / Music",key:"sound"},{name:"Play Timeline",key:"playTimeline"},{name:"Raise Event",key:"raiseEvent"},{name:"Image Sequence",key:"sequence"},{name:"Scene Transition",key:"sceneTransition"},{name:"Spine Action",key:"spine"}].find((function(e){return e.key===t})).name,o.config={},o.offset=0,"tween"===o.type?sn(o,e,n):"spine"===o.type&&(o.config.spineAction="playAnimation",o.config.loop=!1),"tween"!==o.type&&(o.duration=0),e.actions.push(o),it(e,n.id,r),r},rn=function(e,t){on(e,e.selectedAction,e.selectedEventTimeline,!0)},on=function(e,t,n,r){var o=Qt(e.actions,t),i=JSON.parse(JSON.stringify(o));i.id=e.actions.reduce((function(e,t){return e.id>t.id?e:t})).id+1,r&&(i.name=an(e,i.name)),e.actions.push(i);var a=Qt(e.eventTimelines,n);a.actions.push(i.id),e.selectedAction=i.id;var c=e.actions.filter((function(e){return a.actions&&a.actions.includes(e.id)}));return i.sequence=c.length,it(e,a.id,i.id),i.id},an=function(e,t){var n,r=1;do{n=t+" (Copy "+r+")",r++}while(ln(e.actions,n));return n},cn=function(e,t){var n=Qt(e.eventTimelines,e.selectedEventTimeline),r=JSON.parse(JSON.stringify(n));if(r.id=e.eventTimelines.reduce((function(e,t){return e.id>t.id?e:t})).id+1,r.name=un(e,r.name),e.eventTimelines.push(r),e.selectedEventTimeline=r.id,e.selectedAction=null,r.actions=[],n.actions){var i,a,c={},u=Object(o.a)(n.actions);try{for(u.s();!(a=u.n()).done;){var s=a.value;i=on(e,s,e.selectedEventTimeline,!1),c[s]=i}}catch(v){u.e(v)}finally{u.f()}var d,l=Object(o.a)(r.actions);try{var f=function(){var t=d.value,n=e.actions.find((function(e){return e.id===t}));"tween"===n.type&&n.isStartAfter&&(n.startAfter=c[n.startAfter])};for(l.s();!(d=l.n()).done;)f()}catch(v){l.e(v)}finally{l.f()}}if(ft(e,r.id),n.actions){var p,g=Object(o.a)(r.actions);try{for(g.s();!(p=g.n()).done;){var m=p.value;it(e,r.id,m)}}catch(v){g.e(v)}finally{g.f()}}},un=function(e,t){var n,r=1;do{n=t+" (Copy "+r+")",r++}while(ln(e.eventTimelines,n));return n},sn=function(e,t,n){e.duration=1e3;var r={from:!1,relative:!0,stopPriorTweens:!1},o={ease:"Quad.easeOut"};r.tweenConfig=o,e.config=r},dn=function(e,t){var n,r=0;do{n=t+"_"+r,r++}while(ln(e.actions,n));return n},ln=function(e,t){return!!e&&e.filter((function(e){return e.name===t})).length>0},fn=function(e,t){e.processingStatus=t.status},pn=function(e,t){e.componentUsage=t.componentUsage},gn=function(e,t){var n=t.scene,r=t.guid,i=t.elementType;if(e.gameOverride&&e.gameOverride[n]&&e.gameOverride[n][r]){delete e.gameOverride[n][r];var a,c={};if(c[r]={},"group"===i){var u,s;a=e.questai.getGroup(r);var d,l=Object(o.a)(["x","y","scaleX","scaleY","angle","alpha","visible","name"]);try{for(l.s();!(d=l.n()).done;){var f=d.value;u="data-"+f,s="data-"+f+"-orig",e.elementProperties[n][r][u]=a.getAttribute(s),c[r][f]=a.getAttribute(s)}}catch(I){l.e(I)}finally{l.f()}}else{var p;if("text"===(a=e.questai.getElement(r)).getAttribute("data-elementType")){var g,m=Object(o.a)(["wordWrapWidth","fontFamily","fontWeight","fontSize","text","lineHeight","letterSpacing"]);try{for(m.s();!(g=m.n()).done;){var v=g.value;"wordWrapWidth"===v?(p="data-width-orig",e.elementProperties[n][r][v]=a.getAttribute(p)+"px",c[r][v]=a.getAttribute(p)+"px"):(p="data-"+v+"-orig",e.elementProperties[n][r][v]=a.getAttribute(p),c[r][v]=a.getAttribute(p))}}catch(I){m.e(I)}finally{m.f()}}var h,y=Object(o.a)(["x","y","scaleX","scaleY","angle","alpha","visible","name"]);try{for(y.s();!(h=y.n()).done;){var E=h.value;p="data-"+E+"-orig",e.elementProperties[n][r][E]=a.getAttribute(p),c[r][E]=a.getAttribute(p)}}catch(I){y.e(I)}finally{y.f()}}var b=window.frames.phaserFrame,A={method:"applyProperties",detail:{gameOverride:JSON.parse(JSON.stringify(c)),clearOverrides:!0}};b.postMessage(A,"*")}},mn=function(e,t){e.stateHistory&&(e.stateHistory.splice(e.stateHistoryIndex+1,e.stateHistory.length-(e.stateHistoryIndex+1)),e.stateHistory.push(yn(e)),e.stateHistoryIndex=e.stateHistory.length-1)},vn=function(e,t){if(e.stateHistory&&!(e.stateHistoryIndex<0)){var n=e.stateHistory[e.stateHistoryIndex];e.stateHistoryIndex===e.stateHistory.length-1&&e.stateHistory.push(yn(e)),e.stateHistoryIndex--,En(e,n)}},hn=function(e,t){if(e.stateHistory&&!(e.stateHistoryIndex>e.stateHistory.length-3)){var n=e.stateHistory[e.stateHistoryIndex+2];e.stateHistoryIndex++,En(e,n)}},yn=function(e){return{gameOverride:Object(a.cloneDeep)(e.gameOverride),elementProperties:Object(a.cloneDeep)(e.elementProperties),eventTimelines:Object(a.cloneDeep)(e.eventTimelines),actions:Object(a.cloneDeep)(e.actions),features:Object(a.cloneDeep)(e.features),featureActions:Object(a.cloneDeep)(e.featureActions),gameAdConfig:Object(a.cloneDeep)(e.gameAdConfig),alertLog:Object(a.cloneDeep)(e.alertLog),selectedEventTimeline:e.selectedEventTimeline,selectedAction:e.selectedAction}},En=function(e,t){e.gameOverride=t.gameOverride,e.elementProperties=t.elementProperties,e.eventTimelines=t.eventTimelines,e.actions=t.actions,e.features=t.features,e.featureActions=t.featureActions,e.gameAdConfig=t.gameAdConfig,e.alertLog=t.alertLog,e.selectedEventTimeline=t.selectedEventTimeline,e.selectedAction=t.selectedAction,e.sceneNames.forEach((function(t){ke(e,t.key)}))};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(i.a)(e,(function(e){switch(t.type){case c.mb:return s(e,t);case c.C:return mn(e),q(e);case c.nb:return l(e,t);case c.pb:return f(e,t);case c.ob:return p(e,t);case c.kb:return g(e,t);case c.N:return m(e,t);case c.Ib:return v(e,t);case c.P:return h(e,t);case c.S:return y(e,t);case c.cb:return E(e,t);case c.Nb:return b(e,t);case c.Y:return A(e,t);case c.bb:return I(e,t);case c.U:return O(e,t);case c.W:return T(e,t);case c.Q:return j(e,t);case c.E:return P(e,t);case c.V:return mn(e),R(e,t);case c.sb:return mn(e),B(e);case c.hb:return mn(e),W(e,t);case c.tb:return mn(e),H(e);case c.Z:return mn(e),V(e,t);case c.jb:return G(e,t);case c.m:return Y(e,t);case c.l:return K(e);case c.O:return z(e,t);case c.db:return J(e,t);case c.j:return ne(e,t);case c.i:return oe(e,t);case c.Tb:return mn(e),ce(e,t);case c.Sb:return mn(e),ae(e,t);case c.Qb:return Ue(e,t);case c.R:return qe(e,t);case c.T:return D(e,t);case c.e:return mn(e),ye(e,t);case c.b:return mn(e),pe(e,t);case c.xb:return mn(e),me(e,t);case c.u:return mn(e),ve(e,t);case c.f:return mn(e),Ie(e,t);case c.Lb:return mn(e),we(e,t);case c.y:return mn(e),_e(e,t);case c.Kb:return mn(e),xe(e,t);case c.x:return mn(e),Ne(e,t);case c.I:return mn(e),Ce(e,t);case c.H:return mn(e),Re(e,t);case c.G:return mn(e),Le(e);case c.F:return mn(e),Fe(e);case c.D:return te(e);case c.g:return mn(e),C(e);case c.Pb:return mn(e),F(e,t);case c.A:return mn(e),L(e,t);case c.c:return mn(e),k(e);case c.Hb:return mn(e),U(e,t);case c.v:return mn(e),M(e,t);case c.Ob:return Q(e,t);case c.Rb:return Z(e,t);case c.Mb:return mn(e),$(e,t);case c.M:return mn(e),le(e,t);case c.lb:return Ke(e,t);case c.qb:return ze(e);case c.ib:return Je(e,t);case c.B:return Qe(e,t);case c.k:return et(e,t);case c.d:return mn(e),_t(e);case c.Jb:return mn(e),xt(e,t);case c.w:return Nt(e);case c.q:return mn(e),cn(e);case c.fb:return Dt(e,t);case c.o:return Rt(e);case c.a:return mn(e),Lt(e,t);case c.wb:return mn(e),Ut(e,t);case c.Gb:return mn(e),Bt(e,t);case c.Db:return mn(e),Gt(e,t);case c.Cb:return mn(e),Jt(e,t);case c.Eb:return mn(e),Vt(e,t);case c.Bb:return mn(e),Xt(e,t);case c.Ab:return mn(e),Kt(e,t);case c.zb:return mn(e),zt(e,t);case c.Fb:return mn(e),Yt(e,t);case c.t:return mn(e),$t(e);case c.p:return mn(e),rn(e);case c.eb:return tn(e,t);case c.J:return Ct(e);case c.rb:return Ft(e);case c.Ub:return $e(e);case c.z:return Ot(e,t);case c.vb:return vn(e);case c.K:return hn(e);case c.ub:return Ye(e,t);case c.ab:return Xe(e,t);case c.h:return Te(e);case c.L:return je(e);case c.n:return mn(e),gn(e,t);case c.r:return mn(e),St(e,t);case c.s:return mn(e),wt(e,t);case c.gb:return d(e,t);case c.X:return fn(e,t);case c.yb:return pn(e,t);default:return e}}))}},4:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"r",(function(){return p})),n.d(t,"q",(function(){return g})),n.d(t,"n",(function(){return E})),n.d(t,"k",(function(){return A})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return O})),n.d(t,"m",(function(){return T})),n.d(t,"p",(function(){return j})),n.d(t,"l",(function(){return w})),n.d(t,"o",(function(){return P}));var r=n(2),o=n.n(r),i="UPDATE_USER_INFO",a="UPDATE_ACCOUNT_INFO",c="UPDATE_TEAM_INFO",u="CLEAR_STATE_FOR_LOG_OUT",s="SET_LOGIN_ERRORS",d="SET_LOGIN_STATUS",l="SET_NUM_CODE_DOWNLOADS",f="SET_ACCOUNT_USAGE",p=function(e){return{type:i,userInfo:e}},g=function(e){return{type:a,accountInfo:e}},m=function(e){return{type:c,teamInfo:e}},v=function(e){return{type:l,numCodeDownloads:e}},h=function(e){return{type:f,accountUsage:e}},y=Date.now(),E=function(){return function(e){o.a.get("/logout?api=true").then((function(t){200!==t.status&&301!==t.status&&302!==t.status||e(b())})).catch((function(e){console.log(e)}))}},b=function(){return{type:u}},A=function(e){return function(t,n){if(!n().userInfo||e)return t(P("Getting user info")),o.a.get("/api/creator/getUserInfo?t="+Date.now()).then((function(e){var n=e.data.data[0];t(P("User logged in")),t(p(n)),o.a.get("/api/creator/getAccountInfo").then((function(e){var n=e.data.data[0];t(g(n))})),o.a.get("/api/creator/getTeamInfo").then((function(e){var n=e.data.data;t(m(n))}))}),(function(e){console.log(e),t(P("User not logged in")),console.log("Failed to get user info, this means user is not logged in")}))}},I=function(){return function(e){return e(v(null)),o.a.get("/api/creator/getNumCodeDownloads").then((function(t){"ok"===t.data.status&&e(v(t.data.numDownloads))}),(function(t){console.log("Could not get num downloads"),console.log(t),e(v(null))}))}},O=function(){return function(e){return e(h(null)),o.a.get("/api/ide/getMyAccountUsage").then((function(t){if("ok"===t.data.status){var n=parseFloat(t.data.data.disk_usage_bytes/1e9).toFixed(2);e(h(n))}}),(function(t){console.log("Could not get account usage"),console.log(t),e(h(null))}))}},T=function(e,t){return function(n,r){return o.a.post("/login?api=true",{username:e,password:t}).then((function(e){return o.a.get("/api/creator/getUserInfo").then((function(e){var t=e.data.data[0];n(p(t)),o.a.get("/api/creator/getAgreementSignatureStatus").then((function(e){if(n(_(null)),null===e.data.data[0].sig_id)n(P("Require signature"));else{var t=localStorage.getItem("anonymousProjectId"),r=localStorage.getItem("anonymousProjectKey");t?o.a.post("/api/creator/updateAccountForClonedProject",{projectId:t,projectKey:r}).then((function(e){n(P("User logged in"))}),(function(e){n(P("User logged in"))})):n(P("User logged in"))}o.a.get("/api/creator/getAccountInfo").then((function(e){var t=e.data.data[0];n(g(t))})),o.a.get("/api/creator/getTeamInfo").then((function(e){var t=e.data.data;n(m(t))}))}))}),(function(e){n(_("Failed to get user info"))}))}),(function(e){var t=e.response.data.message?e.response.data.message:"Invalid login";n(_(t))}))}},j=function(){return function(e,t){var n="/api/creator/createAgreementSignature/".concat(t().pdfAgreement.data[0].agreement_id);return o.a.post(n).then((function(t){console.log(t),console.log("login user after signature"),e(P("User logged in"))}),(function(t){e(_("Failed to sign agreement")),console.log("'Failed to sign agreement'"),console.log(t)}))}};function S(){var e,t=Date.now();return t-y>18e5?(y=t-1,e=1):(e=t-y,y=t),e}var w=function(e,t,n){return function(r,i){var a="missing",c="";i().userInfo&&(a=i().userInfo.account_id+":"+i().userInfo.id,c=i().userInfo.account_id+"");var u={account_id:c,campaign_id:"creator:"+a,page:e||(window.location?window.location.href:""),key:t,value:n,key2:"Interaction Time",value2:S()};return o.a.post("/api/analytics/event/V2",u).then((function(e){}),(function(e){console.log("Error.."),console.log(e)}))}},_=function(e){return{type:s,loginErrors:e}},P=function(e){return{type:d,loginStatus:e}}},42:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAcCAYAAABsxO8nAAAAxklEQVQ4je2VQQrCMBBFX4Jr9RKiR6hod+KZPEHxNB5ABBcKeoSCl2jVvTKSSEhrmdKlfRACycxrk0W+4fgAmABbYAUM0XEHDsAGuIloClyBsVIQUwCJBbIOElxvZt1xPClglCMN+tZytFewYCrfa+bbaxvLWtCLelEvauTPRYV7d4rKTkvRKJpr0YjKaK5lULcYoQoG6/LJs6xU/GYRbD1FJCHnObmL1Yxz0LeXFJkBl44BOZc/yiUpgR3wyW8lUis9CZC/AQv4LSjYh2/1AAAAAElFTkSuQmCC"},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return l}));var r=n(2),o=n.n(r),i="SET_DATA_SOURCES",a=function(){return function(e,t){return o.a.get("/api/datasource/get").then((function(t){var n=t.data.data;e(function(e){return{type:i,dataSources:e}}(n))}),(function(e){console.log("Failed to get data sources"),console.log(e)}))}},c=function(e,t,n,r,i,c){return function(u,s){return new Promise((function(s,d){var l={name:e,type:t,operation:n,config:JSON.stringify(r),publicRead:i,publicWrite:c};return o.a.post("/api/datasource/add",l).then((function(e){var t=e.data&&e.data.id?e.data.id:-1;u(a()).then((function(){s({id:t})}),(function(e){d("Failed to add data source. Please try again.")}))}),(function(e){console.log("Failed to add data source"),console.log(e),d("Failed to add data source. Please try again.")}))}))}},u=function(e,t,n,r,i,c,u){return function(s,d){return new Promise((function(d,l){var f="/api/datasource/update/"+e,p={name:t,type:n,operation:r,config:JSON.stringify(i),publicRead:c,publicWrite:u};o.a.post(f,p).then((function(e){s(a()).then((function(){d()}),(function(e){l("Failed to update")}))}),(function(e){console.log("Failed to update data source"),console.log(e),l("Failed to update")}))}))}},s=function(e,t,n,r){return function(o){var i=window.frames.phaserFrame,a={method:"reloadDynamicData",detail:{detail:{groupGuid:e,datamapping:t,rows:n,cols:r}}};i.postMessage(a,"*")}},d=function(e){return function(t,n){var r="/api/datasource/delete/"+e;return o.a.get(r).then((function(e){t(a())}),(function(e){console.log("Failed to delete data source"),console.log(e)}))}},l=function(e){return function(t,n){return new Promise((function(t,n){var r="/api/v1/data/".concat(e,"/get?start=0&rowCount=5");o.a.get(r).then((function(e){e&&e.data?t(e.data):(n("got error while getting sample rows"),console.log(e))})).catch((function(e){e.response?n({status:"error",message:e.response.data&&e.response.data.message?e.response.data.message:"Failed to validate datasource"}):e.request?n({status:"error",message:"Failed to contact server"}):n({status:"error",message:"Failure in contacting server"})}))}))}}},6:function(e,t,n){"use strict";n.d(t,"s",(function(){return s})),n.d(t,"n",(function(){return d})),n.d(t,"q",(function(){return l})),n.d(t,"r",(function(){return f})),n.d(t,"w",(function(){return p})),n.d(t,"u",(function(){return g})),n.d(t,"v",(function(){return m})),n.d(t,"y",(function(){return v})),n.d(t,"x",(function(){return h})),n.d(t,"t",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return A})),n.d(t,"g",(function(){return I})),n.d(t,"j",(function(){return O})),n.d(t,"m",(function(){return T})),n.d(t,"a",(function(){return j})),n.d(t,"o",(function(){return S})),n.d(t,"p",(function(){return w})),n.d(t,"k",(function(){return _})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return x})),n.d(t,"l",(function(){return N})),n.d(t,"c",(function(){return D})),n.d(t,"f",(function(){return R})),n.d(t,"G",(function(){return k})),n.d(t,"T",(function(){return M})),n.d(t,"V",(function(){return W})),n.d(t,"W",(function(){return q})),n.d(t,"Y",(function(){return G})),n.d(t,"R",(function(){return V})),n.d(t,"P",(function(){return Y})),n.d(t,"Q",(function(){return X})),n.d(t,"S",(function(){return K})),n.d(t,"F",(function(){return z})),n.d(t,"N",(function(){return J})),n.d(t,"U",(function(){return Z})),n.d(t,"K",(function(){return ce})),n.d(t,"I",(function(){return ue})),n.d(t,"J",(function(){return se})),n.d(t,"H",(function(){return de})),n.d(t,"M",(function(){return le})),n.d(t,"L",(function(){return pe})),n.d(t,"E",(function(){return ge})),n.d(t,"C",(function(){return me})),n.d(t,"X",(function(){return ve})),n.d(t,"B",(function(){return he})),n.d(t,"O",(function(){return ye})),n.d(t,"A",(function(){return Ee})),n.d(t,"z",(function(){return be})),n.d(t,"D",(function(){return Ae}));var r=n(3),o=n(15),i=n(2),a=n.n(i),c=n(1),u=n(4),s="SET_UPLOAD_PERCENT",d="SET_IMPORT_STATUS",l="SET_PROJECT_LOAD_STATUS",f="SET_RIGHT_PANEL_TAB",p="UPDATE_PROJECT_INFO",g="UPDATE_MY_PROJECTS",m="UPDATE_MY_SITES",v="UPDATE_TEAM_PROJECTS",h="UPDATE_PUBLIC_PROJECTS",y="UPDATE_CURRENT_PROJECT",E="REMOVE_PROJECT_FROM_MY_PROJECTS",b="SET_AUDIO_JSON",A="SET_AUDIO_NAMES",I="SET_ASSET_FILES",O="SET_CODE_FILES",T="SET_GAME_DEF",j="INIT_ALERT_LOG",S="SET_PROJECTS_PAGE_STATUS",w="SET_PROJECTS_SORT",_="SET_CURRENT_PROJECT_HISTORY",P="SET_ANALYTICS",x="SET_ANALYTICS_LOADING_STATUS",N="SET_FIGMA_DEV_TOKEN",D="SET_AI_READY",R="SET_ANONYMOUS_CLONE_STATUS",C=function(e){return{type:D,isAIReady:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:x,loading:e}},L=function(e,t){return{type:P,analyticsType:e,data:t}},k=function(){return{type:j}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:s,uploadPercent:e}},M=function(e,t){return{type:d,importStatus:e,importStatusMessage:t}},B=function(e,t){return{type:l,projectLoadStatus:e,projectLoadStatusMessage:t}},W=function(e){return{type:S,status:e}},H=function(e){return{type:R,status:e}},q=function(e){return{type:f,rightPanelTab:e}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:p,projectInfo:e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:A,audioNames:e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:I,assetFiles:e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:b,audioJSON:e}},K=function(e){return{type:O,codeFiles:e}},z=function(e,t,n,r,o){return function(i,a){var u=a();i(Object(c.hc)(["codeFiles","showEditor"])),"figma"===t?re(i,u,n).then((function(a){Q(e,t,u,i,n,r,o)}),(function(e){console.log("Update figma dev token failed.. not importing design")})):Q(e,t,u,i,n,r,o)}},J=function(e,t,n,r){return function(o,i){var a=i();ie(a,o,t,e,n,r)}},Q=function(e,t,n,r,o,i,a){return i?oe(r,n,o,i).then((function(i){ae(e,t,n,o,r)}),(function(e){console.log("Update figma file key failed.. not importing design")})):ne(e,t,r,n,o,a).then((function(i){ae(e,t,n,o,r,i.projectId)}),(function(e){console.log("Project creation failed.. not importing design")}))},Z=function(e){return function(t,n){var r=n();r.teamprojects?$(r,t,e,r.teamprojects):fe(r,t).then((function(n){var o=n.projects;$(r,t,e,o)}),(function(e){console.log("Load team projects failed")}))}},$=function(e,t,n,r){var o=r.find((function(e){return e.id===n})),i={id:o.id,name:o.name,description:o.description,publishedUrl:o.publishedUrl,linkedToDesign:o.linkedToDesign,type:o.type,source:o.source,figmaFileKey:o.figmaFileKey};t(G(i))},ee=function e(t,n){return function(r,o){if("yes"!==o().isAIReady&&n<10){r(C("checking"));var i="/api/ide/isAIReady/".concat(t);return a.a.get(i).then((function(o){"ok"===o.data.status?o.data.isAIReady&&r(C("yes")):console.log("got status not ok, trying again..."),setTimeout((function(){return r(e(t,n+1))}),6e4)}),(function(e){console.log(e)}))}return null}},te=function(e,t,n,i){var u="/api/ide/loadProject/"+t;n(B("loading project")),i&&(n(Object(c.bd)(!0)),n(Object(c.sd)()));var s=window.setTimeout((function(){console.log("Time ran out... Reloading"),window.location.reload(!0)}),24e4);return a.a.get(u).then((function(e){s&&window.clearTimeout(s);var t=e.data,a=t.gameOverride,u=t.codeFiles,d=t.gameDefinition,l=a.gameDefinition;if((l||d)&&n(function(e){return{type:T,gameDef:e}}(l||d)),u){for(var f={},p=0,g=Object.entries(u);p<g.length;p++){var m=Object(o.a)(g[p],2),v=m[0],h=m[1];f[v]=decodeURIComponent(atob(h).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}n(K(f))}var y=void 0,E=void 0,b=void 0,A=void 0,I=void 0,O=void 0,j=void 0;a&&(y=a.gameOverride,E=a.eventTimelines,b=a.actions,A=a.gameAdConfig,I=a.features,O=a.featureActions,j=a.components);var S=t.psdMessages&&t.psdMessages.length>0?t.psdMessages:null,w=t.projectInfo,_=t.hasAI;w.hasAI=_,_&&"website"!==w.type&&(n(C()),n(ee(w.id,0)));var P=[];if(S){var x,N=Object(r.a)(S);try{for(N.s();!(x=N.n()).done;){var D=x.value;P.push({type:D.type.toLowerCase(),field:D.layerName,description:D.message,fieldId:"DESIGN"})}}catch(L){N.e(L)}finally{N.f()}n(Object(c.ad)(!0))}var R=t.audioJSON,F=t.assetFileList;n(G(w)),n(Object(c.Pd)(y,E,b,A,P,I,O,j)),n(B("done loading project")),n(q("props")),n(Object(c.nd)(!1)),n(X(R)),n(Y(F)),E&&E.length>0&&n(Object(c.ld)(E[0].id)),R&&R.hasOwnProperty("spritemap")&&n(V(Object.keys(R.spritemap))),i&&(n(Object(c.Bc)()),n(Object(c.bd)(!1)))}),(function(e){n(B("error loading project")),i&&n(Object(c.bd)(!1))}))},ne=function(e,t,n,r,o,i){var c,u;"psd"===t?c=o&&o.length>0?o[0].name:"My Project 1":"figma"===t&&(c="Figma Project 1"),c=c.indexOf(".psd")>0?c.substring(0,c.indexOf(".psd")):c,u=c;var s=null;"figma"===t&&(s=o.figmaFileKey);var d={name:c,description:u,template:9,linked_to_design:1,type:e,source:t,figmaFileKey:s,extractVersion:5,isComponent:i};return a.a.post("/api/creator/createProject/",d).then((function(r){var o=r.data.id;return n(G({id:o,name:c,description:u,type:e,source:t,figmaFileKey:s,isComponent:i})),"website"!==e&&(n(C()),n(ee(o,0))),{projectId:o}}),(function(e){return console.log("Error creating project")}))},re=function(e,t,n){var r,o={figmaDevToken:n.figmaDevToken};return e((r=n.figmaDevToken,{type:N,figmaDevToken:r})),a.a.post("/api/creator/updateFigmaDevToken/",o).then((function(e){}),(function(e){return console.log("Error updating figma dev token")}))},oe=function(e,t,n,r){var o={figmaFileKey:n.figmaFileKey,projectId:r},i=Object.assign({},t.projectInfo);return i.figmaFileKey=n.figmaFileKey,e(G(i)),a.a.post("/api/creator/updateFigmaFileKey/",o).then((function(e){}),(function(e){return console.log("Error updating figma file key")}))},ie=function(e,t,n,r,o,i){var u=null;"psd"===o?u="/api/ide/scheduleBuild/"+r+"/"+("xcf"===i?"temp.xcf":"temp.psd"):"figma"===o&&(u="/api/ide/syncFigmaFileFinal/"+r);var s={url:u,method:"POST",data:{selectedItems:n.selectedLayers}};t(M("processing","")),a.a.request(s).then((function(n){!function e(t,n,r,o,i){var u="/api/ide/getUploadStatus/"+r+"/"+o;(new Date).getTime()-i.getTime()<16e4?a.a.get(u).then((function(a){"ok"===a.data.status?(n(M("complete")),n(q("props")),a.data.psdMessages.length>0&&n(Object(c.ad)(!0))):setTimeout((function(){e(t,n,r,o,i)}),1e4)})).catch((function(e){console.log(e),e.response.data&&e.response.data.message?n(M("processing error",e.response.data.message)):n(M("processing error"))})):n(M("processing timeout error",null))}(e,t,r||e.projectInfo.id,n.data.process_id,new Date)})).catch((function(e){console.log("Error uploading design"),console.log(e),500===e.response.status?t(M("upload error, contact")):502===e.response.status?t(M("processing error","There was a network error while importing. Please check your internet connection and try again")):504===e.response.status?t(M("upload error, connection")):e.response.status>=400&&e.response.status<500?(e.response.status,t(M("upload error, no access"))):t(M("upload error, unknown"))}))},ae=function(e,t,n,r,o,i){var c,u;if(i?"psd"===t?c="/api/ide/uploadProjectFiles/"+i+"/"+r[0].name:"figma"===t&&(c="/api/ide/syncFigmaFile/"+i):"psd"===t?c="/api/ide/uploadProjectFiles/"+n.projectInfo.id+"/"+r[0].name:"figma"===t&&(c="/api/ide/syncFigmaFile/"+n.projectInfo.id),"psd"===t){o(M("importing",""));var s=new FormData;s.append("file",r[0]),u={url:c,method:"POST",data:s,onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);o(U(t)),t>=100&&(o(M("processing")),o(U()))}}}else"figma"===t&&(o(M("processing","")),u={url:c,method:"POST",data:r});return a.a.request(u).then((function(a){var c=a.data.metadata;if("error"===a.data.status)o(M("processing error",c.msg));else{if("website"!==e&&c&&c.includedLayers&&1===c.includedLayers.length&&!c.errors&&(!c.skippedLayers||0===c.skippedLayers.length)){var u=r&&r.length>0?r[0].name:"missing.psd",s=u.toLowerCase().indexOf(".xcf")===u.toLowerCase().length-4?"xcf":"psd",d={name:u},l=i||(n.projectInfo?n.projectInfo.id:null);return l||o(M("preprocess",{metadata:c})),d.selectedLayers=[c.includedLayers[0].id],void ie(n,o,d,l,t,s)}o(M("preprocess",{metadata:c}))}})).catch((function(e){console.log("Error uploading design"),console.log(e),500===e.response.status?o(M("upload error, contact")):502===e.response.status?o(M("processing error","There was a network error while importing. Please check your internet connection and try again")):504===e.response.status?o(M("upload error, connection")):e.response.status>=400&&e.response.status<500?(e.response.status,o(M("upload error, no access"))):o(M("upload error, unknown"))}))},ce=function(e,t){return function(n,r){return te(r(),e,n,t)}},ue=function(){return function(e,t){var n=t().projectsSortBy,r=t().projectsSortDirection,o="/api/creator/getAllMyProjects";return n&&r&&(o=o+"?sortBy="+n+"&sortDirection="+r),a.a.get(o).then((function(t){var n=t.data.data;e(function(e){return{type:g,projects:e}}(n))}),(function(e){console.log("Failed to get my projects"),console.log(e)}))}},se=function(){return function(e,t){return a.a.get("/api/domains/getMySites").then((function(t){for(var n=t.data,r=n.sites,o=0;o<r.length;o++){r[o].paths=[];for(var i=null,a=0;a<n.sitePath.length;a++)r[o].id===n.sitePath[a].site&&(r[o].paths.push(n.sitePath[a]),"/"===n.sitePath[a].path&&(i=n.sitePath[a]));r[o].defaultPath=i||(r[o].paths.length>0?r[o].paths[0]:null)}e(function(e){return{type:m,sites:e}}(r))}),(function(e){console.log("Failed to get my sites"),console.log(e)}))}},de=function(){return function(e,t){return a.a.get("/api/creator/getSupportedFonts").then((function(t){var n=t.data.fonts;e(Object(c.Nd)(n))}),(function(e){console.log("Failed to get google fonts"),console.log(e)}))}},le=function(){return function(e,t){return fe(t(),e)}},fe=function(e,t){var n=e.projectsSortBy;void 0===n&&(n="");var r=e.projectsSortDirection;return void 0===r&&(r=""),a.a.get("/api/creator/getTeamProjects?sortBy="+n+"&sortDirection="+r).then((function(e){var n=e.data.data;return t({type:v,teamProjects:n}),{projects:n}}),(function(e){console.log("Failed to get team projects"),console.log(e)}))},pe=function(){return function(e,t){var n=t().projectsSortBy,r=t().projectsSortDirection;return a.a.get("/api/creator/getPublicProjects?sortBy="+n+"&sortDirection="+r).then((function(t){var n=t.data.data;e({type:h,publicProjects:n})}),(function(e){console.log("Failed to get public projects"),console.log(e)}))}},ge=function(e){return function(t,n){return a.a.get("/api/ide/getProjectHistoryGroup/"+e).then((function(e){var n=e.data;t(function(e){return{type:_,projectHistory:e}}(n))}),(function(e){console.log("Failed to get project history"),console.log(e)}))}},me=function(e){return function(t,n){return t(function(e){return{type:y,projectId:e}}(e)),ye(n(),t,!1,0)}},ve=function(e,t){return function(n,r){n(function(e,t){return{type:w,sortBy:e,sortDirection:t}}(e,t)),n(ue()),n(le()),n(pe())}},he=function(){return function(e,t){var n=Object.assign({},t().projectInfo);return n.isComponent=1,e(G(n)),ye(t(),e,!1,1)}},ye=function(e,t,n,r,o){var i="/api/creator/updateProject/"+e.projectInfo.id,c={};return c.projectName=e.projectInfo.name,c.projectDesc=e.projectInfo.description,c.linkedToDesign=e.projectInfo.linkedToDesign,e.projectInfo.isComponent&&(c.isComponent=e.projectInfo.isComponent),c.active=r,c.published=n?1:0,null!==o&&void 0!==o&&(c.showInGallery=o?1:0),new Promise((function(e,n){a.a.post(i,{projectData:c}).then((function(n){null!==n.data.projectKey&&localStorage.setItem("anonymousProjectKey",n.data.projectKey),0===r&&(t(ue()),t(le())),e(n)}),(function(e){console.log("Error saving project"),n(e)})).catch((function(e){console.log("Error saving project"),n(e)}))}))},Ee=function(e,t){return function(n,r){n(W("cloning"));var o="/api/ide/cloneProject/"+e+(t?"?version="+t:"");return new Promise((function(e,t){a.a.get(o).then((function(e){n(W(null)),n(ue()),n(le())})).catch((function(e){console.error("Failed to clone project"),console.error(e),t(e)}))}))}},be=function(e){return function(t,n){t(H("cloning"));return new Promise((function(n,r){a.a.get("/makeme").then((function(n){t(Object(u.k)(!0));var r="/api/ide/cloneProject/"+e;return new Promise((function(e,n){a.a.get(r).then((function(e){t(G({id:e.data.newProjectId,name:e.data.name})),t(H(null))})).catch((function(e){t(Object(u.n)()),t(H("error")),console.error("Failed to clone project"),console.error(e),n(e)}))}))})).catch((function(e){console.error("Failed to login as anonymous"),console.error(e),r(e)}))}))}},Ae=function(e,t,n,r){return function(o,i){var a=i(),c=!1;if(a.teamProjects){var u=a.teamProjects.filter((function(t){return t.id===e}));u&&1===u.length&&(c="mobile_optimized"===u[0].type||"mobile_playable"===u[0].type||"custom"===u[0].type)}o(F(!0)),o(Ie("engagement",e,t,n,r)),o(Ie("cta",e,t,n,r)),o(Ie("gameLoads",e,t,n,r)),o(Ie("tags",e,t,n,r)),o(c?Ie("events",e,t,n,r):L("events",null))}},Ie=function(e,t,n,r,o){return function(i){var c,u=n.valueOf(),s=r.valueOf(),d=(new Date).getTimezoneOffset();return c="tags"!==e?"/api/ide/dashboard/".concat(e,"/").concat(t,"?startDate=").concat(u,"&endDate=").concat(s,"&timezoneOffset=").concat(d).concat(o?"&tags=".concat(o):""):"/api/ide/dashboard/".concat(e,"/").concat(t,"?startDate=").concat(u,"&endDate=").concat(s,"&timezoneOffset=").concat(d),a.a.get(c).then((function(t){var n=t.data.details,r=Oe(JSON.parse(n),e);i(L(e,r)),"tags"===e&&i(F(!1))}),(function(e){i(F(!1)),console.log(e)}))}},Oe=function(e,t){var n,o=e.cols,i=e.rows,a=o.map((function(e){return{label:e.label,id:parseInt(e.id)}})).sort((function(e,t){return e.id-t.id})),c=[],u=Object(r.a)(i);try{for(u.s();!(n=u.n()).done;){var s,d=n.value,l={},f=Object(r.a)(a);try{for(f.s();!(s=f.n()).done;){var p=s.value;l[p.label]=d.c[p.id].v}}catch(m){f.e(m)}finally{f.f()}c.push(l)}}catch(m){u.e(m)}finally{u.f()}var g=function(e,t){var n=new Date(e.date),r=new Date(t.date);return n.getTime()-r.getTime()};return"gameLoads"===t?c.map((function(e){return{date:e.Date,views:e["Load count"]}})).sort(g):"engagement"===t?c.map((function(e){return{date:e.Date,avgTime:parseInt(e["Average Time per session (Seconds)"]),sessions:e["Number of Sessions"]}})).sort(g):"cta"===t?c.map((function(e){return{date:e.Date,ctaCount:e["CTA count"]}})).sort(g):"events"===t?c:c.filter((function(e){return 0!==e.Tags})).map((function(e){var t=String(e.Tags).replace(",","");return{label:t,value:t}}))}},63:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAcCAYAAACQ0cTtAAAA6UlEQVRIie2WMQrCQBBFn6kVU6p4DQ9gb9SraG2prSfQSxgLuxxAz6GtGq2VCSMsuyBIdrHZD2GS2cl/GUjxGxQlqgyYAQOgSX09gCOwBvbilqjlEtgBQ08g1Ef8cvVHNhtpI7TGstncgByAXvUR9a+e+n00k83uQEsbMnDxuGEXOOt9mRggPINsv1biHAdUhEXYV0VYhH1VhP0NdgVeWoPD2lYNCrtZ9SdYaTx3nQlXqeaT1Dlx1TE6D4GdjMbGGqijPrA13j9K4Mk0M4ZWFeUkM64Cg8Q///wgC2AKFMDTE0B8xG9S+QNv/0Aqm0Bl1KQAAAAASUVORK5CYII="},64:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAcCAYAAACQ0cTtAAAA2klEQVRIie2WQQ6CMBBFP+5NWIrxSIKX8hh6CV244wJ6Dt2iZf/NkClpaEQCFTd9SUPTTudl6KIDknbkJEuShmEwmm9rHVa0DyT4hORHImYAZ/yeAlqq5UIyc37tlJFpPksplb0ALLWuNYBHwBozAHedG5HR2Uy88Om0+Rcz3FVLlEVZL1EWZb1E2d9klT4blbfzhTHv2ej4MZU9O9/BiMw4wdmAg6lWlHo7PitnpRbZzVk4dAKmsAFwdM5f5c5yAKdAgj6aVm62JtXtC3faQ9aBBJJH8hVNfhJvqX4ZAHOx8LcAAAAASUVORK5CYII="},65:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAcCAYAAABsxO8nAAAAlElEQVQ4je2VQQ6DMAwETf9ShT80X+ZtEMp9kKuAolBQLHIjI1k5rHcVX2wBtN7AAATKCdGjXtEQB4yGgBz1OompdxkkG8fHUUvKJ75vx2/AnU5s7N6X0XhKC2pBLeiShwdNce9MByWhZLFd6abFFrL3L1VX7ZwI/tB6zieRlqrnqK9wIPvtfum11Z/NhgDtVY8DZAW9EfP3telsiwAAAABJRU5ErkJggg=="},66:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAWCAYAAAA8VJfMAAAAYUlEQVRIiWNk2P/5MAMDgw0D/cARkKX/6WghGLAgsRkxZKkPwB5kopPnUMCopaOWjlo6ailWMGrp8LMUuWqjW70K8ukRDFHagqMgn9rS2VKwT0FtJFDQ0gsfpn9CYmBgBAAuPSaIsuId2AAAAABJRU5ErkJggg=="},67:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAWCAYAAAA8VJfMAAAAX0lEQVRIiWP8////YQYGBhsG+oEjIEv/09FCMGBBYjNiyFIfgD3IRCfPoYBRS0ctHbV01FKsYNTS4WcpctVGt3oV5NMjGKK0BUcZB6DhAPYpqI0Esple+DD9ExIDAyMAUbQr23IRRc0AAAAASUVORK5CYII="},71:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAABzCAYAAAAVFWW7AAAM2klEQVR4nO2dD7QVRR3Hv++KIBGKiQWIooJmIsYfkUBEUgMC6qjxz8h/mIVlGKZloXQ6aWUaqCUiYpiQZICREKEcwOSghpQkKamgIAoYPiqBB4jw6wx897FvZ/bemb139+798zlnznt3Zu7u7O/Ozs7O78/UiAhSRnMApwPoCOCTANoBaA3gWJY1A9CITd4HoA7A+wBqAWwGsAHA6wBeBvAKgG1purw0CPwwAOcB6AugN4AuAFpotaKxE8AqAMsBLAXwDH+golEsgdcAGARgMICBAI7XasTDVgBPApgP4AkAuxK/8IQFroaHqwFcBuBErTRZ3gUwE8BUDj+JkJTAPwVgLIBRHELSxmMAJgBYEXe74hZ4KwC3AviGVpJOHgXwIwCvxdW6OAWuevSPOasoNW5nRym4cOIQeGcA9wP4jFZSWrzKO3NJIVud0XLy4zsAXiwDYYPvAIsB/FQryYNC9fDGfOJfopWUB8sADOXMpugCbw9gAYBTtZLCsAXAWwA2AXgPwP8A7OaR1Q99FIBjALQBcAKA42JqRy3fG57XShzIV+ADAMwB8BGtJDov8Y3wWf6vZgx7LY+mppwnAzgTQA++wZ6t1coPNbWdFvkISuAR01VSOP4hIuNEpFMe7QlLp4jIWBF5roDtHRdyrpwp6kVcrTUhGnNFpL/h+HGlc0TkERHZV4C2/zApgQ/XTu3OwyJyhuHYSaV2InJPAa7jxrgF3kc7pRvLRaSX4bjFSh1FZH6e1zQyLoG3FZEPtdPZc5PhmGlJ6nm0K49rO9v2OlxmKes4A3BFKQNGAPh7gWcLheZErqX0jHDcHZyWbtdKAti+ac6IKGy17nxGCQhbsR5ALwAPaSW5+SiAP1vVNHX7QBqq3UB2TDYcq1TS+IjXfHO+Q4rSIf4nwhr2BK6rlDJjeR2udODwayTXkDI9grB/WQbCVkwE8D0tNzdzstYwdXum3toNk5vZhuOUepoQQQ6Xh11ztiHFdVbyMh+Q5chCAP0drmsHF9X2BwvChpQRjsJWBz5fyy0fBnKl0hY1a7nFVDesh7/DeaUtaq14dhkLXHEWgBe03HDUCueRvqXkA5h6+JcchT2vAoStWAngbi03nMMBXB8sNfXw1Y5j8ZE2b1hlxGZaI9iglBYt/fWCPby7o7CHVZiwFZ/XcsI5hjKqJyjw74Z+VUcZzczScsufVTQcsqWBTP1DSlPqCw+3PFBvGklWIsdTz2rLSVyradDDv+Ag7DUVLGzFRs7NbRnu1fML/CKHA/xCy6k87nC44nrZ+oeUrcEnaggfcmaSuKlvCtlEZwEb1AN0m9fDu1gKG1zjrgr7IL/TcsJRJhv1Q8q5odV0HtdyKhcXWZzjF3g3rTicRaEllcez9C+yoZtf4LYvO2toelblIPsdZmvKSSyjBH4EgFO0YjN52dWVKX+1vCzlhdcuQ7+b5lqxmdXG3Mrmnw5X3z7jaG0amytGCbPWoeltM+zqtrxd6dI18A7fTWxo5drDt2o5VWod5HK0EnhbLdvMdocpUCWhXtX/a3m9zTNUdtqgXKY/qHTphmD75n1ExhcoIBf7mKroaNr5EA7Mw23dORqlyItY+VBeq+UWD9tOuz9DUzYblINrk5RcoHLpm8QACWmgqWUbdmW4mG5DMy7LpoFX2Ib5tDIoJuquP9ry/Nsz1ELb8omUCLyx739lovFlrUZytHRY2q7NOM6tk4pr4spvGRakGLQ1KOPD2OIypIBjZ1pRcU++WYS22S78KTZmqH22fXCeqeWki18VwVTaRSbrvGmh7aJUFP+XpLkLwLgEz2kbyGGz18PhsOx6Mpdz085tjNUSN00cOuEBGXsCd7EKdbGTLibKXPjOmM9/HhU4Nihj0HqBL3M4yVAtJ73cSBeYuHB5B1juF/gaBli04UIAHy8hoV/naM5gi3qdv9Sy7i7GTWwwf5ynVQunVIKGeQxndJ9CMsJBNbnEW1H0Czy791VDrtNy0s/5vK0LFXbKxdK43n7Ff/Knqb2wQZltfSX9MtboRTPrj2klbqiZSSeHb9R35uCvPV2rGs7PQkvSTTdq2k/Ko5X3ajnhzKMZ+AGCAp8U+jWd4zgLKEVa0/8/ylLF1+lgZcs9/npBgb9O8y1b7owxqFfcqAjOf3N8NVdBii/XcsN5O/iwNj1Axms52SllD7ZmfCHprpWYUQrjfgB+byzVuS2YYxL4YkaltEWtJXwr4gWngcNprtbbsi07Oc3MFfhAWTg8EMw0CVwxRsvJzr2MoFyq1PBt+0KH9qtVyRu03EP8QMvJIvCnIgSVWRrQxJQiixz1pBODboFERfC8T8vNInA4PhxA9dtSLbf0cNWTzqKx/Q5f3iitFskmcBUd4kEtNzu9ysRDQk0ERmq54TzL2c4uKrgXhNXMJnBwzmmrDfK4OKbFoijsczQn9jPDUU/6JndnGaCV+MglcHF0J/QYzluz2GSo0Q+9xXMw1XGhbn0uHbHNQs4zVFu5MogPXltj0TioYSCCaXlogO4rpJ7UduXspojuJl34LPiiVpIcns3I+Dx0nQXTk7osVV7gsJroR1lr/ZGal2JMG/3G8j/Jo7cWRE/qIvA6z9cwImoN/TW/33mRmBAyd7bhFo7rkXFdjFev/H20XHvacQazJNfTPGZmOcY98aNmLn+IavYXRfuxLI/GenyWoUPVat01DMqVNAvzCIx2UVQFTFR100KumuVLVwBTOIedwuhpSe77s5Qva66OBo9EeCk8QD76vUV8u1qvlbjTkj39T7QeUBvT3cxhp53B4L2QYZ+e4z4Ru7USM2qbmSui+juZgoy50pwC6pvvgbKwiS7ntUyd6EptwzDLUFEd+YqezQb+0rzfok3hOiOmu7WAoOlgqMP1dBCR9wytfkNEuhrqO6dC7lT1bfYmWxe6NLKWzxW/k8KjXCMpSAz0Qm8Npm7d00pc7fYWNft/oSZrpMP4npM4dxscwgdMB60kWWzH8EQodA/3M5vbhanZxr+10golToGDy7t30OjmKkez6LIkboF7qHWYhznf7c+pVVF33y4WSQncz1Ocz57I1+NZEVchbSnkxnx5k4Z97cG1lJ60DenBFxuXkNph1FEh7BJFM1bSIvAgh3F204F3Qmuuzh3FH8dbV1drIHv4qr+TPqdbGTRmA7dViPPucSatAi9bijGGVzRVgSdMVeAJUxV4wlQFnjBVgSdMVeAJUxV4wlQFnjBVgSdMVeAJUxV4wthElBxEo/T+XMVTVlK/4V4+O7TaB90Iu9C8+UVfvooIN5greU8EvjOM/u9NDJ1gjmFXqFNppXUmQ0itoKuL31ujL9sB1tlLF0Fvcyh1HXO11oejrv2rbN9rWaJTKIu09rSf1N0vc9hVTPbZZrwiIs/5Pm8Wkc6G70xj+V2B/Et8Nh7B79RpliCHGBKoO0qrcYjBvnpztdKGrDW0I1saGfh+o5C6z7N8jKFM601+rqePzzZuynE6lQQ17N2tqKMMWpF6O6tuC+R7KjWTS4ZnB3Il7ULOYjqbGiKPY337zvej1Vcb6k1XBI49hsoMZfLwa+ZN5+ceEQxSb+Xa+xJ+HqLVOMgm/jWbwpl+BRFpIiIf8JcaYChXaTXLJwTyf8787wfy+zP/acOx3mSZ6Tz+1J71VNuaGsrD0g0hbbJNJ/H7U0SkMf9fFfLdOSy/wlAW2sO7cqyry6Ke8mzsCmFTuId/n2SUzZncQjHoEb2Odby2verzNssWcLdF4K8rY1n/IcZQV66BnwZwguuBwgTuBa/dqZUcwosBEjQv9o4ZNAH2PpvO6bmF9KPX2Qg+SE2+QQN4e7/Eh+dIeiVsZEeJg9H0wXyZ6j1vWBvtei7TxSv+xb8tDZGDvad8Z/4NziBq+HdPIN8bw03n9HpnH/6Azai7DBtnb2MPa0yh388oRRO1mvkzkNfclLrTPb7dFp3j3ZouXvEGjRdrAo5E17BsDB1gQZc8P95OKJ8L5HuBAzZBx2vHSv4wdby7gsHkM3RJH8jPexnjZQY/5xtayYQX2+pxnmcme/gWRre7wPCdcEwDO9NpvinQVBHpKSJjA1OjyYbvtfGVLxWRO0TkMV9eX8N3alm2UkQWiMhCX/KbCXfyHWc5H9AP+PIuMxxbpYksn2Qoy5b8MgjWu5b5LwTylzB/tOE7WQWuUnc+jYPs5ucVItLH8L1zA3N24bz3SkNdlRaLyCbtLAcZ6KunZiYXU9h+NorI1wzH9dKNIvKuiIwzlGVLN7Az3G6o00JENtCevKUv/0Gey2iXbmsm4RnoNGVQyWf4gJvMuFdaIBbSkrf5+zk2zVNvcWr4CjZG5amHramRykZF3dJq6DENU37UUKTGYTUE2W6QoVDeEMpUOWx3F9U+ZdmljuntdOJtZKLO1bDdAP4Pz8uXXMkjrxIAAAAASUVORK5CYII="},78:function(e,t,n){e.exports=n(108)},8:function(e,t,n){"use strict";n.d(t,"o",(function(){return A})),n.d(t,"n",(function(){return I})),n.d(t,"s",(function(){return O})),n.d(t,"A",(function(){return j})),n.d(t,"z",(function(){return S})),n.d(t,"y",(function(){return w})),n.d(t,"i",(function(){return x})),n.d(t,"h",(function(){return D})),n.d(t,"v",(function(){return R})),n.d(t,"w",(function(){return C})),n.d(t,"r",(function(){return F})),n.d(t,"u",(function(){return L})),n.d(t,"c",(function(){return k})),n.d(t,"x",(function(){return M})),n.d(t,"l",(function(){return B})),n.d(t,"k",(function(){return W})),n.d(t,"p",(function(){return G})),n.d(t,"e",(function(){return Y})),n.d(t,"t",(function(){return X})),n.d(t,"d",(function(){return z})),n.d(t,"m",(function(){return J})),n.d(t,"j",(function(){return Q})),n.d(t,"f",(function(){return $})),n.d(t,"B",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"b",(function(){return ne})),n.d(t,"g",(function(){return re})),n.d(t,"q",(function(){return oe}));var r=n(10),o=n(15),i=n(3),a=n(63),c=n.n(a),u=n(64),s=n.n(u),d=n(42),l=n.n(d),f=n(65),p=n.n(f),g=n(66),m=n.n(g),v=n(67),h=n.n(v),y=n(20),E=n(21),b=function(){function e(){Object(y.a)(this,e)}return Object(E.a)(e,null,[{key:"fixStyleRanges",value:function(e){var t=[];if(e&&e.length>0){for(var n=[],r=0;r<e.length;r++)parseInt(e[r].length)>0&&n.push(e[r]);e=n;var o=Object.assign({},e[0]);t.push(o);for(var i=1;i<e.length;i++)!parseInt(e[i].length)>0||(e[i].fontFamily!==o.fontFamily||e[i].fontSize!==o.fontSize||e[i].fontStyle!==o.fontStyle||e[i].textScript!==o.textScript||e[i].textTransform!==o.textTransform||e[i].strikethrough!==o.strikethrough||e[i].color!==o.color||e[i].underline!==o.underline?(o=Object.assign({},e[i]),t.push(o)):o.length+=parseInt(e[i].length));t.length<2&&(t=[])}return t}}]),e}(),A=function(e){return e.split(",").filter((function(e){return 0!==e.trim().length}))},I=function(e){var t,n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=[],o=Object(i.a)(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;n.test(a.trim())||r.push(a)}}catch(c){o.e(c)}finally{o.f()}return r},O=function(e,t,n,r){var o=e.screens.find((function(e){return e.guid===t})),a=[];if(o&&o.children)if(n){var c,u=Object(i.a)(o.children);try{for(u.s();!(c=u.n()).done;){var s=c.value;(s.name?s.name:J(s))===n&&(a=T(s,r))}}catch(d){u.e(d)}finally{u.f()}}else a=T(o,r);return a},T=function e(t,n){var r,o=[],a=Object(i.a)(t.children);try{for(a.s();!(r=a.n()).done;){var c=r.value;if(c.children){var u=n[J(c)].name;o.push({guid:J(c),elementType:"group",name:u}),o=o.concat(e(c,n))}else o.push({guid:J(c),elementType:"element",name:n[J(c)].name})}}catch(s){a.e(s)}finally{a.f()}return o},j=function(e,t){return!!e&&"text"===e.getElement(t).getAttribute("data-elementType")},S=function(e,t,n){if(!n)return!1;var r=e.getElement(t);if(!r)return!1;var o,a=n.filter((function(e){return"input"===e.type})),c=!1,u=Object(i.a)(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,d=e.getElement(s.guid);if(d&&P(d,r)){c=!0;break}}}catch(l){u.e(l)}finally{u.f()}return c},w=function(e,t,n,r){for(var o=e.getElement(t),i=!1,a=0,c=Object.values(e.getAllElements());a<c.length;a++){var u=c[a];if("text"===u.getAttribute("data-elementType")&&!_(u,n,r)&&P(o,u)){i=!0;break}}return i},_=function(e,t,n){if(!t||!n)return!1;var r=!t.find((function(t){return t.guid===J(e)&&["click"].includes(t.type)}));if(!r)return!1;var o=n.filter((function(e){return"url"===e.type&&r.actions&&r.actions.includes(e.id)}));return o&&o.length>0},P=function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return 0!==n.width&&0!==r.height&&0!==r.width&&0!==r.height&&(r.left>=n.left&&r.left<=n.left+n.width&&r.left+r.width>=n.left&&r.left+r.width<=n.left+n.width&&r.top>=n.top&&r.top<=n.top+n.height&&r.top+r.height>=n.top&&r.top+r.height<=n.top+n.height)},x=function(e,t,n,r){var o,a=null,c=null,u=Object(i.a)(e);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(s.key===n){if(a=t.screens[s.index],r&&(c=N(a,r))&&c.styleRanges){var d=b.fixStyleRanges(c.styleRanges);(c=Object.assign({},c)).styleRanges=d}break}}}catch(l){u.e(l)}finally{u.f()}return c},N=function e(t,n){if(J(t)===n)return t;if(!t.children)return J(t)===n?t:null;var r,o=Object(i.a)(t.children);try{for(o.s();!(r=o.n()).done;){var a=e(r.value,n);if(null!==a&&void 0!==a)return a}}catch(c){o.e(c)}finally{o.f()}},D=function(e,t,n,r){var o=x(e,t,n,r),i=[];if(o&&"RepeatGrid"===o.type&&o.children&&o.children.length>0)for(var a=o.children[0],c=a&&a.children?a.children.length:0,u=0;u<c;u++)i.push(a.children[u].name.replace("\n",""));return i},R=function(e){var t=null;return e.eventTimelines&&e.selectedEventTimeline&&(t=e.eventTimelines.find((function(t){return t.id===e.selectedEventTimeline}))),t},C=function(e){var t=null,n=R(e);return n&&n.actions&&n.actions.length>0&&(t=e.actions.filter((function(e){return n.actions.includes(e.id)}))),t},F=function(e){var t=null,n=R(e);return n&&n.previousEventForPreview&&(t=e.eventTimelines.filter((function(e){return e.id===n.previousEventForPreview}))[0]),t},L=function(e){return e.selectedAction&&e.actions?e.actions.find((function(t){return t.id===e.selectedAction})):null},k=function(e){var t=[],n=R(e),r=e.selectedAction;if(n&&n.actions&&n.actions.length>0){var o,a=Object(i.a)(e.actions);try{for(a.s();!(o=a.n()).done;){var c=o.value;n.actions.includes(c.id)&&c.id!==r&&"tween"===c.type&&!U(e,c.id,r)&&t.push(c)}}catch(u){a.e(u)}finally{a.f()}}return t},U=function(e,t,n){for(var r=e.actions.find((function(e){return e.id===t})),o=r.startAfter,i=!1,a=function(e){return e.id===o};o;){if(o===n){i=!0;break}r=e.actions.find(a),o=r.startAfter}return i},M=function(e,t){var n=[];if(e&&t){var r=e.scene.get(t.scene);if(r){var o=r.getSequenceMetadata(),a=Object.keys(o);if(o&&a.length>0){var c,u=Object(i.a)(a);try{for(u.s();!(c=u.n()).done;)for(var s=c.value,d=Object.keys(o[s]),l=0,f=d;l<f.length;l++){var p=f[l];n.push({frameKey:p,frames:o[s][p].frames})}}catch(g){u.e(g)}finally{u.f()}}}}return n},B=function(e,t,n,r){var o=e.screens.find((function(e){return e.guid===t}));return H(o,n,r)},W=function(e,t,n){return H(e.screens[0],t,n)},H=function(e,t,n){var r=e;if(n){var o,a=Object(i.a)(r.children);try{for(a.s();!(o=a.n()).done;){var c=o.value;if((c.name?c.name:J(c))===n){r=c;break}}}catch(s){a.e(s)}finally{a.f()}}var u=q(r,t);return!u&&r.children.length>0&&(u=J(r.children[0])),u},q=function e(t,n){var r=null,o=!!(n&&n.length>0)&&n.find((function(e){return e.name===(t.name?t.name:J(t))}));if(t.visible||o)if(t.children){var a,c=Object(i.a)(t.children);try{for(c.s();!(a=c.n()).done;){if(r=e(a.value,n))break}}catch(u){c.e(u)}finally{c.f()}}else r=J(t);return r},G=function(e,t,n){if(!n||0===n.length)return null;var r=n.filter((function(e){return"page"===e.type}));if(r){var o,a=Object(i.a)(r);try{for(a.s();!(o=a.n()).done;){var c=o.value,u=e.getGroup(c.guid);if(u||(u=e.getElement(c.guid)),V(u,t))return c}}catch(s){a.e(s)}finally{a.f()}}return null},V=function e(t,n){if(t.getAttribute("data-guid")===n)return!0;if(t.children){var r,o=Object(i.a)(t.children);try{for(o.s();!(r=o.n()).done;){if(e(r.value,n))return!0}}catch(a){o.e(a)}finally{o.f()}}},Y=function(e,t){var n,r=e.screens[0],o="",a=Object(i.a)(r.children);try{for(a.s();!(n=a.n()).done;){var c=n.value;K(c,t)&&(o=c.name?c.name:c.guid)}}catch(u){a.e(u)}finally{a.f()}return o},X=function(e,t){var n,r="",o=Object(i.a)(e.screens);try{for(o.s();!(n=o.n()).done;){var a=n.value;K(a,t)&&(r=J(a))}}catch(c){o.e(c)}finally{o.f()}return r},K=function e(t,n){if(J(t)===n)return!0;if(t.children){var r,o=Object(i.a)(t.children);try{for(o.s();!(r=o.n()).done;){if(e(r.value,n))return!0}}catch(a){o.e(a)}finally{o.f()}}},z=function(e,t,n){var r=e.find((function(e){return e.name===t}));return r?r.minWidth>=992?n?h.a:m.a:r.minWidth>=768?n?s.a:c.a:n?p.a:l.a:l.a},J=function(e){return e.name?e["ext-guid"]:e.guid},Q=function(e,t,n){var r,o=null,a=[],c=Object(i.a)(e);try{for(c.s();!(r=c.n()).done;){var u=r.value;o=t.screens[u.index],n&&(a=a.concat(Z(o,n,u.key)))}}catch(s){c.e(s)}finally{c.f()}return a},Z=function e(t,n,r){var o=[];if(t.children){var a,c=Object(i.a)(t.children);try{for(c.s();!(a=c.n()).done;){var u=e(a.value,n,r);o=o.concat(u)}}catch(s){c.e(s)}finally{c.f()}}else t.imageFileName===n&&o.push({def:t,scene:r});return o},$=function(e,t,n){if(!t)return null;var r=!!t&&"website"===t.game_type;if(e){var a,c=e.screens,u=[],s=Object(i.a)(c.entries());try{for(s.s();!(a=s.n()).done;){var d=Object(o.a)(a.value,2),l=d[0],f=d[1],p=f.guid,g=f.className+"Scene";r&&"Artboards"===f.className&&(p="Page",g="questai_custom"),u.push({name:p,key:g,index:l})}}catch(m){s.e(m)}finally{s.f()}return u.push({name:"Header Script",key:"HeaderScript",index:u.length}),u}return null},ee=function(e){if(!e)return e;var t=e.filter((function(e){return"error"===e.type})),n=e.filter((function(e){return"warning"===e.type})),o=e.filter((function(e){return"info"===e.type})),i=function(e){return e.fieldId.startsWith("TL#")?Object(r.a)(Object(r.a)({},e),{},{location:"action"}):e.fieldId.startsWith("TLP#")?Object(r.a)(Object(r.a)({},e),{},{location:"timeline"}):e.fieldId.startsWith("ED")?Object(r.a)(Object(r.a)({},e),{},{location:"editor"}):e.fieldId.startsWith("PJNM")?Object(r.a)(Object(r.a)({},e),{},{location:"projectName"}):Object(r.a)(Object(r.a)({},e),{},{location:"design"})};t=t.map(i),n=n.map(i),o=o.map(i);var a=function(e,t){return e.location===t.location?0:"projectName"===e.location?-1:"timeline"===e.location?"projectName"===t.location?1:-1:"action"===e.location?"projectName"===t.location||"timeline"===t.location?1:-1:"editor"===e.location&&("projectName"===t.location||"timeline"===t.location||"action"===t.location)?1:-1};return t.sort(a),n.sort(a),o.sort(a),t.concat(n).concat(o)},te=function(e){return e.split(",").filter((function(e){return 0!==e.trim().length}))},ne=function(e){var t,n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=[],o=Object(i.a)(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;n.test(a.trim())||r.push(a)}}catch(c){o.e(c)}finally{o.f()}return r},re=function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];t["".concat(o,".js")]=e[o]}return t},oe=function(e,t){var n="";if(e&&t){var r=window.location.hostname,o="";o=r.startsWith("localhost")?"http://localhost:3001":"https://"+r;var i=t.previewKey;n=o+"/platform/preview/"+e.account_id+"/"+t.id+"/"+i}return n}}},[[78,8,12]]]);
//# sourceMappingURL=main.9f6b0e99.chunk.js.map